/*! For license information please see train.js.LICENSE.txt */
!function(){var e,t={2806:function(e,t,n){"use strict";var r=n(571),i=n(8997),a=n(8647),o=n.n(a),s=n(5450),c=(n(6916),n(5532));function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(9638),n(4039),n(8818),n(7654),window.bootstrap=c,n(5983);var h={transitionTime:200,duration:1e3,fadeCondition:"auto"};function u(e,t){null==t&&(t={});var n=l(l({},h),t),r=$(e);if(r.hasClass("highlight"))r.removeClass("highlight"),r.addClass("no-highlight"),setTimeout((function(){u(e)}),n.transitionTime);else{r.removeClass("no-highlight"),r.addClass("highlight");var i=function(){r.removeClass("highlight"),r.addClass("no-highlight"),setTimeout((function(){r.removeClass("no-highlight")}),n.transitionTime)};"auto"===n.fadeCondition?setTimeout(i,n.duration):"focus"===n.fadeCondition&&r.on("focus",(function(){i()}))}}function p(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise((function(r,i){$(".alert-ui").show(),$(".alert-ui-fn_close").one("click",(function(){r()})),$(".alert-ui-fn_close1").one("click",(function(){r()})),$(".alert-ui-fn_close_dbtn").one("click",(function(){r()})),e?($(".alert-ui .alert-ui-title").text(e),$(".alert-ui .alert-ui-header").show()):($(".alert-ui .alert-ui-title").text(""),$(".alert-ui .alert-ui-header").hide()),n?$(".alert-ui-content").addClass("alert-ui-message"):$(".alert-ui-content").removeClass("alert-ui-message"),$(".alert-ui .alert-ui-main").html(t)}))}function f(e,t){$(".alert-ui_dbtn").show(),e?($(".alert-ui_dbtn .alert-ui-title").text(e),$(".alert-ui_dbtn .alert-ui-header").show()):($(".alert-ui_dbtn .alert-ui-title").text(""),$(".alert-ui_dbtn .alert-ui-header").hide()),$(".alert-ui_dbtn .alert-ui-main").text(t)}$(".alert-ui-fn_close").on("click",(function(){$(this).closest(".alert-ui").hide()})),$(".alert-ui-fn_close1").on("click",(function(){$(this).closest(".alert-ui1").hide()})),$(".alert-ui-fn_close_dbtn").on("click",(function(){$(this).closest(".alert-ui_dbtn").hide()}));var g=n(526),_=n.n(g),m=n(9958),v=n.n(m),b=n(3877),y=n.n(b),k=n(3379),w=n.n(k),j=n(3380),x=n.n(j),T=n(569),S=n.n(T),C=n(3565),O=n.n(C),E=n(9216),z=n.n(E),A=n(4589),P=n.n(A),N=n(7453),L={};L.styleTagTransform=P(),L.setAttributes=O(),L.insert=S().bind(null,"head"),L.domAPI=x(),L.insertStyleElement=z(),w()(N.Z,L),N.Z&&N.Z.locals&&N.Z.locals,n(7568),n(5250),n(203);var M=n(1106),D=n.n(M),I=n(7290),F=n.n(I),B=n(7226);function H(){return(H=(0,i.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,B.LK)("/config");case 2:R(e.sent.language||K(),t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e,t){localStorage.setItem("locale",e),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=K();_().locale(t),$("*").each((function(t,n){Z(n,e)}))}(t)}function K(){var e=localStorage.getItem("locale");return null!=e&&e.indexOf("-")>=0&&(e=e.substring(0,e.indexOf("-"))),["en","zh"].indexOf(e)<0&&(e=navigator.language||navigator.browserLanguage||navigator.userLanguage),null!=e&&e.indexOf("-")>=0&&(e=e.substring(0,e.indexOf("-"))),e||"en"}function U(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(arguments.length>1)for(var i=0;i<n.length;i++)e=e.replace(new RegExp("\\{"+i+"\\}","gi"),(n[i]||"").toString());return e}_().extend(D()),_().extend(F());var X={greetings:{en:"Hello {0}!",zh:"{0} 您好！"},model:{en:"AI Engine",zh:"AI引擎"},expiry:{en:"Expiry",zh:"过期时间"},action:{en:"Action",zh:"动作"},login:{en:"Login",zh:"登录"},logout:{en:"Logout",zh:"登出"},enterpriseAccount:{en:"Enterprise Account",zh:"企业账号"},home:{en:"Home",zh:"主页"},selfTrain:{en:"Training AI Engine",zh:"AI引擎训练"},settings:{en:"Settings",zh:"设置"},codeSearch:{en:"Code Search",zh:"代码搜索"},support:{en:"Support",zh:"支持"},about:{en:"About",zh:"关于"},language:{en:"Language",zh:"语言"},port:{en:"Port",zh:"端口"},save:{en:"Save",zh:"保存"},indexingStatus:{en:"Indexing status:",zh:"索引状态："},expire:{en:"Expire {0}",zh:"将于{0}过期"},expired:{en:"Expired {0}",zh:"已经于{0}过期"},never:{en:"Never",zh:"不会过期"},purchaseExtend:{en:"Purchase/Extend Trial",zh:"购买/延长试用期限"},byNow:{en:"Buy now",zh:"立即购买"},notowned:{en:"Not Owned",zh:"未拥有"},trynow:{en:"Try it now",zh:"现在试用"},downloading:{en:"Downloading {0}%",zh:"下载中 {0}%"},download:{en:"Download",zh:"下载"},startDownloading:{en:"Starting download...",zh:"准备下载..."},header_statistics:{en:"Statistics",zh:"统计"},reset:{en:"reset",zh:"重置"},requires_login:{en:"AiXcoder Enterprise requires logging in",zh:"AiXcoder企业版需要登录"},username:{en:"Username",zh:"用户名"},password:{en:"Password",zh:"密码"},loginFailedTitle:{en:"Log in failed",zh:"登录失败"},userLoginError4009:{en:"The number of the activated machines by this account have reached the limit. You can deactivate unused machiens in the account management portal.",zh:"在此账号上登录的机器数量已经达到了上限。您可以在账户管理平台解绑不使用的机器。"},userLoginError3000:{en:"The license is invalid, please contact administrator.",zh:"无效的授权信息，请联系管理员。"},loginFailed:{en:"Log in failed: {0}",zh:"登录失败：{0}"},logoutFailed:{en:"Log out failed: {0}",zh:"登出失败：{0}"},logged_in_as:{en:"Enterprise User Logged In As:",zh:"企业用户登录为："},enterpriseAuthorizeEndpoint:{en:"Manage account...",zh:"管理账号..."},QuestionFeedback:{en:"Question feedback",zh:"问题反馈"},theLogFile:{en:"We are going to send this log file to aiXcoder:",zh:"我们将把这个日志文件发送给aiXcoder服务器："},send:{en:"Send",zh:"发送"},sending:{en:"Sending",zh:"发送中"},sendSuccess:{en:"Send successfully",zh:"发送成功"},sendFailed:{en:"Send failed",zh:"发送失败"},contact:{en:"Contact (E-mail/Skype/etc., optional): ",zh:"联系方式（E-mail/QQ/微信等，可选）："},comment:{en:'<span style="color: red;">*</span>Please describe what went wrong (if you want to show screenshots or screen recording, please send them as attachments in E-mail to support@aixcoder.com):',zh:'<span style="color: red;">*</span>请描述一下出问题的地方（如果需要附图或录屏，请作为附件发送邮件至support@aixcoder.com）：'},trainingIntroduction:{en:"AiXcoder local training service is a paid feature available on aiXcoder professional edition.<br>Upgrade now to use the unlimited features of local training service.",zh:"AiXcoder本地训练服务是一项付费功能。<br>升级为专业版之后可以使用不受限制的完整本地训练功能。"},localTrainingService:{en:"Personalized AI Engine Customization Service",zh:"个性化智能引擎定制服务"},startTrial:{en:"Start Free Trial...",zh:"开始免费试用..."},extendLicense:{en:"Extend License",zh:"续期授权"},"extendLicense...":{en:"Extend License...",zh:"续期授权..."},purchaseLicense:{en:"Purchase License...",zh:"购买授权..."},alreadyHaveActivationCode:{en:"I already have an activation code",zh:"我已经有了授权码."},enterUsername:{en:"Enter username:",zh:"用户名："},enterActivationCode:{en:"Enter activation code:",zh:"授权码："},forgetCode:{en:"I forgot my username or activation code...",zh:"我忘记了用户名或授权码..."},activate:{en:"Activate",zh:"激活"},error:{en:"An error occurred: {0}",zh:"发生了错误：{0}"},purchaseDoneError:{en:'<p>An error occurred: {0}.</p><p>If you have finished the purchase, please open <br><a target="_blank" href="https://aixcoder.com/en/#/OrderList">https://aixcoder.com/en/#/OrderList</a><br> and click "Offline Activate", and input the acquired user name and activation code.</p>{1}',zh:'<p>发生了错误：{0}。</p><p>如果您已经完成支付，请打开 <br><a target="_blank" href="https://aixcoder.com/#/OrderList">https://aixcoder.com/#/OrderList</a><br> 然后点击下方的“离线激活”，并输入获得的用户名和激活码。</p>{1}'},trialEnded:{en:"The trial has ended.",zh:"试用已经结束"},trialEndedAndBy:{en:"The trial has ended. If you need to continue to use it, please purchase the license.",zh:"试用已经结束，如需继续使用请购买授权。"},licensedTo:{en:"Licensed to {0}, expire {1}",zh:"授权给{0}，过期于{1}"},autoReload:{en:"Auto Reload",zh:"自动刷新"},project:{en:"The name of the AI engine (project name is recommended to use)",zh:"引擎名称（建议使用项目名称）"},project1:{en:"The name of the AI engine (project name is recommended to use)",zh:"智能引擎名称（建议使用所在项目的名称）"},directory:{en:"The directory to use this AI engine for",zh:"使用该引擎的项目目录"},dataProjectDir:{en:"The directory of files which was used to train AI engine with",zh:"已学习代码文件所在目录"},date:{en:"Date",zh:"日期"},status:{en:"Status",zh:"状态"},noData:{en:"No data",zh:"暂无数据"},cardTitleState1:{en:"Please confirm the information below",zh:"请确认本次训练任务"},cardTitleState2:{en:"Customize the AI engine with specific code",zh:"用任意指定代码，定制个性化智能引擎"},cardTitleStateImport:{en:"Import a Shared Model",zh:"导入共享模型"},newProjectName:{en:"Name of the AI engine (project name is used by default):",zh:"智能引擎的名称（默认使用项目名称）："},newProjectName2:{en:"Please specify a name for your customized AI engine:",zh:"请为您定制的智能引擎指定一个名称："},newProjectDir:{en:"The default directory to enable the trained AI engine:",zh:"该智能引擎的默认启用目录："},newProjectDir2:{en:"Specify which directory you want to enable the AI engine for:",zh:"请指明您要为“哪个文件目录下的项目”启用该引擎："},newProjectDir2Server:{en:"Specify project name/Git/SVN URL",zh:"请指明启用该引擎的项目名/Git/SVN的URL："},dataProjectDir1:{en:"The code files in this directory will be used for training:",zh:"将对该目录下的代码文件进行训练："},dataProjectDir2:{en:"Please select the directory with the code to train with:",zh:"请选择“要想训练的代码”所在的文件目录："},newProjectLanguage:{en:"Which programming language you want aiXcoder to train with in this directory:",zh:"您要对该目录中的哪种编程语言的代码进行训练："},selectFileDescription:{en:"Selected files:",zh:"已选择的代码文件："},newSelectFile:{en:"Select which files you want aiXcoder to train with in the above directory:",zh:"请选择要对上述目录中的哪些代码文件进行训练："},toTrainReadyErr:{en:"Some required fields are missing!",zh:"您有必填项未填写！"},notSelectFileErr:{en:"You did not select the files to train with!",zh:"您未添加要训练的代码文件！"},train:{en:"Confirm",zh:"确认"},selectTrainingFiles:{en:"Select Training Files...",zh:"添加要训练的代码文件..."},selectFiles:{en:"Click here to select the files for training",zh:"点击这里添加要训练的代码文件"},checkingLicense:{en:"Checking license...",zh:"检查授权..."},purchaseLink:{en:"<b style=\"color:red;\">Please do not close this window until you finish the payment.</b><br>If the purchase page does not open, you can click <a id='purchase-link' target='blank'>here</a>.",zh:"<b style=\"color:red;\">在支付完成前，请不要关闭这个页面</b><br>如果购买页面没有打开，您可以点击 <a id='purchase-link' target='blank'>这里</a>。"},afterFinish:{en:'When you have finished the payment, click "Done".',zh:"当您完成支付之后，请点击“完成”。"},done:{en:"Done",zh:"完成"},offlinePurchase:{en:"Offline Activate",zh:"离线激活"},cancel:{en:"Cancel",zh:"取消"},delete:{en:"Delete",zh:"删除"},lastFetched:{en:"Last refresh: {0}",zh:"最后更新时间：{0}"},trainDeleteConfirm:{en:"Are you sure to delete the AI engine for this project: {0}?",zh:"您确定要删除这个项目的AI引擎吗：{0}？"},editTitle:{en:"Modify model information",zh:"修改模型信息"},edit:{en:"Modify...",zh:"修改..."},localModelList:{en:"Trained AI Engines",zh:"已经训练的AI引擎"},trainNewModel:{en:"Advanced features: Customize personalized AI engine with specified code...",zh:"高级功能：用任意指定代码，定制个性化智能引擎..."},browse:{en:"Browse...",zh:"浏览..."},choose:{en:"Choose",zh:"选择"},licenseErrornull:{en:'Unexpected error occured. This is possibly due to your CPU not supporting AVX instruction set. <span t="AVXNotSupportedFix"></span>',zh:'未知的错误。这可能是由于您的CPU不支持AVX指令集所致。<span t="AVXNotSupportedFix"></span>'},licenseError1:{en:"Enterprise license has expired",zh:"企业授权已过期"},licenseError2:{en:"Personal license verification failed",zh:"个人授权认证失败"},licenseError3:{en:"Personal license has expired",zh:"个人授权已过期"},licenseError4:{en:"No license file found",zh:"没有找到授权信息"},"licenseError-2":{en:"Cannot reach aiXcoder server. AiXcoder professional trial requires internet access for validation. If you computer can connect to internet, please retry later.",zh:"无法连接上aiXcoder服务器。aiXcoder专业版试用需要联网校验。如果您的电脑可以连接互联网，请稍后重试。"},offlineActivationInstructions:{en:'<p>If your computer cannot connect to internet, or the openned web page cannot load normally, you can open <br>{0}<br> on another computer with internet connectivity, or scan the QRCode below, then click "Offline Activate", and input the acquired user name and activation code.</p><img src="{1}"/>',zh:'<p>如果您的电脑无法联网，弹出的页面无法正常加载，您可以在一台联网的机器上打开 <br>{0}<br> ，或者用手机扫描以下二维码，然后点击下方的“离线激活”，并输入获得的用户名和激活码。</p><img src="{1}"/>'},licenseErrorEnterprise:{en:'Failed to find a valid enterprise license file. Please login your enterprise account <a href="/">here</a>.',zh:'没有找到有效的企业版授权文件，请<a href="/">在这里</a>登录企业账号。'},licenseTo:{en:"Licensed to {0}, expires on {1}, {2}",zh:"授权给{0}，于{1}过期，{2}"},"too many source files":{en:"Only counts a part of the source files since they are many.",zh:"源文件较多，仅统计了部分"},"too many files":{en:"Only counts a part of the files since files are many.",zh:"文件较多，仅统计了部分"},"no source code file is found":{en:"Cannot find any source code file in this folder.",zh:"没有在这个目录找到任何源代码文件。"},"folder does not exist":{en:"The folder does not exist.",zh:"这个目录不存在。"},restartTraining:{en:"Restart Training...",zh:"重启训练..."},loadingTrainFileStatus:{en:'Listing files to train...<i class="fas fa-spinner fa-pulse"></i>',zh:'正在列出待训练的文件...<i class="fas fa-spinner fa-pulse"></i>'},trainFileStatus:{en:"Found {0} {1} files to train",zh:"找到{0}个待训练的{1}文件"},trainFileTooManyStatus:{en:"Found many {0} files to train",zh:"找到很多待训练的{0}文件"},paused:{en:"Paused",zh:"已暂停"},stopped:{en:"Stopped",zh:"已终止"},preparing:{en:"Preparing {0} <br />Remaining {1} <br />Elapsed {2}",zh:"正在准备 {0} <br />剩余时间 {1} <br />已用时 {2}"},training:{en:"Training {0} <br />Remaining {1} <br />Elapsed {2}",zh:"正在训练 {0} <br />剩余时间 {1} <br />已用时 {2}"},validating:{en:"Validating {0} <br />Remaining {1} <br />Elapsed {2}",zh:"正在校验 {0} <br />剩余时间 {1} <br />已用时 {2}"},downloadingNecessaryFiles:{en:"Downloading necessary files{0} {1} <br />Remaining {2} <br />Elapsed {3}",zh:"正在下载必要的文件{0} {1} <br />剩余时间 {2} <br />已用时 {3}"},downloadingModel:{en:"Downloading model {0} Remaining {1} Elapsed {2}",zh:"正在下载模型 {0} 剩余时间 {1} 已用时 {2}"},uploadingModel:{en:"Uploading model {0} Remaining {1} Elapsed {2}",zh:"正在上传模型 {0} 剩余时间 {1} 已用时 {2}"},finished:{en:"Finished",zh:"已完成"},failed:{en:"Failed",zh:"失败了"},resume:{en:"Resume",zh:"继续"},stop:{en:"Stop",zh:"终止"},pause:{en:"Pause",zh:"暂停"},cannotOpenFolder:{en:"Cannot open folder {0}",zh:"无法打开路径 {0}"},noTrainingFiles:{en:"Cannot find any {1} source file in {0}",zh:"没有在 {0} 里找到任何 {1} 的源代码"},dontHaveActivationCode:{en:"I don't have an activation code yet",zh:"我现在没有授权码"},doHaveActivationCode:{en:"I already have an activation code",zh:"我有授权码"},doHaveNewActivationCode:{en:"I have a new activation code",zh:"我有新的授权码"},back:{en:"Go back",zh:"返回"},sendEmailUrl:{en:"https://aixcoder.com/en/#/OrderList",zh:"https://aixcoder.com/#/OrderList"},loginOrderList:{en:"Previous purchases...",zh:"过往的购买记录..."},activeTrain:{en:"Start traininig now",zh:"立即启动训练任务"},active:{en:"Active",zh:"已启用"},disabled:{en:"Disabled",zh:"已禁用"},checkAll:{en:"Check all",zh:"全选"},clearAll:{en:"Clear all",zh:"全不选"},equProDir:{en:"<i>Same as the project directory</i>",zh:"<i>与项目目录相同</i>"},importedProDir:{en:"<i>Imported</i>",zh:"<i>导入的模型</i>"},updateProjInfoError3:{en:"New project directory conflicts an existing one.",zh:"新项目路径和已有的AI引擎冲突。"},updateProjInfoError4:{en:"Target directory does not exist. Are you sure to use this directory?",zh:"目标目录不存在。您确定要使用这个项目吗？"},updateProjInfoError5:{en:"No {0} source files are found. Are you sure to use this directory?",zh:"没有找到{0}语言的代码文件。您确定要使用这个项目吗？"},readAndAgreeAgreement:{en:"I have read and agree the <a target='_blank' href='https://www.aixcoder.com/help/agreement_en.html'>End-User License Agreement</a>.",zh:"我已阅读并同意<a target='_blank' href='https://www.aixcoder.com/help/agreement.html'>《最终用户使用协议》</a>。"},editProjectNameTooltip:{en:"You can change the displayed name here.",zh:"在这里可以修改用于显示的名称。"},editDirectoryTooltip:{en:"Trained AI engines match projects by project directories. If you have moved or renamed the project on disk, you can modify this path accordingly. ",zh:"训练好的AI引擎和项目之间用项目目录对应起来。如果您移动或改名了项目路径，您可以修改这个项目以匹配新的路径。否则请不要修改它。"},trainProjectDirTooltip:{en:"When you use aiXcoder to edit items in this directory, the engine is enabled by default.",zh:"当您使用aiXcoder对这个目录下的项目进行编辑时，这个引擎将被默认启用。"},dataProjectDirTooltip:{en:"AiXcoder will train a new AI engine using the code inside this directory. And then this new AI engine will be automatically loaded when developing projects inside the Project Directory",zh:"AiXcoder会使用这个目录中的代码训练成一个新的AI引擎。然后在在开发项目目录中的项目时，这个新AI引擎会被自动启用。"},trainProjectNameTooltip:{en:"The name is used to identify the AI engine.",zh:"智能引擎的名称起到标识的作用。"},trainProjectLanguageTooltip:{en:"AiXcoder's AI engines are language-dependent. If this project contains multiple languages, you need to train a AI engine for each language separately.",zh:"AiXcoder的AI引擎是编程语言相关的。如果这个项目包含多种编程语言，您需要对每一种语言分别训练。"},fileNotExist:{en:"A required file does not exist",zh:"一个必要文件不存在"},fileNotExistFix:{en:"You can try reinstalling the local service. Please refer to this for detailed instructions: https://github.com/aixcoder-plugin/doc/wiki/Troubleshooting#manual-server-installation",zh:"您可以尝试重新安装本地服务。具体流程可以参考这里：https://github.com/aixcoder-plugin/doc/wiki/Troubleshooting_CN#%E6%89%8B%E5%8A%A8%E5%AE%89%E8%A3%85%E6%9C%AC%E5%9C%B0%E6%9C%8D%E5%8A%A1"},fileHashMismatch:{en:"A file is corrupted",zh:"一个文件内容不正确"},fileHashMismatchFix:{en:"You can try reinstalling the local service. Please refer to this for detailed instructions: https://github.com/aixcoder-plugin/doc/wiki/Troubleshooting#manual-server-installation",zh:"您可以尝试重新安装本地服务。具体流程可以参考这里：https://github.com/aixcoder-plugin/doc/wiki/Troubleshooting_CN#%E6%89%8B%E5%8A%A8%E5%AE%89%E8%A3%85%E6%9C%AC%E5%9C%B0%E6%9C%8D%E5%8A%A1"},AVXNotSupported:{en:"Your CPU does not support AVX instructions",zh:"您的CPU不支持AVX指令集"},AVXNotSupportedFix:{en:"AiXcoder can only run on a computer with <a href='https://en.wikipedia.org/wiki/Advanced_Vector_Extensions#CPUs_with_AVX'>AVX-enabled CPUs</a>.",zh:"AiXcoder只能在<a href='https://en.wikipedia.org/wiki/Advanced_Vector_Extensions#CPUs_with_AVX'>支持AVX的CPU</a>上运行。"},not64bit:{en:"Your operating system is not 64-bit",zh:"您使用的不是64位的操作系统"},not64bitFix:{en:"AiXcoder can only run on a 64-bit computer.",zh:"AiXcoder只能在64位的操作系统上运行。"},trainFileHint:{en:"Projects often contain source files that should not be used in training. Those are usually auto-generated, copied from other places, or test data, etc.. Please only mark the hand-written source files.",zh:"项目经常包含一些不应该用于训练的代码文件。它们通常是自动生成的，从其他来源复制的，或测试用文件等等。请只勾选您需要手写的代码文件。"},gitIgnoreHint:{en:"AiXcoder respects Git ignore files (.gitignore). You can also use \".aixignore\" to specify more ignore patterns. <a target='_blank' href='https://github.com/aixcoder-plugin/doc/wiki/LocalTrainUsage_CN'>Learn more</a>",zh:"AiXcoder会识别Git忽略文件（.gitignore）。您也可以使用\".aixignore\"来指定更多的忽略模式。<a target='_blank' href='https://github.com/aixcoder-plugin/doc/wiki/LocalTrainUsage_CN#%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8%E5%BF%BD%E7%95%A5%E6%96%87%E4%BB%B6%E8%BF%87%E6%BB%A4%E9%9C%80%E8%A6%81%E8%AE%AD%E7%BB%83%E7%9A%84%E6%96%87%E4%BB%B6'>了解更多</a>"},guessProjectLanguageStatusWarning:{en:"This seems like a project with multiple languages. Please choose the language you want to train with this time.<br>",zh:"这个项目似乎包含多个编程语言。请选择您这次想要训练的语言。<br>"},clickHereToTrainNewModel:{en:"Click here to customize personalized AI engine with specified code",zh:"点击这里用任意指定代码，定制个性化智能引擎"},selectProjectDir:{en:"Select a project folder here",zh:"在这里选择项目路径"},selectLanguage:{en:"Select a language here",zh:"在这里选择项目语言"},startTraining:{en:"Start training",zh:"开始训练"},previousStep:{en:"Previous",zh:"上一步"},nextStep:{en:"Next",zh:"下一步"},skip:{en:"Skip",zh:"跳过"},showGuide:{en:"Show guide",zh:"显示向导"},trainItNow:{en:"Quickly confirm and start the training",zh:"快速确认并启动训练任务"},"filesCount.etc":{en:"{0}, etc. {1} files in total",zh:"{0} 等 {1} 个文件"},filesCount:{en:"{0}, {1} files in total",zh:"{0} 共 {1} 个文件"},manyFilesSelected:{en:"Many files are selected.",zh:"选择了许多文件。"},toBeTrained:{en:"To be trained",zh:"待训练"},"loading...":{en:"loading...",zh:"正在加载..."},"The project is not being trained.":{en:"The project is not being trained.",zh:"这个项目目前没有被训练。"},"The project is already being trained.":{en:"The project is already being trained.",zh:"这个项目已经在训练中了。"},"no training file found":{en:"No suitable source files were found.",zh:"没有找到可用于训练的源代码文件。"},"Training limit exceeded":{en:"Training limit has been exceeded.",zh:"已达到训练模型个数上限。"},configureAdaptive:{en:"Configure Adaptive Learning Data",zh:"配置自适应学习数据"},load:{en:"Continue from the previously trained engine",zh:"从上次训练的结果继续"},auto:{en:"Auto",zh:"自动"},manual:{en:"Train a new engine",zh:"训练全新的引擎"},"load-traintype-warning":{en:'Continuing from the previously trained engine might cause <b x-title="overfitting-explain">overfitting</b>. Please limit the total epoches to a reasonable number.',zh:'从上次训练的结果继续训练可能会导致<b x-title="overfitting-explain">过拟合</b>现象发生。请将总训练轮数控制在合理的范围内。'},"overfitting-explain":{en:"When a machine learning model overfits, its performance decreases on non-traininig data while the performance increases otherwise. For example, you might see the AI engine provides less accurate results overall but is exceptionally accurate when copying existing code patterns when the AI engine overfits. It is usually a bad sign but whether it is a desired behavior depends on you.",zh:"当一个机器学习模型过拟合时，它在非训练数据上的表现会降低，同时在训练数据上的表现会提升。比如说，当AI引擎过拟合时，你可能发现AI引擎提供的结果总体来说较之前更加不准确了，但是更能复制已有的代码。这通常是一个坏的表现，但它是否是你所期望的取决于你的具体使用情景。"},"manual-train-epoches":{en:"Epoches",zh:"轮数"},chooseTrainType:{en:"Training Type:",zh:"选择训练类型："},clickToShowLog:{en:"Click to show log",zh:"点击显示训练日志"},refresh:{en:"Refresh",zh:"刷新"},close:{en:"Close",zh:"关闭"},"train-epoches-warning-too-small":{en:"The epoches should not be lower than 1.<br>",zh:"训练轮数不能低于1。<br>"},"train-epoches-warning-too-large":{en:"The epoches being too many might lead to undesired overfitting, and longer training time.<br>",zh:"训练轮数过高可能会导致严重的过拟合现象，以及增加训练时间。<br>"},"train-epoches-warning-over-large":{en:"The epoches should not be higher than 20.<br>",zh:"训练轮数不能高于20。<br>"},noTrainFilesSelected:{en:"No files are selected for training.",zh:"没有选择训练用的文件"},uploadCode:{en:"Upload Code",zh:"上传代码"},basicModel:{en:"{0} Basic Model",zh:"{0} 基础模型"},newProjectModel:{en:"Which basic model you want aiXcoder to train from with the code in this directory:",zh:"您要以哪个模型为基础对该目录中的代码进行增量训练："},trainProjectModelTooltip:{en:"This is the starting point of aiXcoder's training. If your code is related to a specialized domain, please select the corresponding model as the starting point. Otherwise, you can just use the basic model, which is trained for general development of this language.",zh:"这是aiXoder训练的起点。如果您的代码与某个特定领域相关。请选择对应的模型。否则，您可以使用基础模型。基础模型对这个语言有泛用的支持。"},ok:{en:"Ok",zh:"确定"},"failed to download":{en:"Failed to download {0} to {1}",zh:"下载失败，从 {0} 到 {1}"},idleTrain:{en:"Train when computer is idle",zh:"在电脑空闲时自动训练"},importEnterpriseModel:{en:"Import Shared Model...",zh:"导入共享模型..."},"shareModel...":{en:"Share Model...",zh:"分享模型..."},shareModel:{en:"Share Model",zh:"分享模型"},name:{en:"Model Name",zh:"模型名"},"name:":{en:"Model Name: ",zh:"模型名："},sharemodelNameTooltip:{en:"A simple name, e.g. project name, for team members to tell what project this mode is for.",zh:"一个简单的，容易让团队成员判断这个模型的用途的名字。比如项目名。"},remark:{en:"Remark",zh:"注释"},"remark:":{en:"Remark: ",zh:"注释："},"group:":{en:"Group: ",zh:"组："},sharemodelGroupTooltip:{en:"The group to share with.",zh:"仅共享给组内成员。"},sharemodelRemarkTooltip:{en:"Additional message.",zh:"额外的信息。"},shareModelSuccess:{en:"Upload succeeded!",zh:"上传成功！"},shareModelError1:{en:"Upload failed. Cause: network error.",zh:"上传失败。原因：网络错误。"},shareModelError2:{en:"Upload failed. Cause: duplicated model name.",zh:"上传失败。原因：有重复的模型名。"},shareModelError3:{en:"Upload failed. Cause: unknown error.",zh:"上传失败。原因：未知错误。"},shareModelError4:{en:"Upload failed. Cause: not logged in.",zh:"上传失败。原因：没有登录。"},"listShareModelError-1":{en:"Failed to list shared models. Cause: {0}.",zh:"列出共享模型失败。原因：{0}。"},"listShareModelError-unknown":{en:"Failed to list shared models. Cause: {0}.",zh:"列出共享模型失败。原因：{0}。"},import:{en:"Import",zh:"导入"},mustSelectAModel:{en:"You must select a model to continue.",zh:"您必须选择一个模型"},group:{en:"Group",zh:"组"},uploader:{en:"Uploader",zh:"上传者"},upload:{en:"Upload",zh:"上传"},"importModelFailed-1":{en:"Failed to import model: {0}",zh:"导入模型失败：{0}"},importModelDone:{en:"Model is imported successfully",zh:"模型被成功导入"},importModelOverwriteConfirm:{en:"This will overwrite your existing model for this project, continue?",zh:"这会覆盖你本地已有的应用于这个项目的模型，继续吗？"},changelog:{en:"Changelog",zh:"更新日志"},changelogWithVersion:{en:"Changelog (Current version: {0})",zh:"更新日志（当前版本：{0}）"},checkUpdateWarning:{en:'Please make sure you are using the latest version of plugin. If not, you can see an "Update" button in Settings->Plugins->Installed page in IDEA for example.<img src="ideaupdate.png" alt="an update button is visible in plugins tab"/>',zh:'请确保您用的是最新版本的插件。如果不是的话，例如在IDEA中，您可以在Settings->Plugins->Installed页面看见一个“Update”按钮。<img src="ideaupdate.png" alt="在Plugins页面里可以看到Update按钮"/>'},confirmDeleteSharedModel:{en:"Are you sure to delete this shared model? This cannot be reverted.",zh:"您确定要删除这个共享模型吗？这无法被撤销。"},"userGroupError-1":{en:"Unknown error while fetching groups: {0}",zh:"获取组列表时遇到未知问题：{0}"},"userGroupError-2":{en:"You do not belong to any group. Models can only be shared within a group. Please contact the administrators to assign you to a group.",zh:"您不属于任何项目组。模型只能在项目组内分享。请联系管理员将你纳入某个组中。"},showTrayIcon:{en:"Tray/Menu Icon",zh:"托盘/菜单栏图标"},showTrayIconConfirm:{en:"You are now hiding the tray icon. It can later be displayed again through plugin's setting page or visit this webpage through URL again.",zh:"您将要隐藏托盘图标。托盘图标可以之后在插件的设置页面中或者通过URL访问此页面以重新显示。"}};function Y(e,t){if(null==t)return t;if(e[t]){var n=e[t],r=K();n[r]&&(t=n[r])}for(var i=arguments.length,a=new Array(i>2?i-2:0),o=2;o<i;o++)a[o-2]=arguments[o];return U.apply(void 0,[t].concat(a))}function q(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Y.apply(void 0,[X,e].concat(n))}function Z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:X,n=$(e);if(n.attr("t")){var r=Y(t,n.attr("t"));n.html(r);var i=n.find("[t],[x-title],[x-data-intro]");i.each((function(e,n){return Z(n,t)}))}if(n.attr("x-title")){var a=Y(t,n.attr("x-title"));n.attr("title",a),n.attr("data-toggle","tooltip"),n.attr("data-html","true"),n.attr("data-placement","top");var o=$("<span class='hovertooltip fas fa-question-circle' aria-hidden='true'></span>");o.appendTo(n),n.tooltip()}if(n.attr("x-href")){var s=Y(t,n.attr("x-href"));n.attr("href",s)}if(n.attr("x-data-intro")){var c=Y(t,n.attr("x-data-intro"));n.attr("data-intro",c)}if(n.attr("x-placeholder")){var d=Y(t,n.attr("x-placeholder"));n.attr("placeholder",d)}n.trigger("aix-render")}function V(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?W(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var J="true"===new URL(window.location.href).searchParams.get("enterprise"),G=(0,B.LK)("/hasEnterpriseLogin").then((function(e){return null!=e.result}));(function(e){return H.apply(this,arguments)})().then((function(){J?($("#train-file-tree").hide(),$("#train-file-tree-control").hide(),$("#file-upload-form").show(),$("#txt_new-project-dir1").text(q("newProjectDir2Server")),$("#selectLocalFolder").hide(),$("#data-project-dir-form").hide(),$("#train-file-search-bar").hide(),he()):re()})),_().extend(v()),$("#btn_tab1").on("click",(function(){$("#tab_content1").show().siblings().hide(),$("#btn_tab1").addClass("active").siblings().removeClass("active")})),$("#btn_tab2").on("click",(function(){$("#tab_content2").show().siblings().hide(),$("#btn_tab2").addClass("active").siblings().removeClass("active")})),$("#forget-code-link").attr("href",q("sendEmailUrl"));var Q,ee,te,ne=[];function re(){return ie.apply(this,arguments)}function ie(){return(ie=(0,i.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $("#checking-container").show(),e.next=3,(0,B.LK)("/isProfessional",{locale:K()});case 3:return 0===(t=e.sent).code?me(t):($("#main-container").hide(),$("#error-container").show(),t.isEnterprise?($(".container").hide(),$("#error-msg").html(q("licenseErrorEnterprise"))):Z($("#error-msg").attr("t","licenseError"+t.code)),4!==t.code?$("#start-trial").hide():$("#start-trial").show()),t.isEnterprise&&$("#extend-license-link").hide(),$("#checking-container").hide(),ce(),e.abrupt("return",t);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(){return(ae=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!J){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,B.LK)("/agreementChecked");case 4:e.sent.checked&&$("#agree-check").prop("checked",!0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(){return $("#agree-check").prop("checked")?($("#agreement-box label").removeClass("highlight"),!0):(u("#agreement-box label"),!1)}function se(){return(se=(0,i.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(oe()){e.next=2;break}return e.abrupt("return");case 2:return $("#start-trial").attr("disabled","disabled"),e.prev=3,e.next=6,(0,B.uz)({url:"/extendLicense",params:{type:"trial",locale:K()}},{});case 6:if(0!==(t=e.sent).code){e.next=12;break}return e.next=10,re();case 10:e.next=13;break;case 12:3===t.code?f(q("trialEnded"),q("trialEndedAndBy")):p("",q("licenseError"+t.code));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),p("",q("error",e.t0.message));case 18:$("#start-trial").removeAttr("disabled");case 19:case"end":return e.stop()}}),e,null,[[3,15]])})))).apply(this,arguments)}function ce(){return de.apply(this,arguments)}function de(){return(de=(0,i.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!J){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,B.LK)("/machineId");case 4:t=e.sent,Q=t.url,ee=t.QRCodeDataUrl,$("#extend-license-btn").attr("href",Q),$("#purchase-link").attr("href",Q),$("#alert-bt-now").attr("href",Q);try{$("#offlineActivationInstructions").html(q("offlineActivationInstructions",Q,ee))}catch(e){$("#offlineActivationInstructions").html(q("offlineActivationInstructions",Q))}case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function le(){$("#purchase-dialog").hide(),$(".alert-ui-title").text("")}function he(){return ue.apply(this,arguments)}function ue(){return(ue=(0,i.Z)(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!J){e.next=4;break}re(),e.next=8;break;case 4:return e.next=6,(0,B.LK)("/extendLicense",{locale:K()});case 6:0===(t=e.sent).code?(re(),le()):(n=t.code>0?q("licenseError"+t.code):t.msg,p(q("failed"),q("purchaseDoneError",n,q("offlineActivationInstructions",Q,ee))));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pe(){return(pe=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:le(),$("#btn_tab2").trigger("click");case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){ae.apply(this,arguments)}(),$("#agree-check").on("click",(function(){(0,B.uz)("/agreementChecked",{checked:$("#agree-check").prop("checked")}),oe()})),$("#start-trial").on("click",(function(){return se.apply(this,arguments)})),ce(),$("#extend-license-btn").on("click",function(){var e=(0,i.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(oe()){e.next=3;break}return t.preventDefault(),e.abrupt("return");case 3:$("#extend-license-btn").attr("disabled","disabled"),$("#purchase-dialog").show(),$(".alert-ui1 .alert-ui-title").text(q("purchaseExtend")),$("#extend-license-btn").removeAttr("disabled");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),$("#alert-bt-now").on("click",function(){var e=(0,i.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(oe()){e.next=3;break}return t.preventDefault(),e.abrupt("return");case 3:$("#alert-bt-now").attr("disabled","disabled"),$("#purchase-dialog").show(),$(".alert-ui1 .alert-ui-title").text(q("purchaseExtend")),$("#byNow").removeAttr("disabled"),$(".alert-ui-fn_close_dbtn").trigger("click");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),$("#purchase-dialog-cancel").on("click",le),$("#purchase-dialog-done").on("click",he),$("#purchase-dialog-offline-purchase").on("click",(function(){return pe.apply(this,arguments)})),$("#extend-license-link").on("click",(function(){$("#btn_tab1").text(q("extendLicense")),$("#btn_tab2").text(q("doHaveNewActivationCode")),$("#extend-license-btn").text(q("extendLicense...")),$("#start-trial").hide(),$("#main-container").hide(),$("#error-container").show(),$("#gotoTrainPage").show()}));var fe=$("#train-dialog");function ge(){var e,t=new URL(window.location.href).searchParams.get("projectDir");te=new(y())({animate:!1,allowClose:!0,doneBtnText:q("done"),closeBtnText:q("skip"),nextBtnText:q("nextStep"),prevBtnText:q("previousStep"),showButtons:!0,onPrevious:function(e){1===te.currentStep&&ke()},onNext:function(e){0===te.currentStep?$("#cardTrain").is(":visible")||(te.preventMove(),$e(null!=t),fe.on("shown.bs.modal",(function e(){fe.off("shown.bs.modal",e),te.moveNext()}))):"readyTrain"===$(e.getNode()).attr("id")&&ke()},onReset:function(e){u("#btnShowHelpLayer"),$("#btnShowHelpLayer").tooltip("show"),setTimeout((function(){$("#btnShowHelpLayer").tooltip("hide")}),5e3)}}),t?(e=$("#btnOpenTrain").length>0?[{element:"#btnOpenTrain",popover:{description:"",title:q("clickHereToTrainNewModel"),position:"left"}},{element:"#new-project-language",popover:{description:"",title:q("selectLanguage")}},{element:"#new-project-train",popover:{description:"",title:q("selectFiles")}},{element:"#readyTrain",popover:{description:"",title:q("startTraining")}}]:[{element:"tr[class=highlight] .retrain-btn",popover:{description:"",title:q("clickHereToTrainNewModel"),position:"left"}},{element:"#new-project-language",popover:{description:"",title:q("selectLanguage")}},{element:"#new-project-train",popover:{description:"",title:q("selectFiles")}},{element:"#readyTrain",popover:{description:"",title:q("startTraining")}}],localStorage.hasProjectDir="1"):(e=[{element:"#createNewTrain",popover:{description:"",title:q("clickHereToTrainNewModel"),position:"left"}},{element:"#selectProjectDir-form",popover:{description:"",title:q("selectProjectDir")}},{element:"#new-project-language",popover:{description:"",title:q("selectLanguage")}},{element:"#new-project-train",popover:{description:"",title:q("selectFiles")}},{element:"#readyTrain",popover:{description:"",title:q("startTraining")}}],localStorage.noProjectDir="1"),te.defineSteps(e),te.start()}$("#btnShowHelpLayer").on("click",(function(e){e.stopImmediatePropagation(),ge()}));var _e=null;function me(e){return ve.apply(this,arguments)}function ve(){return(ve=(0,i.Z)(o().mark((function e(t){var n,r,i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t){e.next=4;break}return e.next=3,re();case 3:t=e.sent;case 4:if($("#main-container").show(),$("#error-container").hide(),$("#gotoTrainPage").hide(),$("#license-to").text(q("licenseTo",t.username,_()(t.expireDate).format("YYYY-MM-DD"),t.expireDateString,"extendLicense")),Fe((0,B.LK)("/train/getLangs").then((function(e){$("#new-project-language").empty();for(var t=0,n=Object.keys(e.lang2Display);t<n.length;t++){var r=n[t];$("#new-project-language").append('<option value="'.concat(r,'">').concat(e.lang2Display[r],"</option>"))}return e}))),n=new URL(window.location.href),r=n.searchParams.get("projectDir"),i=n.searchParams.get("language"),!r){e.next=26;break}return $("#toggle_arrow").addClass("toggle_arrow_up"),$("#new-project-dir").val(r),$("#data-project-dir").val(r),e.next=18,Ue(i,!0);case 18:if(0!==(a=r).trim().length){e.next=21;break}return e.abrupt("return");case 21:(s=Math.max(a.lastIndexOf("/"),a.lastIndexOf("\\")))>=0&&(a=a.substring(s+1)),_e={proName:a,proDir:r,dataProDir:r,btnType:0,trainType:{type:"auto"},language:null,proModel:null,status:"highlightonly"},e.next=27;break;case 26:$("#train_card").hide();case 27:return e.next=29,Yt();case 29:r?localStorage.hasProjectDir&&!n.searchParams.get("guide")||ge():localStorage.noProjectDir&&!n.searchParams.get("guide")||ge();case 30:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function be(e,t,n,r,i,a,o,s){return ye.apply(this,arguments)}function ye(){return(ye=(0,i.Z)(o().mark((function e(t,n,r,i,a,s,c,d){var l,h,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Be;case 2:l=e.sent,null==t?(h='\n            <tr class="highlight" id="tempAddTr">\n                <td style=\'color: #666;vertical-align: middle\'>'.concat(n,"</td>\n                <td style='color: #666;vertical-align: middle;-ms-word-break: break-all; word-break: break-word;'>").concat(r,"</td>\n                <td style='color: #666;vertical-align: middle;-ms-word-break: break-all; word-break: break-word;'>").concat(i===r?q("equProDir"):i,'</td>\n                <td colspan="5" style=\'color: #666;vertical-align: middle\'><button class="btn-theme_default" id="btnOpenTrain">').concat(q(0===a?"trainItNow":"activeTrain"),"</button></td>\n            </tr>\n            "),1===a&&(h='\n            <tr class="highlight" id="tempAddTr">\n                <td style=\'color: #666;vertical-align: middle\'>'.concat(n,"</td>\n                <td style='color: #666;vertical-align: middle;-ms-word-break: break-all; word-break: break-word;'>").concat(r,"</td>\n                <td style='color: #666;vertical-align: middle;-ms-word-break: break-all; word-break: break-word;'>").concat(i===r?q("equProDir"):i,"</td>\n                <td style='color: #666;vertical-align: middle'>--</td>\n                <td style='color: #666;vertical-align: middle'>").concat(q("toBeTrained"),"</td>\n                <td style='color: #666;vertical-align: middle'>").concat(l.lang2Display[s],'</td>\n                <td colspan="2" style=\'color: #666;vertical-align: middle\'><button class="btn-theme_default" id="btnOpenTrain"> ').concat(q("activeTrain"),"</button></td>\n            </tr>\n            ")),$(h).prependTo($("#model-table-body"))):(u='\n        <tr class="highlight" id="tempAddTr">\n            <td style=\'color: #666;vertical-align: middle\'>'.concat(n,"</td>\n            <td style='color: #666;vertical-align: middle;-ms-word-break: break-all; word-break: break-word;'>").concat(r,"</td>\n            <td style='color: #666;vertical-align: middle;-ms-word-break: break-all; word-break: break-word;'>").concat(i===r?q("equProDir"):i,"</td>\n            <td style='color: #666;vertical-align: middle'>--</td>\n            <td style='color: #666;vertical-align: middle'>").concat(q("toBeTrained"),"</td>\n            <td style='color: #666;vertical-align: middle'>").concat(l.lang2Display[s],'</td>\n            <td colspan="2" style=\'color: #666;vertical-align: middle\'><button class="btn-theme_default" id="btnOpenTrain"> ').concat(q("activeTrain"),"</button></td>\n        </tr>\n        "),t.replaceWith($(u))),$("#noDataTr").remove(),$("#btnOpenTrain").on("click",(function(){0===a?$e(!0):1===a&&(_e.status="highlightonly",Ct(r,i,s,c,n,d))}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ke(){fe.modal("hide")}$("#new-project-language").on("change",(0,i.Z)(o().mark((function e(){var t,n,r,i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Be;case 2:if(t=e.sent,n=$("#new-project-language").val(),$("#new-project-model").empty(),r=[],n in t.lang2Display&&($("#new-project-model").append('<option value="'.concat(n,'">').concat(q("basicModel",t.lang2Display[n]),"</option>")),r.push(n),n in t.lang2Models)){i=V(t.lang2Models[n]);try{for(i.s();!(a=i.n()).done;)s=a.value,$("#new-project-model").append('<option value="'.concat(s.name,'">').concat(s.display,"</option>")),r.push(s.name)}catch(e){i.e(e)}finally{i.f()}}null==we||""===we.proModel||r.indexOf(we.proModel)<0?$("#new-project-model").val(n):$("#new-project-model").val(we.proModel);case 8:case"end":return e.stop()}}),e)}))));var we=null;function je(){$("#select-import-model-form").hide()}function xe(){return Te.apply(this,arguments)}function Te(){return Te=(0,i.Z)(o().mark((function e(){var t,n,r,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $("#select-import-model-form").show(),e.prev=1,e.next=4,(0,B.LK)("/train/shareModel");case 4:t=e.sent,e.next=13;break;case 7:return e.prev=7,e.t0=e.catch(1),console.error(e.t0),e.next=12,p("",q("listShareModelError-unknown",e.t0.message));case 12:throw e.t0;case 13:if("200"!==t.code){e.next=37;break}e.prev=14,(n=$("#import-model-table-body")).empty(),r=function(e){var r=t.data[e],a=void 0;try{a=JSON.parse(r.info)}catch(e){return"continue"}var s=$("<tr></tr>");s.append($('<td><input type="radio" name="shared-model" value='.concat(e," /></td>"))),s.append($("<td>".concat(r.modelName,"</td>"))),s.append($("<td>".concat(r.username,"</td>"))),s.append($("<td>".concat(r.teamname,"</td>"))),s.append($("<td>".concat(a.language,"</td>"))),s.append($("<td>".concat(r.remark,"</td>"))),s.append($("<td>".concat(Zt(r.create_time),"</td>")));var c=$("<td></td>");if(r.username===t.userName){var d=$('<button class="btn-theme_danger">'.concat(q("delete"),"</button>"));d.on("click",(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!confirm(q("confirmDeleteSharedModel"))){e.next=7;break}return d.attr("disabled","disabled"),e.next=4,(0,B.XL)("/train/shareModel",{model:r});case 4:return d.removeAttr("disabled"),e.next=7,xe();case 7:case"end":return e.stop()}}),e)})))),c.append(d)}s.append(c),s.on("click",(function(e){"radio"!==e.target.getAttribute("type")&&$(":radio",this).trigger("click")})),n.append(s)},a=0;case 19:if(!(a<t.data.length)){e.next=26;break}if("continue"!==r(a)){e.next=23;break}return e.abrupt("continue",23);case 23:a++,e.next=19;break;case 26:$("#select-import-model").off("click").on("click",(0,i.Z)(o().mark((function e(){var n,r,a,s,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(n=$('input[name="shared-model"]:checked').val())){e.next=5;break}p("",q("mustSelectAModel")),e.next=23;break;case 5:if(r=function(){var e=(0,i.Z)(o().mark((function e(r){var a,d,l,h,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=function(){return(l=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,B.uz)("/train/importShareModel",{taskId:a.taskId.toString(),action:"stop"});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)},d=function(){return l.apply(this,arguments)},e.next=4,(0,B.uz)("/train/importShareModel",{model:t.data[n],projectDir:s,projectName:c,force:r});case 4:if(2!==(a=e.sent).err){e.next=7;break}return e.abrupt("return",!1);case 7:if(0===a.err){e.next=11;break}return e.next=10,p("",q("importModelFailed"+a.err.toString(),a.msg));case 10:return e.abrupt("return",!0);case 11:return(h=$("#btnToggle_arrow,#train-dialog .close")).one("click",d),e.next=16,new Promise((function(e,t){function n(){return r.apply(this,arguments)}function r(){return r=(0,i.Z)(o().mark((function t(){var r,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,B.LK)("/train/importShareModel",{taskId:a.taskId.toString()});case 2:(r=t.sent).failed||r.finished?e(r):(r.stat?(i=q("downloadingModel",r.stat.percent,Mt(r.stat.remainingTime),Mt(r.stat.elapsed)),$("#import-status").text(i)):$("#import-status").text("..."),setTimeout(n,200));case 4:case"end":return t.stop()}}),t)}))),r.apply(this,arguments)}n()}));case 16:if(!(u=e.sent).failed){e.next=21;break}$("#import-status").text(q("importModelFailed-1",u.error)),e.next=28;break;case 21:if(!u.finished){e.next=28;break}return e.next=24,p("",q("importModelDone"));case 24:$("#import-status").text(""),ke(),h.off("click",d),Yt();case 28:return e.abrupt("return",!0);case 29:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a=!1,0===(s=$("#new-project-dir").val().trim()).length&&(u("#new-project-dir",{fadeCondition:"focus"}),a=!0),0===(c=$("#new-project-name").val()).length&&(u("#new-project-name",{fadeCondition:"focus"}),a=!0),!a){e.next=13;break}return e.abrupt("return");case 13:return $("#select-import-model").attr("disabled","disabled"),e.next=16,r(!1);case 16:if(e.t0=!e.sent,!e.t0){e.next=19;break}e.t0=confirm(q("importModelOverwriteConfirm"));case 19:if(!e.t0){e.next=22;break}return e.next=22,r(!0);case 22:$("#select-import-model").removeAttr("disabled");case 23:case"end":return e.stop()}}),e)})))),e.next=35;break;case 29:return e.prev=29,e.t1=e.catch(14),console.error(e.t1),e.next=34,p("",q("listShareModelError-unknown",e.t1.message));case 34:throw e.t1;case 35:e.next=42;break;case 37:return console.log(t.msg),s=t.msg+"(".concat(t.code,")"),e.next=41,p("",q("listShareModelError-unknown",s));case 41:throw new Error(s);case 42:case"end":return e.stop()}}),e,null,[[1,7],[14,29]])}))),Te.apply(this,arguments)}function $e(){return Se.apply(this,arguments)}function Se(){return Se=(0,i.Z)(o().mark((function e(){var t,n,r,i,a,s,c,d,l,h,u,p,f,g,_,m,v,b,y=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=y.length>0&&void 0!==y[0]&&y[0],n=y.length>1&&void 0!==y[1]?y[1]:"",r=y.length>2&&void 0!==y[2]?y[2]:"",i=y.length>3&&void 0!==y[3]?y[3]:"",a=y.length>4&&void 0!==y[4]?y[4]:"",s=y.length>5&&void 0!==y[5]?y[5]:"",c=y.length>6&&void 0!==y[6]?y[6]:null,d=y.length>7&&void 0!==y[7]?y[7]:null,l=y.length>8&&void 0!==y[8]?y[8]:0,h=y.length>9&&void 0!==y[9]&&y[9],we={proName:n,proDir:r,proDataDir:i,proLan:a,proModel:s,trainType:c,weights:d},$("#selectFileInfo").data("selectFileLength",0),fe.modal("show"),u=function e(){$("#train-dialog").scrollTop($("#train-dialog .modal-dialog .modal-content").offset().top),fe.off("shown.bs.modal",e)},fe.on("shown.bs.modal",u),0!==l&&fe.attr("dataId",l),$("#boxSelectFileDescription").hide(),null==d?($("#load-traintype").attr("disabled","disabled"),$("#load-traintype").prop("checked",!1),$("#manual-traintype").prop("checked",!0)):$("#load-traintype").removeAttr("disabled"),h?($("#txt_new-project-name1,#txt_new-project-dir1,#txt_data-project-dir1").show(),$("#txt_new-project-name,#txt_new-project-dir,#txt_data-project-dir").hide(),$("#data-project-dir-form,#langauge-form,#model-form,#select-file-form,#boxSelectFileDescription,#train-type-form").hide(),$("#train-dialog #train-dialog-header").text(q("cardTitleStateImport")),$("#readyTrain").hide(),$("#select-import-model").show(),xe().catch((function(){fe.modal("hide")})),p=new URL(window.location.href),(f=p.searchParams.get("projectDir"))&&($("#new-project-dir").val(f),Ke())):($("#txt_new-project-name,#txt_new-project-dir,#txt_data-project-dir").show(),$("#txt_new-project-name1,#txt_new-project-dir1,#txt_data-project-dir1").hide(),$("#data-project-dir-form,#langauge-form,#model-form,#select-file-form,#boxSelectFileDescription,#train-type-form").show(),$("#toggle_arrow_box .card-header").text(q("cardTitleState2")),$("#readyTrain").show(),$("#select-import-model").hide(),$("#import-status").text(""),je(),$("#new-project-name,#new-project-dir").val("")),t){e.next=27;break}$("#data-project-dir,#new-project-language").val(""),Oe(),$("#guessProjectLanguageStatus").text(""),$("#manual-train-epoches").val(3),$("#train_card").show(),e.next=50;break;case 27:if(g=new URL(window.location.href),_=g.searchParams.get("projectDir"),$("#train-dialog #train-dialog-header").text(q("cardTitleState1")),!_||n||r||i||a){e.next=46;break}return $("#new-project-dir").val(_),$("#data-project-dir").val(_),m=g.searchParams.get("language"),e.next=36,Ue(m,!0);case 36:if(0!==(v=_).trim().length){e.next=39;break}return e.abrupt("return");case 39:(b=Math.max(v.lastIndexOf("/"),v.lastIndexOf("\\")))>=0&&(v=v.substring(b+1)),$("#new-project-name").val(v),$("#manual-traintype").attr("checked","checked"),$("#manual-train-epoches").val(3),e.next=47;break;case 46:n&&r&&i&&a&&($("#new-project-name").val(n),$("#new-project-dir").val(r),"!imported"===i?$("#data-project-dir").val(r):$("#data-project-dir").val(i),$("#new-project-model").val(s),$("#new-project-language").val(a),null==c||"manual"===c.type?$("#manual-train-epoches").val(3):"load"===c.type&&$("#manual-train-epoches").val(c.epoches));case 47:Ce(),"!imported"===i&&$("#data-project-dir").removeAttr("disabled"),$("#train_card").show();case 50:$("#new-project-language").trigger("change");case 51:case"end":return e.stop()}}),e)}))),Se.apply(this,arguments)}function Ce(){$("#new-project-name,#new-project-dir,#data-project-dir").prop("disabled","disabled"),$("#selectLocalFolder").hide()}function Oe(){$("#new-project-name,#new-project-dir,#data-project-dir").removeAttr("disabled"),J||$("#selectLocalFolder").show()}function Ee(e){return ze.apply(this,arguments)}function ze(){return(ze=(0,i.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){$("#file-selector-tree").jstree("open_node",t,(function(){document.getElementById(t).scrollIntoView(),e()}))||n(new Error("node open failed"))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ae(){return(Ae=(0,i.Z)(o().mark((function e(){var t,n,r,i,a,s,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=$("#new-project-dir").val())){e.next=44;break}n=null!=t.match(/^[a-zA-Z]:\\/)?"\\":"/",r="",i=t.split(n),a=V(i),e.prev=6,a.s();case 8:if((s=a.n()).done){e.next=36;break}if(!(c=s.value).endsWith(":")){e.next=24;break}return c=c.toUpperCase(),r+=c+="\\",e.prev=14,e.next=17,Ee(r);case 17:e.next=22;break;case 19:return e.prev=19,e.t0=e.catch(14),e.abrupt("break",36);case 22:e.next=34;break;case 24:return r+=c,e.prev=25,e.next=28,Ee(r);case 28:e.next=33;break;case 30:return e.prev=30,e.t1=e.catch(25),e.abrupt("break",36);case 33:r+=n;case 34:e.next=8;break;case 36:e.next=41;break;case 38:e.prev=38,e.t2=e.catch(6),a.e(e.t2);case 41:return e.prev=41,a.f(),e.finish(41);case 44:case"end":return e.stop()}}),e,null,[[6,38,41,44],[14,19],[25,30]])})))).apply(this,arguments)}$("#toggle_arrow,#btnToggle_arrow,#train-dialog .close").on("click",(function(){fe.removeAttr("dataid"),$("#new-project-name,#new-project-dir,#data-project-dir").removeAttr("disabled"),$("#new-project-name,#new-project-dir,#data-project-dir,#new-project-language").removeClass("highlight"),ke()})),$("#gotoTrainPage a").on("click",(function(){return me()})),$("#createNewTrain").on("click",(function(){_e=null,$("#new-project-name,#new-project-dir,#data-project-dir").removeAttr("disabled"),$e(!1)})),G.then((function(e){e&&($("#importEnterpriseModel").show(),$("#importEnterpriseModel").on("click",(function(){_e=null,$("#new-project-name,#new-project-dir,#data-project-dir").removeAttr("disabled"),$e(!1,"","","","","",null,null,0,!0)})))}));var Pe,Ne=$("#filetree-confirm-dialog"),Le=!1;function Me(){Ne.modal("hide")}function De(){return(De=(0,i.Z)(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(oe()){e.next=2;break}return e.abrupt("return");case 2:return(t=$("#btn-activate")).attr("disabled","disabled"),e.next=6,(0,B.uz)({url:"/activationCode",params:{locale:K()}},{user:$("#activation-username").val(),code:$("#activation-code").val()});case 6:if(0!==(n=e.sent).code){e.next=12;break}return e.next=10,re();case 10:e.next=13;break;case 12:p("",q("licenseError"+n.code));case 13:t.removeAttr("disabled");case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}$(document).on("click",(function(){Me()})),Ne.on("click",(function(e){e.stopPropagation()})),$("#btnSelectFolder").on("click",(function(){var e=$("#file-selector-tree").jstree().get_selected()[0];$("#new-project-dir").val(e),Ue(null,!0),Me()})),$("#btnSelectFolderCancel").on("click",(function(){Ne.modal("hide"),$("#new-project-dir").val(Pe)})),$("#selectLocalFolder").on("click",(function(){$("#filetree-confirm-dialog").is(":hidden")?(Pe=$("#new-project-dir").val(),Le||(Le=!0,$("#file-selector-tree").jstree({core:{animation:0,check_callback:!0,themes:{stripes:!0},data:{url:function(e){return"/fstree"},data:function(e){return{id:e.id}}}},types:{"#":{max_children:1,max_depth:4,valid_children:["root"]},root:{valid_children:["default"]},default:{valid_children:["default","file"]},file:{icon:"glyphicon glyphicon-file",valid_children:[]}},plugins:["contextmenu","search","types","wholerow"],contextmenu:{items:function(e){return{showInExplorer:{label:"Show in Explorer",action:function(){(0,B.uz)("/showInExplorer",{id:e.id})}}}}}})),Ne.modal("show"),function(){Ae.apply(this,arguments)}()):Me()})),$("#btn-activate").on("click",(function(){return De.apply(this,arguments)}));var Ie="Unknown OS";-1!==navigator.appVersion.indexOf("Win")&&(Ie="Windows"),-1!==navigator.appVersion.indexOf("Mac")&&(Ie="MacOS"),-1!==navigator.appVersion.indexOf("X11")&&(Ie="UNIX"),-1!==navigator.appVersion.indexOf("Linux")&&(Ie="Linux"),$("#new-project-dir").attr("placeholder","Windows"===Ie?"C:\\path\\to\\project":"~/path/to/project"),$("#data-project-dir").attr("placeholder","Windows"===Ie?"C:\\path\\to\\project":"~/path/to/project"),$("#new-project-name").attr("placeholder","project"),$("#new-project-language").on("change",(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:$("#boxSelectFileDescription").hide(),$("#selectFileInfo").data("selectFileLength",0);case 2:case"end":return e.stop()}}),e)}))));var Fe=null,Be=new Promise((function(e,t){Fe=e}));function He(e){return Re.apply(this,arguments)}function Re(){return Re=(0,i.Z)(o().mark((function e(t){var n,r,i,a,s,c,d=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=d.length>1&&void 0!==d[1]&&d[1],!J){e.next=3;break}return e.abrupt("return");case 3:return n||$("#guessProjectLanguageStatus").text(q("loading...")),$("#guessProjectLanguageMsg").text(""),$("#guessProjectLanguageStatusWarning").hide(),e.next=8,(0,B.LK)("/train/guessProjectLanguage",{projectDir:t,full:n?"true":"false"});case 8:return r=e.sent,e.next=11,Be;case 11:if(i=e.sent,0!==r.code){e.next=38;break}$("#new-project-language").val(r.language).trigger("change"),$("#guessProjectLanguageStatus").text(r.counter.map((function(e){return"".concat(i.lang2Display[e[0]],": ").concat(e[1])})).join(", ")),a=0,s=V(r.counter),e.prev=17,s.s();case 19:if((c=s.n()).done){e.next=28;break}if(!(c.value[1]>0)){e.next=26;break}if(!(++a>=2)){e.next=26;break}return $("#guessProjectLanguageStatusWarning").show(),e.abrupt("break",28);case 26:e.next=19;break;case 28:e.next=33;break;case 30:e.prev=30,e.t0=e.catch(17),s.e(e.t0);case 33:return e.prev=33,s.f(),e.finish(33);case 36:e.next=39;break;case 38:$("#guessProjectLanguageStatus").text("");case 39:$("#guessProjectLanguageMsg").text(q(r.msg)),null!=te&&te.refresh();case 41:case"end":return e.stop()}}),e,null,[[17,30,33,36]])}))),Re.apply(this,arguments)}function Ke(){var e=$("#new-project-dir").val();if(0!==e.trim().length){var t=Math.max(e.lastIndexOf("/"),e.lastIndexOf("\\"));t>=0&&(e=e.substring(t+1)),$("#new-project-name").val(e)}}function Ue(e){return Xe.apply(this,arguments)}function Xe(){return Xe=(0,i.Z)(o().mark((function e(t){var n,r=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]&&r[1],Ke(),$("#data-project-dir").val($("#new-project-dir").val()),$("#selectFileInfo").data("selectFileLength",0),e.next=6,Ye(t,n);case 6:case 7:case"end":return e.stop()}}),e)}))),Xe.apply(this,arguments)}function Ye(e){return qe.apply(this,arguments)}function qe(){return qe=(0,i.Z)(o().mark((function e(t){var n,r,i,a,s=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=s.length>1&&void 0!==s[1]&&s[1],r=$("#data-project-dir"),0!==(i=r.val()).trim().length){e.next=5;break}return e.abrupt("return");case 5:if((a=Math.max(i.lastIndexOf("/"),i.lastIndexOf("\\")))>=0&&(i=i.substring(a+1)),null!=t){e.next=12;break}return e.next=10,He(r.val(),n);case 10:e.next=13;break;case 12:$("#new-project-language").val(t).trigger("change");case 13:case"end":return e.stop()}}),e)}))),qe.apply(this,arguments)}var Ze=null;$("#new-project-dir").on("input",(function(){Ue(),clearTimeout(Ze),Ze=setTimeout((function(){return Ue(null,!0)}),2e3)})),$("#data-project-dir").on("input",(function(){Ye(),clearTimeout(Ze),Ze=setTimeout((function(){return Ye(null,!0)}),2e3)}));var Ve=!1,We=0;function Je(e){Ve!==e&&(Ve?(Ve=!1,clearInterval(We),We=null):(Ve=!0,We=window.setInterval(Yt,1e3),Yt()))}function Ge(e,t,n,r,i){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,i.Z)(o().mark((function e(t,n,r,i,a){var s,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=a||{},(s=document.getElementById(i)).setAttribute("disabled","disabled"),e.next=5,(0,B.uz)("/train/train",Object.assign({type:t,projectDir:n,language:r},a));case 5:return c=e.sent,s.removeAttribute("disabled"),Je(!0),e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function et(e,t,n,r,i,a){return tt.apply(this,arguments)}function tt(){return(tt=(0,i.Z)(o().mark((function e(t,n,i,a,s,c){var d,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=c||{},(d=document.getElementById(s)).setAttribute("disabled","disabled"),e.next=5,(0,B.uz)("/train/train",Object.assign({type:t,projectDir:n,language:a,dataProjectDir:i},c));case 5:return l=e.sent,d.removeAttribute("disabled"),Je(!0),0!==l.err&&p("",q.apply(void 0,[l.msg].concat((0,r.Z)(l.data||[])))),e.abrupt("return",l);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nt(e,t,n){return rt.apply(this,arguments)}function rt(){return(rt=(0,i.Z)(o().mark((function e(t,n,r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ge("resume",t,n,r));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function it(e,t,n){return at.apply(this,arguments)}function at(){return(at=(0,i.Z)(o().mark((function e(t,n,r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ge("stop",t,n,r));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ot(e,t,n){return st.apply(this,arguments)}function st(){return(st=(0,i.Z)(o().mark((function e(t,n,r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ge("pause",t,n,r));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ct(e,t,n){return dt.apply(this,arguments)}function dt(){return(dt=(0,i.Z)(o().mark((function e(t,n,r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!confirm(q("trainDeleteConfirm",t))){e.next=4;break}return e.next=3,Ge("delete",t,n,r);case 3:return e.abrupt("return",!0);case 4:return e.abrupt("return",!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}$("#auto-reload").on("click",(function(){Ve?We=window.setInterval(Yt,1e3):(clearInterval(We),We=null)}));var lt=$("#edit-dialog");function ht(e,t,n){return ut.apply(this,arguments)}function ut(){return ut=(0,i.Z)(o().mark((function e(t,n,r){var a,s,c,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d=function(){return(d=(0,i.Z)(o().mark((function e(r){var i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ge("update",t,n,"btn-edit-dialog-done",{newProjectName:$("#edit-project").val(),newProjectDir:$("#edit-project-directory").val(),force:r?"true":"false"});case 2:if(4!==(i=e.sent).err){e.next=9;break}if(!confirm(q("updateProjInfoError4"))){e.next=7;break}return e.next=7,c(!0);case 7:e.next=25;break;case 9:if(5!==i.err){e.next=18;break}return e.next=12,Be;case 12:if(a=e.sent,!confirm(q("updateProjInfoError5",a.lang2Display[n]))){e.next=16;break}return e.next=16,c(!0);case 16:e.next=25;break;case 18:if(0===i.err){e.next=22;break}p("",q("updateProjInfoError"+i.err)),e.next=25;break;case 22:return e.next=24,Yt();case 24:lt.modal("hide");case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)},c=function(e){return d.apply(this,arguments)},(a=document.getElementById(r)).setAttribute("disabled","disabled"),lt.modal("show"),s=ne.find((function(e){return e.projectDir===t&&e.language===n})),$("#edit-project").val(s.projectName),$("#edit-project-directory").val(s.projectDir),$("#btn-edit-dialog-done").off("click").on("click",(function(){return c(!1)})),$("#btn-edit-dialog-cancel,#edit-dialog .close").off("click").on("click",(function(){lt.modal("hide")})),$("#btn-edit-dialog-delete").off("click").on("click",(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ct(t,n,"btn-edit-dialog-delete");case 2:if(!e.sent){e.next=6;break}return e.next=5,Yt();case 5:lt.modal("hide");case 6:case"end":return e.stop()}}),e)})))),a.removeAttribute("disabled");case 12:case"end":return e.stop()}}),e)}))),ut.apply(this,arguments)}var pt=$("#sharemodel-dialog");function ft(){return ft=(0,i.Z)(o().mark((function e(t,n){var r,a,s,c,d,l,h,f,g;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g=function(){return g=(0,i.Z)(o().mark((function e(){var n,r,s,c,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(n=$("#sharemodel-name").val().trim()).length){e.next=4;break}return u("#sharemodel-name"),e.abrupt("return");case 4:return $("#btn-sharemodel-dialog-done").attr("disabled","disabled"),e.next=7,(0,B.uz)("/train/shareModel",{record:t,name:n,remark:$("#sharemodel-remark").val(),groupId:$("#sharemodel-groupid").val()});case 7:if(0!==(r=e.sent).err){e.next=26;break}return s=function(){var e=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,B.uz)("/train/shareModel",{action:"stop",taskId:c});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c=r.taskId.toString(),a.one("click",s),e.next=14,new Promise((function(e,t){function n(){return r.apply(this,arguments)}function r(){return(r=(0,i.Z)(o().mark((function t(){var r,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,B.LK)("/train/shareModel",{taskId:c});case 2:(r=t.sent).failed||r.finished?e(r):(r.stat?(i=q("uploadingModel",r.stat.percent,Mt(r.stat.remainingTime),Mt(r.stat.elapsed)),$("#share-model-status").text(i)):$("#share-model-status").text("..."),setTimeout(n,200));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}n()}));case 14:if(!(d=e.sent).failed){e.next=19;break}$("#share-model-status").text(q("shareModelError"+d.code,d.error)),e.next=23;break;case 19:if(!d.finished){e.next=23;break}return e.next=22,p("",q("shareModelSuccess"));case 22:a.trigger("click");case 23:a.off("click",s),e.next=27;break;case 26:$("#share-model-status").text(q("shareModelError"+r.err,r.msg));case 27:$("#btn-sharemodel-dialog-done").removeAttr("disabled");case 28:case"end":return e.stop()}}),e)}))),g.apply(this,arguments)},f=function(){return g.apply(this,arguments)},(r=document.getElementById(n)).setAttribute("disabled","disabled"),$("#sharemodel-name").val(t.projectName),$("#sharemodel-remark").empty(),$("#share-model-status").text(""),pt.modal("show"),(a=$("#btn-sharemodel-dialog-cancel,#sharemodel-dialog .close")).off("click").on("click",(function(){pt.modal("hide"),r.removeAttribute("disabled")})),e.next=12,(0,B.LK)("/train/userGroup");case 12:if(s=e.sent,$("#sharemodel-groupid").empty(),200!==s.err){e.next=27;break}if(0!==s.groups.length){e.next=22;break}return e.next=18,p("",q("userGroupError-2"));case 18:return a.trigger("click"),e.abrupt("return");case 22:c=!0,d=V(s.groups);try{for(d.s();!(l=d.n()).done;)h=l.value,$("#sharemodel-groupid").append($('<option value="'.concat(h.groupId,'" ').concat(c?"selected":"",">").concat(h.groupName,"</option>"))),c=!1}catch(e){d.e(e)}finally{d.f()}case 25:e.next=31;break;case 27:return e.next=29,p("",q("userGroupError-1",s.msg));case 29:return a.trigger("click"),e.abrupt("return");case 31:$("#btn-sharemodel-dialog-done").off("click").on("click",(function(){return f()}));case 32:case"end":return e.stop()}}),e)}))),ft.apply(this,arguments)}var gt=!1,_t=!1,mt=!1;function vt(){_t||(mt=!0)}var bt=[],yt=$("#train-file-tree").jstree({checkbox:{keep_selected_style:!1,tie_selection:!1},search:{show_only_matches:!0},core:{data:[]},plugins:["checkbox","search"]}).on("refresh.jstree",(function(e,t){bt.length>0&&(_t=!0,yt.jstree().check_node(bt,null),_t=!1);var n=yt.jstree().get_bottom_checked(!1);null!=n&&0!==n.length||yt.jstree().check_all(),gt||yt.jstree().open_all()})).on("check_node.jstree",vt).on("uncheck_node.jstree",vt);function kt(e){var t,n,r=e.lastIndexOf("/");return r>=0?(t=e.substring(0,r),n=e.substring(r+1)):(t="#",n=e),{parent:t,name:n}}function wt(e){var t,n=new Map,i=new Map,a=V(e);try{for(a.s();!(t=a.n()).done;){var o=t.value;n.has(o.parent)||n.set(o.parent,[]),n.get(o.parent).push(o),i.set(o.id,o)}}catch(e){a.e(e)}finally{a.f()}!function e(t){if(n.has(t)){var r,a=n.get(t),o=V(a.map((function(e){return e.id})));try{for(o.s();!(r=o.n()).done;)e(r.value)}catch(e){o.e(e)}finally{o.f()}if("#"!==t&&1===a.length&&"folder"===a[0].icon){var s=i.get(t);a[0].text=s.text+"/"+a[0].text,a[0].parent=s.parent,n.delete(t);var c=n.get(s.parent);null!=c&&(c.splice(c.indexOf(s),1),c.push(a[0]))}}}("#");var s,c=[],d=V(n.values());try{for(d.s();!(s=d.n()).done;){var l=s.value;c.push.apply(c,(0,r.Z)(l))}}catch(e){d.e(e)}finally{d.f()}return c}$("#train-file-search").on("keyup",(function(){var e=$("#train-file-search").val();yt.jstree().search(e)})),$("#clear-train-file-search").on("click",(function(){$("#train-file-search").val(""),yt.jstree().clear_search()}));var jt,xt=$("#train-confirm-dialog");$(document).on("click",(function(){xt.modal("hide")})),xt.on("click",(function(e){e.stopPropagation()}));var Tt=[];function $t(){return $t=(0,i.Z)(o().mark((function e(t,n,r,a){var s,c,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=Date.now().toString(16),J&&(c="/upload.html?id=".concat(s,"&lang=").concat(n),$("#uploadCode").attr("href",c),$("#frameUpload").attr("src",c)),$("#new-project-train").attr("disabled","disabled"),(d=document.getElementById(a)).setAttribute("disabled","disabled"),J||($("#btn-train-confirm-dialog-done").attr("disabled","disabled"),$("#train-file-status").html(q("loadingTrainFileStatus")),bt=mt?yt.jstree().get_bottom_checked(!1):[],yt.jstree().settings.core.data=[],yt.jstree().refresh(),(0,B.LK)("/train/listTrainFiles",{lang:n,projectDir:t}).then(function(){var e=(0,i.Z)(o().mark((function e(r){var i,a,s,c,d,l,h,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=function(e){if(!s.has(e)&&"#"!==e){s.add(e);var t=kt(e);a.push({id:e,text:t.name,parent:t.parent,icon:"folder"}),c(t.parent)}},$("#btn-train-confirm-dialog-done").removeAttr("disabled"),e.next=4,Be;case 4:if(i=e.sent,!r.code){e.next=19;break}if("tooManyFiles"!==r.err){e.next=14;break}return gt=!0,$("#train-file-status").text(q("trainFileTooManyStatus",i.lang2Display[n])),yt.jstree().settings.core.data={url:function(e){return"/fstree?lang=".concat(encodeURIComponent(n),"&projectDir=").concat(encodeURIComponent(t))},data:function(e){return{id:e.id}}},yt.jstree().refresh(),e.abrupt("return");case 14:return p("",q("cannotOpenFolder",t)),xt.modal("hide"),e.abrupt("return");case 17:e.next=22;break;case 19:if(0!==r.files.length){e.next=22;break}return p("",q("noTrainingFiles",t,i.lang2Display[n])),e.abrupt("return");case 22:jt!==t+":"+n?(mt=!1,jt=t+":"+n,bt=r.selected):mt||(bt=r.selected),gt=!1,$("#train-file-status").text(q("trainFileStatus",r.files.length,i.lang2Display[n])),a=[],s=new Set,d=V(r.files);try{for(d.s();!(l=d.n()).done;)h=l.value,u=kt(h),c(u.parent),a.push({id:h,text:u.name,parent:u.parent,icon:"file",state:{checked:!0}})}catch(e){d.e(e)}finally{d.f()}a=wt(a),yt.jstree().settings.core.data=a,yt.jstree().refresh();case 32:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),$("#btn-train-confirm-dialog-done").off("click").on("click",(0,i.Z)(o().mark((function e(){var t,n,r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!J){e.next=11;break}return $("#btn-train-confirm-dialog-done").attr("disabled","disabled"),e.next=4,(0,B.LK)("/train/uploadedFiles",{id:s});case 4:n=e.sent,t=n.files,$("#data-project-dir").val(n.projectDir),$("#btn-train-confirm-dialog-done").removeAttr("disabled"),Tt=n.files.slice(),e.next=12;break;case 11:t=yt.jstree().get_bottom_checked(!1);case 12:if(0!==(r=t.length)){e.next=16;break}return p("",q("noTrainFilesSelected")),e.abrupt("return");case 16:xt.modal("hide"),r>4&&(t.length=4),$("#selectFileInfo").data("selectFileLength",r),gt?($("#selectFileInfo").html(q("manyFilesSelected")),$("#boxSelectFileDescription").show()):(i=(i=t.join(", ")).substring(0,i.length),a=r>t.length?q("filesCount.etc",i,r):q("filesCount",i,r),$("#selectFileInfo").html(a),$("#boxSelectFileDescription").show());case 20:case"end":return e.stop()}}),e)})))),xt.modal("show"),$("#new-project-train")[0].removeAttribute("disabled"),d.removeAttribute("disabled");case 10:case"end":return e.stop()}}),e)}))),$t.apply(this,arguments)}function St(){var e=$('input[name="train-type"]:checked').val(),t={type:e};return"manual"===e&&(t.epoches=$("#manual-train-epoches").val()),t}function Ct(e,t,n,r,i,a){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,i.Z)(o().mark((function e(t,n,r,i,a,s){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,et("start",t,n,r,"btnOpenTrain",{projectName:a,files:J?Tt:yt.jstree().get_bottom_checked(!1),partial:gt,trainType:s,model:i});case 2:Je(!0),xt.modal("hide");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Et(){return(Et=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,B.uz)("/train/stopListTrainFiles",{});case 2:xt.modal("hide");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zt(e,t,n){return At.apply(this,arguments)}function At(){return(At=(0,i.Z)(o().mark((function e(t,n,r){var i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=document.getElementById(r)).setAttribute("disabled","disabled"),e.next=4,(0,B.uz)("/train/activate",{projectDir:t,language:n,active:i.checked});case 4:i.removeAttribute("disabled"),Yt();case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}$("#new-project-train").on("click",(function(){var e=!1;0===$("#new-project-dir").val().trim().length&&(u("#new-project-dir",{fadeCondition:"focus"}),e=!0);var t=$("#new-project-language").val();null===t&&(u("#new-project-language",{fadeCondition:"focus"}),e=!0);var n=$("#new-project-name").val();0===n.length&&(u("#new-project-name",{fadeCondition:"focus"}),e=!0);var r=null;J||0===(r=$("#data-project-dir").val().trim()).length&&(u("#data-project-dir",{fadeCondition:"focus"}),e=!0),e||function(e,t,n,r){$t.apply(this,arguments)}(r,t,n,"new-project-train")})),$("#readyTrain").on("click",(0,i.Z)(o().mark((function e(){var t,n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=$("#new-project-language").val(),n=$("#new-project-name").val(),r=St(),null===t||""===n||""===$("#new-project-dir").val()||""===$("#data-project-dir").val()?(p("",q("toTrainReadyErr")),null===t&&u("#new-project-language",{fadeCondition:"focus"}),""===n&&u("#new-project-name",{fadeCondition:"focus"}),""===$("#new-project-dir").val()&&u("#new-project-dir",{fadeCondition:"focus"}),""===$("#data-project-dir").val()&&u("#data-project-dir",{fadeCondition:"focus"})):0===$("#selectFileInfo").data("selectFileLength")?(u("#new-project-train"),p("",q("notSelectFileErr"))):(ke(),$("#tempAddTr").remove(),fe.attr("dataid")?(_e={proName:n,proDir:$("#new-project-dir").val(),dataProDir:$("#data-project-dir").val(),btnType:1,language:t,trainType:r,proModel:$("#new-project-model").val(),status:"tobetrained"},fe.removeAttr("dataid")):_e={proName:n,proDir:$("#new-project-dir").val(),dataProDir:$("#data-project-dir").val(),btnType:1,language:t,trainType:r,proModel:$("#new-project-model").val(),status:"tobetrained"},Yt());case 4:case"end":return e.stop()}}),e)})))),$("#btn-train-confirm-dialog-cancel,#train-confirm-dialog .close").on("click",(function(){return Et.apply(this,arguments)})),$("#btnSelectAllFile").on("click",(function(e){e.preventDefault(),yt.jstree().check_all()})),$("#btnSelectNoneFile").on("click",(function(e){e.preventDefault(),yt.jstree().uncheck_all()}));var Pt=0;function Nt(){return Pt++}function Lt(e){var t=e.projectDir;if(e.status&&"done"!==e.status.status){if("paused"===e.status.status){var n="btn-"+Nt(),r=$('<button id="'.concat(n,'" class="btn-theme_default">').concat(q("resume"),"</button>"));r.on("click",nt.bind(null,t,e.language,n)),n="btn-"+Nt();var i=$('<button id="'.concat(n,'" class="btn-theme_default">').concat(q("stop"),"</button>"));return i.on("click",it.bind(null,t,e.language,n)),[r,i]}if("stopped"===e.status.status||"error"===e.status.status)return[];var a="btn-"+Nt(),o=$('<button class="btn-theme_default" id="'.concat(a,'">').concat(q("pause"),"</button>"));o.on("click",ot.bind(null,t,e.language,a)),a="btn-"+Nt();var s=$('<button id="'.concat(a,'" class="btn-theme_default">').concat(q("stop"),"</button>"));return s.on("click",it.bind(null,t,e.language,a)),[o,s]}var c=e.active,d="chk-"+Nt(),l=$('<input id="'.concat(d,'" type="checkbox" ').concat(c?"checked":"",">"));return l.on("click",zt.bind(null,t,e.language,d)),[l,$('<label for="'.concat(d,'">').concat(q(c?"active":"disabled"),"</label>"))]}function Mt(e){var t=e.split(":");return(t=t.map((function(e){return e.padStart(2,"0")}))).join(":")}var Dt=$("#train-log-dialog");function It(){$("#train-log-dialog .modal-body-codebox").scrollTop($("#train-log-content").height())}function Ft(e){var t=function(e){return e.status?"paused"===e.status.status?q("paused"):"stopped"===e.status.status?q("stopped"):"preparing"===e.status.status?q("preparing",e.status.percent,Mt(e.status.remainingTime),Mt(e.status.elapsed)):"done"===e.status.status?q("finished"):"error"===e.status.status?q("failed"):"validating"===e.status.status?q("validating",e.status.percent,Mt(e.status.remainingTime),Mt(e.status.elapsed)):"downloadingNecessaryFiles"===e.status.status?q("downloadingNecessaryFiles",e.status.msg,e.status.percent,Mt(e.status.remainingTime),Mt(e.status.elapsed)):q("training",e.status.percent,Mt(e.status.remainingTime),Mt(e.status.elapsed)):q("finished")}(e),n=$("<div></div>");n.html(t),n.attr("title",q("clickToShowLog")),n.css("cursor","pointer");var r=function(){var t=(0,i.Z)(o().mark((function t(){var n,r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return $("#trainLogDialogRefresh").attr("disabled","disabled"),t.next=3,(0,B.LK)("/train/log",{projectDir:e.projectDir,language:e.language});case 3:n=t.sent,r=n.data,$("#train-log-content").text(r),$("#trainLogDialogRefresh").removeAttr("disabled"),It();case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return n.on("click",function(){var e=(0,i.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r();case 2:Dt.modal("show"),$("#trainLogDialogRefresh").off("click"),$("#trainLogDialogRefresh").on("click",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n}function Bt(e){var t="btn-"+Nt(),n=$('<button id="'.concat(t,'" class="btn-theme_default" style="min-width: 107px;" ').concat("preparing"===e.status.status||"training"===e.status.status||"validating"===e.status.status||"paused"===e.status.status?"disabled":"",">").concat(q("edit"),"</button>"));return n.on("click",ht.bind(null,e.projectDir,e.language,t,!1)),n}function Ht(e){var t="btn-"+Nt(),n=$('<button id="'.concat(t,'" class="btn-theme_default retrain-btn" style"min-width: 107px;" ').concat("preparing"===e.status.status||"training"===e.status.status||"validating"===e.status.status||"paused"===e.status.status?"disabled":"",">").concat(q("restartTraining"),"</button>"));return n.on("click",(function(){return $e(!0,e.projectName,e.projectDir,e.dataProjectDir,e.language,e.model,e.trainType,e.weights,t)})),n}function Rt(e){var t="btn-"+Nt(),n=$('<button id="'.concat(t,'" class="btn-theme_default retrain-btn" style"min-width: 107px;" ').concat("done"===e.status.status?"":"disabled",">").concat(q("shareModel..."),"</button>"));return n.on("click",(function(){return function(e,t){return ft.apply(this,arguments)}(e,t)})),n}function Kt(e,t){return null!=e&&null!=t&&e.toLowerCase().replace(/\\/g,"/")===t.toLowerCase().replace(/\\/g,"/")}Dt.on("shown.bs.modal",It),$("#trainLogDialogClose,body").on("click",(function(){Dt.modal("hide")})),$("#train-log-dialog").on("click",(function(e){e.stopPropagation()}));var Ut=new Date,Xt=null;function Yt(){return qt.apply(this,arguments)}function qt(){return qt=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==Xt){e.next=2;break}return e.abrupt("return",Xt);case 2:return Xt=new Promise(function(){var e=(0,i.Z)(o().mark((function e(t,n){var r,i,a,s,c,d,l,h,u,p;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new URL(window.location.href),i=r.searchParams.get("projectDir"),a=!1,s=$("#model-table-body"),e.next=6,(0,B.LK)("/train/train");case 6:return ne=e.sent,c=!1,s.empty(),d=$("#new-project-dir").val()||i,e.next=12,Be;case 12:l=e.sent,h=o().mark((function e(t){var n,r,i,h,u,p,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ne[t],r=$("<tr></tr>"),d&&n.projectDir&&Kt(d,n.projectDir)&&(null==_e||_e.language===n.language||null==_e.language)&&(r.addClass("highlight"),a=!0,_e&&"tobetrained"===_e.status&&(_e.replaceTr=r)),$("<td style='color: #666;vertical-align: middle'>"+n.projectName+"</td>").appendTo(r),$("<td style='color: #666;vertical-align: middle;-ms-word-break: break-all; word-break: break-word;'>"+n.projectDir+"</td>").appendTo(r),n.dataProjectDir===n.projectDir?$("<td style='color: #666;vertical-align: middle;-ms-word-break: break-all; word-break: break-word;'>"+q("equProDir")+"</td>").appendTo(r):"!imported"===n.dataProjectDir?$("<td style='color: #666;vertical-align: middle;-ms-word-break: break-all; word-break: break-word;'>"+q("importedProDir")+"</td>").appendTo(r):$("<td style='color: #666;vertical-align: middle;-ms-word-break: break-all; word-break: break-word;'>"+n.dataProjectDir+"</td>").appendTo(r),$("<td style='color: #666;vertical-align: middle'>"+Zt(n.trainTime)+"</td>").appendTo(r),i=$("<td style='color: #666;vertical-align: middle'></td>").appendTo(r),Ft(n).appendTo(i),$("<td style='color: #666;vertical-align: middle'>"+l.lang2Display[n.language]+"</td>").appendTo(r),h=$("<td style='color: #666;vertical-align: middle'></td>"),u=$("<div class='table_btns'></div>"),Lt(n).forEach((function(e){return e.appendTo(u)})),u.appendTo(h),h.appendTo(r),p=$("<td style='color: #666;vertical-align: middle;'></td>"),f=$("<div class='table_btns'></div>"),Bt(n).appendTo(f),Ht(n).appendTo(f),e.next=21,G;case 21:if(!e.sent){e.next=23;break}Rt(n).appendTo(f);case 23:f.appendTo(p),p.appendTo(r),r.appendTo(s),null==n.status||"training"!==n.status.status&&"validating"!==n.status.status&&"paused"!==n.status.status&&"preparing"!==n.status.status&&"downloadingNecessaryFiles"!==n.status.status||(c=!0);case 27:case"end":return e.stop()}}),e)})),u=0;case 15:if(!(u<ne.length)){e.next=20;break}return e.delegateYield(h(u),"t0",17);case 17:u++,e.next=15;break;case 20:0===ne.length&&(p=$("<tr id='noDataTr'></tr>"),$("<td colspan='8' style=\"color: #666;vertical-align: middle;height: 140px\">".concat(q("noData"),"</td>")).appendTo(p),p.appendTo(s)),Ut=new Date,Vt(),Je(c),Xt=null,!_e||a&&!_e.replaceTr||(be(_e.replaceTr,_e.proName,_e.proDir,_e.dataProDir,_e.btnType,_e.language,_e.proModel,_e.trainType),$(window).trigger("resize")),_e&&(_e.replaceTr=null),t(a);case 28:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",Xt);case 4:case"end":return e.stop()}}),e)}))),qt.apply(this,arguments)}function Zt(e){return _()(e).format("LLL")}function Vt(){$("#load-status").text(q("lastFetched",_()(Ut).fromNow()))}setInterval(Vt,1e3),$('input[name="train-type"]').on("change",(function(e){var t=$(e.target).val();"load"===t?($("#load-traintype-warning").show(),$("#new-project-model").attr("disabled","disabled"),we&&$("#new-project-model").val(we.proModel||we.proLan)):($("#load-traintype-warning").hide(),$("#new-project-model").removeAttr("disabled")),"auto"===t?($("label[for=manual-train-epoches]").hide(),$("#manual-train-epoches").hide()):($("label[for=manual-train-epoches]").show(),$("#manual-train-epoches").show())})),$("#manual-train-epoches").on("input",(function(e){var t=$(e.target).val();t<1?$("#train-epoches-warning").html(q("train-epoches-warning-too-small")):t>=10&&t<=20?$("#train-epoches-warning").html(q("train-epoches-warning-too-large")):t>=20?$("#train-epoches-warning").html(q("train-epoches-warning-over-large")):$("#train-epoches-warning").text("")})),$("#manual-train-epoches").on("change",(function(e){var t=$(e.target).val();t<1?($("#train-epoches-warning").html(q("train-epoches-warning-too-small")),$(e.target).val(1)):t>20&&($("#train-epoches-warning").html(q("train-epoches-warning-over-small")),$(e.target).val(20))})),(0,B.LK)("/train/idleTrain").then((function(e){null!=e&&($("#idleTrainContainer").show(),$("#idleTrain").prop("checked",e.value),$("#idleTrain").on("change",(function(e){var t=$(e.target).prop("checked");(0,B.uz)("/train/idleTrain",{value:t})})))}))},9958:function(e,t,n){var r,i,a;a=function(){"use strict";var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(t,n,r){var i=n.prototype,a=i.format;r.en.formats=e,i.format=function(t){void 0===t&&(t="YYYY-MM-DDTHH:mm:ssZ");var n=this.$locale().formats,r=function(t,n){return t.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,r,i){var a=i&&i.toUpperCase();return r||n[i]||e[i]||n[a].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,n){return t||n.slice(1)}))}))}(t,void 0===n?{}:n);return a.call(this,r)}}},"object"==n(9039)(t)?e.exports=a():void 0===(i="function"==typeof(r=a)?r.call(t,n,t,e):r)||(e.exports=i)},3877:function(e,t,n){var r,i,a;e=n.nmd(e);var o,s=n(9039);window,o=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==s(e)&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=57)}([function(e,t,n){var r=n(2),i=n(11),a=n(4),o=n(13),s=n(22),c=function e(t,n,c){var d,l,h,u,p=t&e.F,f=t&e.G,g=t&e.P,_=t&e.B,m=f?r:t&e.S?r[n]||(r[n]={}):(r[n]||{}).prototype,v=f?i:i[n]||(i[n]={}),b=v.prototype||(v.prototype={});for(d in f&&(c=n),c)h=((l=!p&&m&&void 0!==m[d])?m:c)[d],u=_&&l?s(h,r):g&&"function"==typeof h?s(Function.call,h):h,m&&o(m,d,h,t&e.U),v[d]!=h&&a(v,d,u),g&&b[d]!=h&&(b[d]=h)};r.core=i,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,t,n){var r=n(17)("wks"),i=n(14),a=n(2).Symbol,o="function"==typeof a;(e.exports=function(e){return r[e]||(r[e]=o&&a[e]||(o?a:i)("Symbol."+e))}).store=r},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){e.exports=function(e){return"object"==s(e)?null!==e:"function"==typeof e}},function(e,t,n){var r=n(5),i=n(16);e.exports=n(6)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(12),i=n(35),a=n(21),o=Object.defineProperty;t.f=n(6)?Object.defineProperty:function(e,t,n){if(r(e),t=a(t,!0),r(n),i)try{return o(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){e.exports=!n(7)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(39),i=n(24);e.exports=function(e){return r(i(e))}},function(e,t,n){var r=n(0);r(r.S+r.F*!n(6),"Object",{defineProperty:n(5).f})},function(e,t){var n=e.exports={version:"2.6.9"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(3);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){var r=n(2),i=n(4),a=n(8),o=n(14)("src"),s=n(59),c=(""+s).split("toString");n(11).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,s){var d="function"==typeof n;d&&(a(n,"name")||i(n,"name",t)),e[t]!==n&&(d&&(a(n,o)||i(n,o,e[t]?""+e[t]:c.join(String(t)))),e===r?e[t]=n:s?e[t]?e[t]=n:i(e,t,n):(delete e[t],i(e,t,n)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[o]||s.call(this)}))},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(45),i=n(28);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(11),i=n(2),a=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(18)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports=!1},function(e,t,n){var r=n(24);e.exports=function(e){return Object(r(e))}},function(e,t,n){"use strict";var r=n(2),i=n(8),a=n(6),o=n(0),c=n(13),d=n(62).KEY,l=n(7),h=n(17),u=n(26),p=n(14),f=n(1),g=n(43),_=n(44),m=n(63),v=n(42),b=n(12),y=n(3),k=n(19),w=n(9),j=n(21),x=n(16),T=n(30),$=n(67),S=n(49),C=n(47),O=n(5),E=n(15),z=S.f,A=O.f,P=$.f,N=r.Symbol,L=r.JSON,M=L&&L.stringify,D=f("_hidden"),I=f("toPrimitive"),F={}.propertyIsEnumerable,B=h("symbol-registry"),H=h("symbols"),R=h("op-symbols"),K=Object.prototype,U="function"==typeof N&&!!C.f,X=r.QObject,Y=!X||!X.prototype||!X.prototype.findChild,q=a&&l((function(){return 7!=T(A({},"a",{get:function(){return A(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=z(K,t);r&&delete K[t],A(e,t,n),r&&e!==K&&A(K,t,r)}:A,Z=function(e){var t=H[e]=T(N.prototype);return t._k=e,t},V=U&&"symbol"==s(N.iterator)?function(e){return"symbol"==s(e)}:function(e){return e instanceof N},W=function e(t,n,r){return t===K&&e(R,n,r),b(t),n=j(n,!0),b(r),i(H,n)?(r.enumerable?(i(t,D)&&t[D][n]&&(t[D][n]=!1),r=T(r,{enumerable:x(0,!1)})):(i(t,D)||A(t,D,x(1,{})),t[D][n]=!0),q(t,n,r)):A(t,n,r)},J=function(e,t){b(e);for(var n,r=m(t=w(t)),i=0,a=r.length;a>i;)W(e,n=r[i++],t[n]);return e},G=function(e){var t=F.call(this,e=j(e,!0));return!(this===K&&i(H,e)&&!i(R,e))&&(!(t||!i(this,e)||!i(H,e)||i(this,D)&&this[D][e])||t)},Q=function(e,t){if(e=w(e),t=j(t,!0),e!==K||!i(H,t)||i(R,t)){var n=z(e,t);return!n||!i(H,t)||i(e,D)&&e[D][t]||(n.enumerable=!0),n}},ee=function(e){for(var t,n=P(w(e)),r=[],a=0;n.length>a;)i(H,t=n[a++])||t==D||t==d||r.push(t);return r},te=function(e){for(var t,n=e===K,r=P(n?R:w(e)),a=[],o=0;r.length>o;)!i(H,t=r[o++])||n&&!i(K,t)||a.push(H[t]);return a};U||(c((N=function(){if(this instanceof N)throw TypeError("Symbol is not a constructor!");var e=p(arguments.length>0?arguments[0]:void 0),t=function t(n){this===K&&t.call(R,n),i(this,D)&&i(this[D],e)&&(this[D][e]=!1),q(this,e,x(1,n))};return a&&Y&&q(K,e,{configurable:!0,set:t}),Z(e)}).prototype,"toString",(function(){return this._k})),S.f=Q,O.f=W,n(48).f=$.f=ee,n(29).f=G,C.f=te,a&&!n(18)&&c(K,"propertyIsEnumerable",G,!0),g.f=function(e){return Z(f(e))}),o(o.G+o.W+o.F*!U,{Symbol:N});for(var ne="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),re=0;ne.length>re;)f(ne[re++]);for(var ie=E(f.store),ae=0;ie.length>ae;)_(ie[ae++]);o(o.S+o.F*!U,"Symbol",{for:function(e){return i(B,e+="")?B[e]:B[e]=N(e)},keyFor:function(e){if(!V(e))throw TypeError(e+" is not a symbol!");for(var t in B)if(B[t]===e)return t},useSetter:function(){Y=!0},useSimple:function(){Y=!1}}),o(o.S+o.F*!U,"Object",{create:function(e,t){return void 0===t?T(e):J(T(e),t)},defineProperty:W,defineProperties:J,getOwnPropertyDescriptor:Q,getOwnPropertyNames:ee,getOwnPropertySymbols:te});var oe=l((function(){C.f(1)}));o(o.S+o.F*oe,"Object",{getOwnPropertySymbols:function(e){return C.f(k(e))}}),L&&o(o.S+o.F*(!U||l((function(){var e=N();return"[null]"!=M([e])||"{}"!=M({a:e})||"{}"!=M(Object(e))}))),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(y(t)||void 0!==e)&&!V(e))return v(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!V(t))return t}),r[1]=t,M.apply(L,r)}}),N.prototype[I]||n(4)(N.prototype,I,N.prototype.valueOf),u(N,"Symbol"),u(Math,"Math",!0),u(r.JSON,"JSON",!0)},function(e,t,n){var r=n(3);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(37);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){"use strict";var r=n(7);e.exports=function(e,t){return!!e&&r((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},function(e,t,n){var r=n(5).f,i=n(8),a=n(1)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,a)&&r(e,a,{configurable:!0,value:t})}},function(e,t,n){var r=n(17)("keys"),i=n(14);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(12),i=n(65),a=n(28),o=n(27)("IE_PROTO"),s=function(){},c=function(){var e,t=n(36)("iframe"),r=a.length;for(t.style.display="none",n(66).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;r--;)delete c.prototype[a[r]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[o]=e):n=c(),void 0===t?n:i(n,t)}},function(e,t,n){"use strict";var r=n(68),i=n(69),a=n(32),o=n(9);e.exports=n(70)(Array,"Array",(function(e,t){this._t=o(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),a.Arguments=a.Array,r("keys"),r("values"),r("entries")},function(e,t){e.exports={}},function(e,t,n){n(44)("asyncIterator")},function(e,t,n){"use strict";var r=n(0),i=n(38)(0),a=n(25)([].forEach,!0);r(r.P+r.F*!a,"Array",{forEach:function(e){return i(this,e,arguments[1])}})},function(e,t,n){e.exports=!n(6)&&!n(7)((function(){return 7!=Object.defineProperty(n(36)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(3),i=n(2).document,a=r(i)&&r(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(22),i=n(39),a=n(19),o=n(40),s=n(60);e.exports=function(e,t){var n=1==e,c=2==e,d=3==e,l=4==e,h=6==e,u=5==e||h,p=t||s;return function(t,s,f){for(var g,_,m=a(t),v=i(m),b=r(s,f,3),y=o(v.length),k=0,w=n?p(t,y):c?p(t,0):void 0;y>k;k++)if((u||k in v)&&(_=b(g=v[k],k,m),e))if(n)w[k]=_;else if(_)switch(e){case 3:return!0;case 5:return g;case 6:return k;case 2:w.push(g)}else if(l)return!1;return h?-1:d||l?l:w}}},function(e,t,n){var r=n(23);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(41),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(23);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){t.f=n(1)},function(e,t,n){var r=n(2),i=n(11),a=n(18),o=n(43),s=n(5).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=a?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:o.f(e)})}},function(e,t,n){var r=n(8),i=n(9),a=n(46)(!1),o=n(27)("IE_PROTO");e.exports=function(e,t){var n,s=i(e),c=0,d=[];for(n in s)n!=o&&r(s,n)&&d.push(n);for(;t.length>c;)r(s,n=t[c++])&&(~a(d,n)||d.push(n));return d}},function(e,t,n){var r=n(9),i=n(40),a=n(64);e.exports=function(e){return function(t,n,o){var s,c=r(t),d=i(c.length),l=a(o,d);if(e&&n!=n){for(;d>l;)if((s=c[l++])!=s)return!0}else for(;d>l;l++)if((e||l in c)&&c[l]===n)return e||l||0;return!e&&-1}}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(45),i=n(28).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){var r=n(29),i=n(16),a=n(9),o=n(21),s=n(8),c=n(35),d=Object.getOwnPropertyDescriptor;t.f=n(6)?d:function(e,t){if(e=a(e),t=o(t,!0),c)try{return d(e,t)}catch(e){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t,n){for(var r=n(31),i=n(15),a=n(13),o=n(2),s=n(4),c=n(32),d=n(1),l=d("iterator"),h=d("toStringTag"),u=c.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},f=i(p),g=0;g<f.length;g++){var _,m=f[g],v=p[m],b=o[m],y=b&&b.prototype;if(y&&(y[l]||s(y,l,u),y[h]||s(y,h,m),c[m]=u,v))for(_ in r)y[_]||a(y,_,r[_],!0)}},function(e,t,n){"use strict";var r=n(73),i={};i[n(1)("toStringTag")]="z",i+""!="[object z]"&&n(13)(Object.prototype,"toString",(function(){return"[object "+r(this)+"]"}),!0)},function(e,t,n){var r=n(19),i=n(15);n(74)("keys",(function(){return function(e){return i(r(e))}}))},function(e,t,n){"use strict";var r=n(0),i=n(38)(2);r(r.P+r.F*!n(25)([].filter,!0),"Array",{filter:function(e){return i(this,e,arguments[1])}})},function(e,t,n){var r=n(0);r(r.P,"Function",{bind:n(75)})},function(e,t,n){var r=n(0);r(r.S,"Object",{create:n(30)})},function(e,t,n){var r=n(0);r(r.S,"Object",{setPrototypeOf:n(81).set})},function(e,t,n){n(58),e.exports=n(82)},function(e,t){},function(e,t,n){e.exports=n(17)("native-function-to-string",Function.toString)},function(e,t,n){var r=n(61);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(3),i=n(42),a=n(1)("species");e.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),r(t)&&null===(t=t[a])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){var r=n(14)("meta"),i=n(3),a=n(8),o=n(5).f,c=0,d=Object.isExtensible||function(){return!0},l=!n(7)((function(){return d(Object.preventExtensions({}))})),h=function(e){o(e,r,{value:{i:"O"+ ++c,w:{}}})},u=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==s(e)?e:("string"==typeof e?"S":"P")+e;if(!a(e,r)){if(!d(e))return"F";if(!t)return"E";h(e)}return e[r].i},getWeak:function(e,t){if(!a(e,r)){if(!d(e))return!0;if(!t)return!1;h(e)}return e[r].w},onFreeze:function(e){return l&&u.NEED&&d(e)&&!a(e,r)&&h(e),e}}},function(e,t,n){var r=n(15),i=n(47),a=n(29);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var o,s=n(e),c=a.f,d=0;s.length>d;)c.call(e,o=s[d++])&&t.push(o);return t}},function(e,t,n){var r=n(41),i=Math.max,a=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):a(e,t)}},function(e,t,n){var r=n(5),i=n(12),a=n(15);e.exports=n(6)?Object.defineProperties:function(e,t){i(e);for(var n,o=a(t),s=o.length,c=0;s>c;)r.f(e,n=o[c++],t[n]);return e}},function(e,t,n){var r=n(2).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(9),i=n(48).f,a={}.toString,o="object"==("undefined"==typeof window?"undefined":s(window))&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return o&&"[object Window]"==a.call(e)?function(e){try{return i(e)}catch(e){return o.slice()}}(e):i(r(e))}},function(e,t,n){var r=n(1)("unscopables"),i=Array.prototype;null==i[r]&&n(4)(i,r,{}),e.exports=function(e){i[r][e]=!0}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){"use strict";var r=n(18),i=n(0),a=n(13),o=n(4),s=n(32),c=n(71),d=n(26),l=n(72),h=n(1)("iterator"),u=!([].keys&&"next"in[].keys()),p=function(){return this};e.exports=function(e,t,n,f,g,_,m){c(n,t,f);var v,b,y,k=function(e){if(!u&&e in T)return T[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},w=t+" Iterator",j="values"==g,x=!1,T=e.prototype,$=T[h]||T["@@iterator"]||g&&T[g],S=$||k(g),C=g?j?k("entries"):S:void 0,O="Array"==t&&T.entries||$;if(O&&(y=l(O.call(new e)))!==Object.prototype&&y.next&&(d(y,w,!0),r||"function"==typeof y[h]||o(y,h,p)),j&&$&&"values"!==$.name&&(x=!0,S=function(){return $.call(this)}),r&&!m||!u&&!x&&T[h]||o(T,h,S),s[t]=S,s[w]=p,g)if(v={values:j?S:k("values"),keys:_?S:k("keys"),entries:C},m)for(b in v)b in T||a(T,b,v[b]);else i(i.P+i.F*(u||x),t,v);return v}},function(e,t,n){"use strict";var r=n(30),i=n(16),a=n(26),o={};n(4)(o,n(1)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(o,{next:i(1,n)}),a(e,t+" Iterator")}},function(e,t,n){var r=n(8),i=n(19),a=n(27)("IE_PROTO"),o=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?o:null}},function(e,t,n){var r=n(23),i=n(1)("toStringTag"),a="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:a?r(t):"Object"==(o=r(t))&&"function"==typeof t.callee?"Arguments":o}},function(e,t,n){var r=n(0),i=n(11),a=n(7);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],o={};o[e]=t(n),r(r.S+r.F*a((function(){n(1)})),"Object",o)}},function(e,t,n){"use strict";var r=n(37),i=n(3),a=n(76),o=[].slice,s={};e.exports=Function.bind||function(e){var t=r(this),n=o.call(arguments,1),c=function r(){var i=n.concat(o.call(arguments));return this instanceof r?function(e,t,n){if(!(t in s)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";s[t]=Function("F,a","return new F("+r.join(",")+")")}return s[t](e,n)}(t,i.length,i):a(t,i,e)};return i(t.prototype)&&(c.prototype=t.prototype),c}},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){"use strict";n(78)("trim",(function(e){return function(){return e(this,3)}}))},function(e,t,n){var r=n(0),i=n(24),a=n(7),o=n(79),s="["+o+"]",c=RegExp("^"+s+s+"*"),d=RegExp(s+s+"*$"),l=function(e,t,n){var i={},s=a((function(){return!!o[e]()||"​"!="​"[e]()})),c=i[e]=s?t(h):o[e];n&&(i[n]=c),r(r.P+r.F*s,"String",i)},h=l.trim=function(e,t){return e=String(i(e)),1&t&&(e=e.replace(c,"")),2&t&&(e=e.replace(d,"")),e};e.exports=l},function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(e,t,n){"use strict";var r=n(0),i=n(46)(!1),a=[].indexOf,o=!!a&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(o||!n(25)(a)),"Array",{indexOf:function(e){return o?a.apply(this,arguments)||0:i(this,e,arguments[1])}})},function(e,t,n){var r=n(3),i=n(12),a=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(22)(Function.call,n(49).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return a(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:a}},function(e,t,n){"use strict";n.r(t),n(34),n(20),n(50),n(31),n(51),n(52),n(10),n(53),n(54);var r="driver-highlighted-element-stage",i='<div id="'.concat("driver-page-overlay",'"></div>'),a='<div id="'.concat(r,'"></div>');function o(e){return(o="function"==typeof Symbol&&"symbol"==s(Symbol.iterator)?function(e){return s(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":s(e)})(e)}n(33),n(77);var c=function(e){var t=document.createElement("div");return t.innerHTML=e.trim(),t.firstChild},d=function e(t,n){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]){for(var r=["","-webkit-","-ms-","moz-","-o-"],i=0;i<r.length;i++){var a=e(t,r[i]+n);if(a)return a}return""}var o="";return t.currentStyle?o=t.currentStyle[n]:document.defaultView&&document.defaultView.getComputedStyle&&(o=document.defaultView.getComputedStyle(t,null).getPropertyValue(n)),o&&o.toLowerCase?o.toLowerCase():o},l=function(e){return e&&"object"===o(e)&&"nodeType"in e};var h=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=t,this.highlightedElement=null,this.lastHighlightedElement=null,this.hideTimer=null,this.window=n,this.document=r,this.removeNode=this.removeNode.bind(this)}var t;return(t=[{key:"attachNode",value:function(){var e=this.document.getElementById("driver-page-overlay");e||(e=c(i),document.body.appendChild(e)),this.node=e,this.node.style.opacity="0",this.options.animate||this.node.parentElement&&this.node.parentElement.removeChild(this.node)}},{key:"highlight",value:function(e){e&&e.node?e.isSame(this.highlightedElement)||(this.window.clearTimeout(this.hideTimer),e.onHighlightStarted(),this.highlightedElement&&!this.highlightedElement.isSame(this.lastHighlightedElement)&&this.highlightedElement.onDeselected(),e.getCalculatedPosition().canHighlight()&&(this.lastHighlightedElement=this.highlightedElement,this.highlightedElement=e,this.show(),this.highlightedElement.onHighlighted())):console.warn("Invalid element to highlight. Must be an instance of `Element`")}},{key:"show",value:function(){var e=this;this.node&&this.node.parentElement||(this.attachNode(),window.setTimeout((function(){e.node.style.opacity="".concat(e.options.opacity),e.node.style.position="fixed",e.node.style.left="0",e.node.style.top="0",e.node.style.bottom="0",e.node.style.right="0"})))}},{key:"getHighlightedElement",value:function(){return this.highlightedElement}},{key:"getLastHighlightedElement",value:function(){return this.lastHighlightedElement}},{key:"clear",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.options.onReset&&this.options.onReset(this.highlightedElement),this.highlightedElement&&this.highlightedElement.onDeselected(!0),this.highlightedElement=null,this.lastHighlightedElement=null,this.node&&(this.window.clearTimeout(this.hideTimer),this.options.animate&&!e?(this.node.style.opacity="0",this.hideTimer=this.window.setTimeout(this.removeNode,300)):this.removeNode())}},{key:"removeNode",value:function(){this.node&&this.node.parentElement&&this.node.parentElement.removeChild(this.node)}},{key:"refresh",value:function(){this.highlightedElement&&(this.highlightedElement.showPopover(),this.highlightedElement.showStage())}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();n(80);var u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.left,r=void 0===n?0:n,i=t.top,a=void 0===i?0:i,o=t.right,s=void 0===o?0:o,c=t.bottom,d=void 0===c?0:c;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.left=r,this.right=s,this.top=a,this.bottom=d}var t;return(t=[{key:"canHighlight",value:function(){return this.left<this.right&&this.top<this.bottom}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();var p=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.node,r=t.options,i=t.popover,a=t.stage,o=t.overlay,s=t.window,c=t.document;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.node=n,this.document=c,this.window=s,this.options=r,this.overlay=o,this.popover=i,this.stage=a,this.animationTimeout=null}var t;return(t=[{key:"isInView",value:function(){for(var e=this.node.offsetTop,t=this.node.offsetLeft,n=this.node.offsetWidth,r=this.node.offsetHeight,i=this.node;i.offsetParent;)e+=(i=i.offsetParent).offsetTop,t+=i.offsetLeft;return e>=this.window.pageYOffset&&t>=this.window.pageXOffset&&e+r<=this.window.pageYOffset+this.window.innerHeight&&t+n<=this.window.pageXOffset+this.window.innerWidth}},{key:"scrollManually",value:function(){var e=this.node.getBoundingClientRect().top+this.window.pageYOffset-this.window.innerHeight/2;this.window.scrollTo(0,e)}},{key:"bringInView",value:function(){if(this.node&&!this.isInView())if(this.node.scrollIntoView)try{this.node.scrollIntoView(this.options.scrollIntoViewOptions||{behavior:"instant",block:"center"})}catch(e){this.scrollManually()}else this.scrollManually()}},{key:"getCalculatedPosition",value:function(){var e=this.document.body,t=this.document.documentElement,n=this.window,r=this.window.pageYOffset||t.scrollTop||e.scrollTop,i=n.pageXOffset||t.scrollLeft||e.scrollLeft,a=this.node.getBoundingClientRect();return new u({top:a.top+r,left:a.left+i,right:a.left+i+a.width,bottom:a.top+r+a.height})}},{key:"getPopover",value:function(){return this.popover}},{key:"onDeselected",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.hidePopover(),e&&this.hideStage(),this.removeHighlightClasses(),this.window.clearTimeout(this.animationTimeout),this.options.onDeselected&&this.options.onDeselected(this)}},{key:"isSame",value:function(e){return!(!e||!e.node)&&e.node===this.node}},{key:"onHighlightStarted",value:function(){this.options.onHighlightStarted&&this.options.onHighlightStarted(this)}},{key:"onHighlighted",value:function(){this.isInView()||this.bringInView(),this.showPopover(),this.showStage(),this.addHighlightClasses(),this.options.onHighlighted&&this.options.onHighlighted(this)}},{key:"removeHighlightClasses",value:function(){this.node.classList.remove("driver-highlighted-element"),this.node.classList.remove("driver-position-relative");for(var e=this.document.querySelectorAll(".".concat("driver-fix-stacking")),t=0;t<e.length;t++)e[t].classList.remove("driver-fix-stacking")}},{key:"addHighlightClasses",value:function(){this.node.classList.add("driver-highlighted-element"),this.canMakeRelative()&&this.node.classList.add("driver-position-relative"),this.fixStackingContext()}},{key:"fixStackingContext",value:function(){for(var e=this.node.parentNode;e&&e.tagName&&"body"!==e.tagName.toLowerCase();){var t=d(e,"z-index"),n=parseFloat(d(e,"opacity")),r=d(e,"transform",!0),i=d(e,"transform-style",!0),a=d(e,"transform-box",!0),o=d(e,"filter",!0),s=d(e,"perspective",!0);(/[0-9]+/.test(t)||n<1||r&&"none"!==r||i&&"flat"!==i||a&&"border-box"!==a||o&&"none"!==o||s&&"none"!==s)&&e.classList.add("driver-fix-stacking"),e=e.parentNode}}},{key:"canMakeRelative",value:function(){var e=this.getStyleProperty("position");return-1===["absolute","fixed","relative"].indexOf(e)}},{key:"getStyleProperty",value:function(e){return d(this.node,e)}},{key:"showStage",value:function(){this.stage.show(this.getCalculatedPosition())}},{key:"getNode",value:function(){return this.node}},{key:"hideStage",value:function(){this.stage.hide()}},{key:"hidePopover",value:function(){this.popover&&this.popover.hide()}},{key:"showPopover",value:function(){var e=this;if(this.popover){var t=this.getCalculatedPosition(),n=300;this.options.animate&&this.overlay.lastHighlightedElement||(n=0),this.animationTimeout=this.window.setTimeout((function(){e.popover.show(t)}),n)}}},{key:"getFullPageSize",value:function(){var e=this.document.body,t=this.document.documentElement;return{height:Math.max(e.scrollHeight,e.offsetHeight,t.scrollHeight,t.offsetHeight),width:Math.max(e.scrollWidth,e.offsetWidth,t.scrollWidth,t.offsetWidth)}}},{key:"getSize",value:function(){return{height:Math.max(this.node.scrollHeight,this.node.offsetHeight),width:Math.max(this.node.scrollWidth,this.node.offsetWidth)}}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();function f(e){return(f="function"==typeof Symbol&&"symbol"==s(Symbol.iterator)?function(e){return s(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":s(e)})(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n(55),n(56);var v=function(e){function t(e,n,r){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(i=function(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,_(t).call(this))).options=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){g(e,t,n[t])}))}return e}({isFirst:!0,isLast:!0,totalCount:1,currentIndex:0,offset:0,showButtons:!0,closeBtnText:"Close",doneBtnText:"Done",startBtnText:"Next &rarr;",nextBtnText:"Next &rarr;",prevBtnText:"&larr; Previous"},e),i.window=n,i.document=r,i}var n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,p),(n=[{key:"attachNode",value:function(){var e=this.document.getElementById("driver-popover-item");e&&e.parentElement.removeChild(e),e=c(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return'\n  <div id="'.concat("driver-popover-item",'" class="').concat(e,'">\n    <div class="').concat("driver-popover-tip",'"></div>\n    <div class="').concat("driver-popover-title",'">Popover Title</div>\n    <div class="').concat("driver-popover-description",'">Popover Description</div>\n    <div class="driver-clearfix ').concat("driver-popover-footer",'">\n      <button class="').concat("driver-close-btn",'">Close</button>\n      <span class="driver-btn-group ').concat("driver-navigation-btns",'">\n        <button class="').concat("driver-prev-btn",'">&larr; Previous</button>\n        <button class="').concat("driver-next-btn",'">Next &rarr;</button>\n      </span>\n    </div>\n  </div>')}(this.options.className)),document.body.appendChild(e),this.node=e,this.tipNode=e.querySelector(".".concat("driver-popover-tip")),this.titleNode=e.querySelector(".".concat("driver-popover-title")),this.descriptionNode=e.querySelector(".".concat("driver-popover-description")),this.footerNode=e.querySelector(".".concat("driver-popover-footer")),this.nextBtnNode=e.querySelector(".".concat("driver-next-btn")),this.prevBtnNode=e.querySelector(".".concat("driver-prev-btn")),this.closeBtnNode=e.querySelector(".".concat("driver-close-btn"))}},{key:"getTitleNode",value:function(){return this.titleNode}},{key:"getDescriptionNode",value:function(){return this.descriptionNode}},{key:"hide",value:function(){this.node&&(this.node.style.display="none")}},{key:"setInitialState",value:function(){this.node.style.display="block",this.node.style.left="0",this.node.style.top="0",this.node.style.bottom="",this.node.style.right="",this.node.querySelector(".".concat("driver-popover-tip")).className="driver-popover-tip"}},{key:"show",value:function(e){switch(this.attachNode(),this.setInitialState(),this.titleNode.innerHTML=this.options.title,this.descriptionNode.innerHTML=this.options.description||"",this.renderFooter(),this.options.position){case"left":case"left-top":this.positionOnLeft(e);break;case"left-center":this.positionOnLeftCenter(e);break;case"left-bottom":this.positionOnLeftBottom(e);break;case"right":case"right-top":this.positionOnRight(e);break;case"right-center":this.positionOnRightCenter(e);break;case"right-bottom":this.positionOnRightBottom(e);break;case"top":case"top-left":this.positionOnTop(e);break;case"top-center":this.positionOnTopCenter(e);break;case"top-right":this.positionOnTopRight(e);break;case"bottom":case"bottom-left":this.positionOnBottom(e);break;case"bottom-center":this.positionOnBottomCenter(e);break;case"bottom-right":this.positionOnBottomRight(e);break;case"mid-center":this.positionOnMidCenter(e);break;default:this.autoPosition(e)}this.bringInView()}},{key:"renderFooter",value:function(){this.nextBtnNode.innerHTML=this.options.nextBtnText,this.prevBtnNode.innerHTML=this.options.prevBtnText,this.closeBtnNode.innerHTML=this.options.closeBtnText;var e=this.options.totalCount&&1!==this.options.totalCount;this.options.showButtons?(e?(this.nextBtnNode.style.display="inline-block",this.prevBtnNode.style.display="inline-block",this.closeBtnNode.classList.remove("driver-close-only-btn")):(this.nextBtnNode.style.display="none",this.prevBtnNode.style.display="none",this.closeBtnNode.classList.add("driver-close-only-btn")),this.footerNode.style.display="block",this.options.isFirst?(this.prevBtnNode.classList.add("driver-disabled"),this.nextBtnNode.innerHTML=this.options.startBtnText):this.prevBtnNode.classList.remove("driver-disabled"),this.options.isLast?this.nextBtnNode.innerHTML=this.options.doneBtnText:this.nextBtnNode.innerHTML=this.options.nextBtnText):this.footerNode.style.display="none"}},{key:"positionOnLeft",value:function(e){var t=this.getSize().width,n=this.options.padding+10;this.node.style.left="".concat(e.left-t-n,"px"),this.node.style.top="".concat(e.top+this.options.offset-this.options.padding,"px"),this.node.style.right="",this.node.style.bottom="",this.tipNode.classList.add("right")}},{key:"positionOnLeftBottom",value:function(e){var t=this.getSize(),n=t.width,r=this.options.padding+10;this.node.style.left="".concat(e.left-n-r,"px"),this.node.style.top="".concat(e.bottom+this.options.padding+this.options.offset-t.height,"px"),this.node.style.bottom="",this.node.style.right="",this.tipNode.classList.add("right","position-bottom")}},{key:"positionOnLeftCenter",value:function(e){var t=this.getSize(),n=t.width,r=t.height/2,i=this.options.padding+10,a=(e.bottom-e.top)/2,o=e.top-r+a+this.options.offset;this.node.style.left="".concat(e.left-n-i,"px"),this.node.style.top="".concat(o,"px"),this.node.style.right="",this.node.style.bottom="",this.tipNode.classList.add("right","position-center")}},{key:"positionOnRight",value:function(e){var t=this.options.padding+10;this.node.style.left="".concat(e.right+t,"px"),this.node.style.top="".concat(e.top+this.options.offset-this.options.padding,"px"),this.node.style.right="",this.node.style.bottom="",this.tipNode.classList.add("left")}},{key:"positionOnRightCenter",value:function(e){var t=this.getSize(),n=this.options.padding+10,r=t.height/2,i=(e.bottom-e.top)/2,a=e.top-r+i+this.options.offset;this.node.style.left="".concat(e.right+n,"px"),this.node.style.top="".concat(a,"px"),this.node.style.right="",this.node.style.bottom="",this.tipNode.classList.add("left","position-center")}},{key:"positionOnRightBottom",value:function(e){var t=this.options.padding+10,n=this.getSize();this.node.style.left="".concat(e.right+t,"px"),this.node.style.top="".concat(e.bottom+this.options.padding+this.options.offset-n.height,"px"),this.node.style.bottom="",this.node.style.right="",this.tipNode.classList.add("left","position-bottom")}},{key:"positionOnTop",value:function(e){var t=this.getSize().height,n=this.options.padding+10;this.node.style.top="".concat(e.top-t-n,"px"),this.node.style.left="".concat(e.left-this.options.padding+this.options.offset,"px"),this.node.style.right="",this.node.style.bottom="",this.tipNode.classList.add("bottom")}},{key:"positionOnTopCenter",value:function(e){var t=this.getSize(),n=t.height,r=t.width/2,i=this.options.padding+10,a=this.options.offset+e.left+(e.right-e.left)/2;this.node.style.top="".concat(e.top-n-i,"px"),this.node.style.left="".concat(a-r-this.options.padding,"px"),this.node.style.right="",this.node.style.bottom="",this.tipNode.classList.add("bottom","position-center")}},{key:"positionOnTopRight",value:function(e){var t=this.getSize(),n=t.height,r=this.options.padding+10;this.node.style.top="".concat(e.top-n-r,"px"),this.node.style.left="".concat(e.right+this.options.padding+this.options.offset-t.width,"px"),this.node.style.right="",this.node.style.bottom="",this.tipNode.classList.add("bottom","position-right")}},{key:"positionOnBottom",value:function(e){var t=this.options.padding+10;this.node.style.top="".concat(e.bottom+t,"px"),this.node.style.left="".concat(e.left-this.options.padding+this.options.offset,"px"),this.node.style.right="",this.node.style.bottom="",this.tipNode.classList.add("top")}},{key:"positionOnBottomCenter",value:function(e){var t=this.getSize().width/2,n=this.options.padding+10,r=this.options.offset+e.left+(e.right-e.left)/2;this.node.style.top="".concat(e.bottom+n,"px"),this.node.style.left="".concat(r-t-this.options.padding,"px"),this.node.style.right="",this.node.style.bottom="",this.tipNode.classList.add("top","position-center")}},{key:"positionOnBottomRight",value:function(e){var t=this.getSize(),n=this.options.padding+10;this.node.style.top="".concat(e.bottom+n,"px"),this.node.style.left="".concat(e.right+this.options.padding+this.options.offset-t.width,"px"),this.node.style.right="",this.node.style.bottom="",this.tipNode.classList.add("top","position-right")}},{key:"positionOnMidCenter",value:function(e){var t=this.getSize(),n=t.height,r=t.width/2,i=n/2,a=(e.bottom-e.top)/2,o=e.top-i+a+this.options.offset,s=this.options.offset+e.left+(e.right-e.left)/2;this.node.style.top="".concat(o,"px"),this.node.style.left="".concat(s-r-this.options.padding,"px"),this.node.style.right="",this.node.style.bottom="",this.tipNode.classList.add("mid-center")}},{key:"autoPosition",value:function(e){var t=this.getFullPageSize(),n=this.getSize(),r=t.height,i=n.height,a=this.options.padding+10;e.bottom+i+a>=r?this.positionOnTop(e):this.positionOnBottom(e)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),t}();function b(e){return(b="function"==typeof Symbol&&"symbol"==s(Symbol.iterator)?function(e){return s(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":s(e)})(e)}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var w=function(e){function t(e,n,r){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(i=function(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,y(t).call(this))).options=e,i.window=n,i.document=r,i}var n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(t,p),(n=[{key:"attachNode",value:function(){var e=this.document.getElementById(r);e||(e=c(a),document.body.appendChild(e)),this.node=e,this.options.animate?this.node.classList.remove("driver-stage-no-animation"):this.node.classList.add("driver-stage-no-animation")}},{key:"hide",value:function(){this.node&&this.node.parentElement&&this.node.parentElement.removeChild(this.node)}},{key:"setInitialStyle",value:function(){this.node.style.display="block",this.node.style.left="0",this.node.style.top="0",this.node.style.bottom="",this.node.style.right=""}},{key:"show",value:function(e){this.attachNode(),this.setInitialStyle();var t=2*this.options.padding,n=e.right-e.left+t,r=e.bottom-e.top+t;this.node.style.display="block",this.node.style.position="absolute",this.node.style.width="".concat(n,"px"),this.node.style.height="".concat(r,"px"),this.node.style.top="".concat(e.top-t/2,"px"),this.node.style.left="".concat(e.left-t/2,"px"),this.node.style.backgroundColor=this.options.stageBackground}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),t}();function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){x(e,t,n[t])}))}return e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"default",(function(){return T}));var T=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=j({animate:!0,opacity:.75,padding:10,scrollIntoViewOptions:null,allowClose:!0,keyboardControl:!0,overlayClickNext:!1,stageBackground:"#ffffff",onHighlightStarted:function(){return null},onHighlighted:function(){return null},onDeselected:function(){return null},onReset:function(){return null},onNext:function(){return null},onPrevious:function(){return null}},t),this.document=document,this.window=window,this.isActivated=!1,this.steps=[],this.currentStep=0,this.currentMovePrevented=!1,this.overlay=new h(this.options,window,document),this.onResize=this.onResize.bind(this),this.onKeyUp=this.onKeyUp.bind(this),this.onClick=this.onClick.bind(this),this.moveNext=this.moveNext.bind(this),this.movePrevious=this.movePrevious.bind(this),this.preventMove=this.preventMove.bind(this),this.bind()}var t;return(t=[{key:"getSteps",value:function(){return this.steps}},{key:"setSteps",value:function(e){this.steps=e}},{key:"bind",value:function(){this.window.addEventListener("resize",this.onResize,!1),this.window.addEventListener("keyup",this.onKeyUp,!1),"ontouchstart"in document.documentElement?this.window.addEventListener("touchstart",this.onClick,!1):this.window.addEventListener("click",this.onClick,!1)}},{key:"onClick",value:function(e){if(this.isActivated&&this.hasHighlightedElement()){e.stopPropagation();var t=this.overlay.getHighlightedElement(),n=this.document.getElementById("driver-popover-item"),r=t.node.contains(e.target),i=n&&n.contains(e.target);if(r||i||!this.options.overlayClickNext)if(r||i||!this.options.allowClose){var a=e.target.classList.contains("driver-next-btn"),o=e.target.classList.contains("driver-prev-btn");e.target.classList.contains("driver-close-btn")?this.reset():a?this.handleNext():o&&this.handlePrevious()}else this.reset();else this.handleNext()}}},{key:"onResize",value:function(){this.isActivated&&this.refresh()}},{key:"refresh",value:function(){this.overlay.refresh()}},{key:"onKeyUp",value:function(e){if(this.isActivated&&this.options.keyboardControl)if(27!==e.keyCode){var t=this.getHighlightedElement();t&&t.popover&&(39===e.keyCode?this.handleNext():37===e.keyCode&&this.handlePrevious())}else this.reset()}},{key:"movePrevious",value:function(){var e=this.steps[this.currentStep-1];e?(this.overlay.highlight(e),this.currentStep-=1):this.reset()}},{key:"preventMove",value:function(){this.currentMovePrevented=!0}},{key:"handleNext",value:function(){this.currentMovePrevented=!1;var e=this.steps[this.currentStep];e&&e.options&&e.options.onNext&&e.options.onNext(this.overlay.highlightedElement),this.currentMovePrevented||this.moveNext()}},{key:"handlePrevious",value:function(){this.currentMovePrevented=!1;var e=this.steps[this.currentStep];e&&e.options&&e.options.onPrevious&&e.options.onPrevious(this.overlay.highlightedElement),this.currentMovePrevented||this.movePrevious()}},{key:"moveNext",value:function(){var e=this.steps[this.currentStep+1];e?(this.overlay.highlight(e),this.currentStep+=1):this.reset()}},{key:"hasNextStep",value:function(){return!!this.steps[this.currentStep+1]}},{key:"hasPreviousStep",value:function(){return!!this.steps[this.currentStep-1]}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.currentStep=0,this.isActivated=!1,this.overlay.clear(e)}},{key:"hasHighlightedElement",value:function(){var e=this.overlay.getHighlightedElement();return e&&e.node}},{key:"getHighlightedElement",value:function(){return this.overlay.getHighlightedElement()}},{key:"getLastHighlightedElement",value:function(){return this.overlay.getLastHighlightedElement()}},{key:"defineSteps",value:function(e){this.steps=[];for(var t=0;t<e.length;t++){var n=this.prepareElementFromStep(e[t],e,t);n&&this.steps.push(n)}}},{key:"prepareElementFromStep",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=j({},this.options),i=e,a="string"!=typeof e&&!l(e);if(!e||a&&!e.element)throw new Error("Element is required in step ".concat(n));a&&(i=e.element,r=j({},this.options,e));var o=l(i)?i:this.document.querySelector(i);if(!o)return console.warn("Element to highlight ".concat(i," not found")),null;var s=null;if(r.popover&&r.popover.title){var c=[this.options.className,r.popover.className].filter((function(e){return e})).join(" "),d=j({},r,r.popover,{className:c,totalCount:t.length,currentIndex:n,isFirst:0===n,isLast:0===t.length||n===t.length-1});s=new v(d,this.window,this.document)}var h=j({},r),u=new w(h,this.window,this.document);return new p({node:o,options:r,popover:s,stage:u,overlay:this.overlay,window:this.window,document:this.document})}},{key:"start",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!this.steps||0===this.steps.length)throw new Error("There are no steps defined to iterate");this.isActivated=!0,this.currentStep=e,this.overlay.highlight(this.steps[e])}},{key:"highlight",value:function(e){this.isActivated=!0;var t=this.prepareElementFromStep(e);t&&this.overlay.highlight(t)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}()}]).default},"object"==s(t)&&"object"==s(e)?e.exports=o():(i=[],void 0===(a="function"==typeof(r=o)?r.apply(t,i):r)||(e.exports=a))},7453:function(e,t,n){"use strict";var r=n(9049),i=n.n(r),a=n(5837),o=n.n(a)()(i());o.push([e.id,'div#driver-popover-item{display:none;position:absolute;background:#fff;color:#2d2d2d;margin:0;padding:15px;border-radius:5px;min-width:250px;max-width:300px;box-shadow:0 1px 10px rgba(0,0,0,.4);z-index:1000000000}div#driver-popover-item .driver-popover-tip{border:5px solid #fff;content:"";position:absolute}div#driver-popover-item .driver-popover-tip.bottom{bottom:-10px;border-color:#fff transparent transparent}div#driver-popover-item .driver-popover-tip.bottom.position-center{left:49%}div#driver-popover-item .driver-popover-tip.bottom.position-right{right:20px}div#driver-popover-item .driver-popover-tip.left{left:-10px;top:10px;border-color:transparent #fff transparent transparent}div#driver-popover-item .driver-popover-tip.left.position-center{top:46%}div#driver-popover-item .driver-popover-tip.left.position-bottom{top:auto;bottom:20px}div#driver-popover-item .driver-popover-tip.right{right:-10px;top:10px;border-color:transparent transparent transparent #fff}div#driver-popover-item .driver-popover-tip.right.position-center{top:46%}div#driver-popover-item .driver-popover-tip.right.position-bottom{top:auto;bottom:20px}div#driver-popover-item .driver-popover-tip.top{top:-10px;border-color:transparent transparent #fff}div#driver-popover-item .driver-popover-tip.top.position-center{left:49%}div#driver-popover-item .driver-popover-tip.top.position-right{right:20px}div#driver-popover-item .driver-popover-tip.mid-center{display:none}div#driver-popover-item .driver-popover-footer{display:block;margin-top:10px}div#driver-popover-item .driver-popover-footer button{display:inline-block;padding:3px 10px;border:1px solid #d4d4d4;text-decoration:none;text-shadow:1px 1px 0 #fff;color:#2d2d2d;font:11px/normal sans-serif;cursor:pointer;outline:0;background-color:#f1f1f1;border-radius:2px;zoom:1;line-height:1.3}div#driver-popover-item .driver-popover-footer button.driver-disabled{color:grey;cursor:default;pointer-events:none}div#driver-popover-item .driver-popover-footer .driver-close-btn{float:left}div#driver-popover-item .driver-popover-footer .driver-btn-group,div#driver-popover-item .driver-popover-footer .driver-close-only-btn{float:right}div#driver-popover-item .driver-popover-title{font:19px/normal sans-serif;margin:0 0 5px;font-weight:700;display:block;position:relative;line-height:1.5;zoom:1}div#driver-popover-item .driver-popover-description{margin-bottom:0;font:14px/normal sans-serif;line-height:1.5;color:#2d2d2d;font-weight:400;zoom:1}.driver-clearfix:after,.driver-clearfix:before{content:"";display:table}.driver-clearfix:after{clear:both}.driver-stage-no-animation{-webkit-transition:none!important;-moz-transition:none!important;-ms-transition:none!important;-o-transition:none!important;transition:none!important;background:transparent!important;outline:5000px solid rgba(0,0,0,.75)}div#driver-page-overlay{background:#000;position:fixed;bottom:0;right:0;display:block;width:100%;height:100%;zoom:1;filter:alpha(opacity=75);opacity:.75;z-index:100002!important}div#driver-highlighted-element-stage,div#driver-page-overlay{top:0;left:0;-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s}div#driver-highlighted-element-stage{position:absolute;height:50px;width:300px;background:#fff;z-index:100003!important;display:none;border-radius:2px}.driver-highlighted-element{z-index:100004!important}.driver-position-relative{position:relative!important}.driver-fix-stacking{z-index:auto!important;opacity:1!important;-webkit-transform:none!important;-moz-transform:none!important;-ms-transform:none!important;-o-transform:none!important;transform:none!important;-webkit-filter:none!important;-moz-filter:none!important;-ms-filter:none!important;-o-filter:none!important;filter:none!important;-webkit-perspective:none!important;-moz-perspective:none!important;-ms-perspective:none!important;-o-perspective:none!important;perspective:none!important;-webkit-transform-style:flat!important;-moz-transform-style:flat!important;-ms-transform-style:flat!important;transform-style:flat!important;-webkit-transform-box:border-box!important;-moz-transform-box:border-box!important;-ms-transform-box:border-box!important;-o-transform-box:border-box!important;transform-box:border-box!important;will-change:unset!important}',""]),t.Z=o},7568:function(e,t,n){var r,i,a;!function(o){"use strict";i=[n(6916)],r=function(e,t){if(!e.jstree){var n=0,r=!1,i=!1,a=!1,o=[],s=e("script:last").attr("src"),c=window.document,d=window.setImmediate,l=window.Promise;!d&&l&&(d=function(e,t){l.resolve(t).then(e)}),e.jstree={version:"3.3.12",defaults:{plugins:[]},plugins:{},path:s&&-1!==s.indexOf("/")?s.replace(/\/[^\/]+$/,""):"",idregex:/[\\:&!^|()\[\]<>@*'+~#";.,=\- \/${}%?`]/g,root:"#"},e.jstree.create=function(t,r){var i=new e.jstree.core(++n),a=r;return r=e.extend(!0,{},e.jstree.defaults,r),a&&a.plugins&&(r.plugins=a.plugins),e.each(r.plugins,(function(e,t){"core"!==e&&(i=i.plugin(t,r[t]))})),e(t).data("jstree",i),i.init(t,r),i},e.jstree.destroy=function(){e(".jstree:jstree").jstree("destroy"),e(c).off(".jstree")},e.jstree.core=function(e){this._id=e,this._cnt=0,this._wrk=null,this._data={core:{themes:{name:!1,dots:!1,icons:!1,ellipsis:!1},selected:[],last_error:{},working:!1,worker_queue:[],focused:null}}},e.jstree.reference=function(t){var n=null,r=null;if(!t||!t.id||t.tagName&&t.nodeType||(t=t.id),!r||!r.length)try{r=e(t)}catch(e){}if(!r||!r.length)try{r=e("#"+t.replace(e.jstree.idregex,"\\$&"))}catch(e){}return r&&r.length&&(r=r.closest(".jstree")).length&&(r=r.data("jstree"))?n=r:e(".jstree").each((function(){var r=e(this).data("jstree");if(r&&r._model.data[t])return n=r,!1})),n},e.fn.jstree=function(n){var r="string"==typeof n,i=Array.prototype.slice.call(arguments,1),a=null;return!(!0===n&&!this.length)&&(this.each((function(){var o=e.jstree.reference(this),s=r&&o?o[n]:null;if(a=r&&s?s.apply(o,i):null,o||r||n!==t&&!e.isPlainObject(n)||e.jstree.create(this,n),(o&&!r||!0===n)&&(a=o||!1),null!==a&&a!==t)return!1})),null!==a&&a!==t?a:this)},e.expr.pseudos.jstree=e.expr.createPseudo((function(n){return function(n){return e(n).hasClass("jstree")&&e(n).data("jstree")!==t}})),e.jstree.defaults.core={data:!1,strings:!1,check_callback:!1,error:e.noop,animation:200,multiple:!0,themes:{name:!1,url:!1,dir:!1,dots:!0,icons:!0,ellipsis:!1,stripes:!1,variant:!1,responsive:!1},expand_selected_onload:!0,worker:!0,force_text:!1,dblclick_toggle:!0,loaded_state:!1,restore_focus:!0,compute_elements_positions:!1,keyboard:{"ctrl-space":function(t){t.type="click",e(t.currentTarget).trigger(t)},enter:function(t){t.type="click",e(t.currentTarget).trigger(t)},left:function(t){if(t.preventDefault(),this.is_open(t.currentTarget))this.close_node(t.currentTarget);else{var n=this.get_parent(t.currentTarget);n&&n.id!==e.jstree.root&&this.get_node(n,!0).children(".jstree-anchor").trigger("focus")}},up:function(e){e.preventDefault();var t=this.get_prev_dom(e.currentTarget);t&&t.length&&t.children(".jstree-anchor").trigger("focus")},right:function(t){if(t.preventDefault(),this.is_closed(t.currentTarget))this.open_node(t.currentTarget,(function(e){this.get_node(e,!0).children(".jstree-anchor").trigger("focus")}));else if(this.is_open(t.currentTarget)){var n=this.get_node(t.currentTarget,!0).children(".jstree-children")[0];n&&e(this._firstChild(n)).children(".jstree-anchor").trigger("focus")}},down:function(e){e.preventDefault();var t=this.get_next_dom(e.currentTarget);t&&t.length&&t.children(".jstree-anchor").trigger("focus")},"*":function(e){this.open_all()},home:function(t){t.preventDefault();var n=this._firstChild(this.get_container_ul()[0]);n&&e(n).children(".jstree-anchor").filter(":visible").trigger("focus")},end:function(e){e.preventDefault(),this.element.find(".jstree-anchor").filter(":visible").last().trigger("focus")},f2:function(e){e.preventDefault(),this.edit(e.currentTarget)}}},e.jstree.core.prototype={plugin:function(t,n){var r=e.jstree.plugins[t];return r?(this._data[t]={},r.prototype=this,new r(n,this)):this},init:function(t,n){this._model={data:{},changed:[],force_full_redraw:!1,redraw_timeout:!1,default_state:{loaded:!0,opened:!1,selected:!1,disabled:!1}},this._model.data[e.jstree.root]={id:e.jstree.root,parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}},this.element=e(t).addClass("jstree jstree-"+this._id),this.settings=n,this._data.core.ready=!1,this._data.core.loaded=!1,this._data.core.rtl="rtl"===this.element.css("direction"),this.element[this._data.core.rtl?"addClass":"removeClass"]("jstree-rtl"),this.element.attr("role","tree"),this.settings.core.multiple&&this.element.attr("aria-multiselectable",!0),this.element.attr("tabindex")||this.element.attr("tabindex","0"),this.bind(),this.trigger("init"),this._data.core.original_container_html=this.element.find(" > ul > li").clone(!0),this._data.core.original_container_html.find("li").addBack().contents().filter((function(){return 3===this.nodeType&&(!this.nodeValue||/^\s+$/.test(this.nodeValue))})).remove(),this.element.html("<ul class='jstree-container-ul jstree-children' role='group'><li id='j"+this._id+"_loading' class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='none'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' role='treeitem' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading"),this._data.core.li_height=this.get_container_ul().children("li").first().outerHeight()||24,this._data.core.node=this._create_prototype_node(),this.trigger("loading"),this.load_node(e.jstree.root)},destroy:function(e){if(this.trigger("destroy"),this._wrk)try{window.URL.revokeObjectURL(this._wrk),this._wrk=null}catch(e){}e||this.element.empty(),this.teardown()},_create_prototype_node:function(){var e,t,n=c.createElement("LI");return n.setAttribute("role","none"),(e=c.createElement("I")).className="jstree-icon jstree-ocl",e.setAttribute("role","presentation"),n.appendChild(e),(e=c.createElement("A")).className="jstree-anchor",e.setAttribute("href","#"),e.setAttribute("tabindex","-1"),e.setAttribute("role","treeitem"),(t=c.createElement("I")).className="jstree-icon jstree-themeicon",t.setAttribute("role","presentation"),e.appendChild(t),n.appendChild(e),e=t=null,n},_kbevent_to_func:function(e){var t=[];if(e.ctrlKey&&t.push("ctrl"),e.altKey&&t.push("alt"),e.shiftKey&&t.push("shift"),t.push({8:"Backspace",9:"Tab",13:"Enter",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock",16:"Shift",17:"Ctrl",18:"Alt",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*",173:"-"}[e.which]||e.which),"shift-shift"===(t=t.sort().join("-").toLowerCase())||"ctrl-ctrl"===t||"alt-alt"===t)return null;var n,r,i=this.settings.core.keyboard;for(n in i)if(i.hasOwnProperty(n)&&("-"!==(r=n)&&"+"!==r&&(r=(r=r.replace("--","-MINUS").replace("+-","-MINUS").replace("++","-PLUS").replace("-+","-PLUS")).split(/-|\+/).sort().join("-").replace("MINUS","-").replace("PLUS","+").toLowerCase()),r===t))return i[n];return null},teardown:function(){this.unbind(),this.element.removeClass("jstree").removeData("jstree").find("[class^='jstree']").addBack().attr("class",(function(){return this.className.replace(/jstree[^ ]*|$/gi,"")})),this.element=null},bind:function(){var t="",n=null,r=0;this.element.on("dblclick.jstree",(function(e){if(e.target.tagName&&"input"===e.target.tagName.toLowerCase())return!0;if(c.selection&&c.selection.empty)c.selection.empty();else if(window.getSelection){var t=window.getSelection();try{t.removeAllRanges(),t.collapse()}catch(e){}}})).on("mousedown.jstree",function(e){e.target===this.element[0]&&(e.preventDefault(),r=+new Date)}.bind(this)).on("mousedown.jstree",".jstree-ocl",(function(e){e.preventDefault()})).on("click.jstree",".jstree-ocl",function(e){this.toggle_node(e.target)}.bind(this)).on("dblclick.jstree",".jstree-anchor",function(e){if(e.target.tagName&&"input"===e.target.tagName.toLowerCase())return!0;this.settings.core.dblclick_toggle&&this.toggle_node(e.target)}.bind(this)).on("click.jstree",".jstree-anchor",function(t){t.preventDefault(),t.currentTarget!==c.activeElement&&e(t.currentTarget).trigger("focus"),this.activate_node(t.currentTarget,t)}.bind(this)).on("keydown.jstree",".jstree-anchor",function(e){if(e.target.tagName&&"input"===e.target.tagName.toLowerCase())return!0;this._data.core.rtl&&(37===e.which?e.which=39:39===e.which&&(e.which=37));var t=this._kbevent_to_func(e);if(t){var n=t.call(this,e);if(!1===n||!0===n)return n}}.bind(this)).on("load_node.jstree",function(t,n){n.status&&(n.node.id!==e.jstree.root||this._data.core.loaded||(this._data.core.loaded=!0,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.trigger("loaded")),this._data.core.ready||setTimeout(function(){if(this.element&&!this.get_container_ul().find(".jstree-loading").length){if(this._data.core.ready=!0,this._data.core.selected.length){if(this.settings.core.expand_selected_onload){var t,n,r=[];for(t=0,n=this._data.core.selected.length;t<n;t++)r=r.concat(this._model.data[this._data.core.selected[t]].parents);for(t=0,n=(r=e.vakata.array_unique(r)).length;t<n;t++)this.open_node(r[t],!1,0)}this.trigger("changed",{action:"ready",selected:this._data.core.selected})}this.trigger("ready")}}.bind(this),0))}.bind(this)).on("keypress.jstree",function(r){if(r.target.tagName&&"input"===r.target.tagName.toLowerCase())return!0;n&&clearTimeout(n),n=setTimeout((function(){t=""}),500);var i=String.fromCharCode(r.which).toLowerCase(),a=this.element.find(".jstree-anchor").filter(":visible"),o=a.index(c.activeElement)||0,s=!1;if((t+=i).length>1){if(a.slice(o).each(function(n,r){if(0===e(r).text().toLowerCase().indexOf(t))return e(r).trigger("focus"),s=!0,!1}.bind(this)),s)return;if(a.slice(0,o).each(function(n,r){if(0===e(r).text().toLowerCase().indexOf(t))return e(r).trigger("focus"),s=!0,!1}.bind(this)),s)return}if(new RegExp("^"+i.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+"+$").test(t)){if(a.slice(o+1).each(function(t,n){if(e(n).text().toLowerCase().charAt(0)===i)return e(n).trigger("focus"),s=!0,!1}.bind(this)),s)return;if(a.slice(0,o+1).each(function(t,n){if(e(n).text().toLowerCase().charAt(0)===i)return e(n).trigger("focus"),s=!0,!1}.bind(this)),s)return}}.bind(this)).on("init.jstree",function(){var e=this.settings.core.themes;this._data.core.themes.dots=e.dots,this._data.core.themes.stripes=e.stripes,this._data.core.themes.icons=e.icons,this._data.core.themes.ellipsis=e.ellipsis,this.set_theme(e.name||"default",e.url),this.set_theme_variant(e.variant)}.bind(this)).on("loading.jstree",function(){this[this._data.core.themes.dots?"show_dots":"hide_dots"](),this[this._data.core.themes.icons?"show_icons":"hide_icons"](),this[this._data.core.themes.stripes?"show_stripes":"hide_stripes"](),this[this._data.core.themes.ellipsis?"show_ellipsis":"hide_ellipsis"]()}.bind(this)).on("blur.jstree",".jstree-anchor",function(t){this._data.core.focused=null,e(t.currentTarget).filter(".jstree-hovered").trigger("mouseleave"),this.element.attr("tabindex","0")}.bind(this)).on("focus.jstree",".jstree-anchor",function(t){var n=this.get_node(t.currentTarget);n&&n.id&&(this._data.core.focused=n.id),this.element.find(".jstree-hovered").not(t.currentTarget).trigger("mouseleave"),e(t.currentTarget).trigger("mouseenter"),this.element.attr("tabindex","-1")}.bind(this)).on("focus.jstree",function(){if(+new Date-r>500&&!this._data.core.focused&&this.settings.core.restore_focus){r=0;var e=this.get_node(this.element.attr("aria-activedescendant"),!0);e&&e.find("> .jstree-anchor").trigger("focus")}}.bind(this)).on("mouseenter.jstree",".jstree-anchor",function(e){this.hover_node(e.currentTarget)}.bind(this)).on("mouseleave.jstree",".jstree-anchor",function(e){this.dehover_node(e.currentTarget)}.bind(this))},unbind:function(){this.element.off(".jstree"),e(c).off(".jstree-"+this._id)},trigger:function(e,t){t||(t={}),t.instance=this,this.element.triggerHandler(e.replace(".jstree","")+".jstree",t)},get_container:function(){return this.element},get_container_ul:function(){return this.element.children(".jstree-children").first()},get_string:function(t){var n=this.settings.core.strings;return e.vakata.is_function(n)?n.call(this,t):n&&n[t]?n[t]:t},_firstChild:function(e){for(e=e?e.firstChild:null;null!==e&&1!==e.nodeType;)e=e.nextSibling;return e},_nextSibling:function(e){for(e=e?e.nextSibling:null;null!==e&&1!==e.nodeType;)e=e.nextSibling;return e},_previousSibling:function(e){for(e=e?e.previousSibling:null;null!==e&&1!==e.nodeType;)e=e.previousSibling;return e},get_node:function(t,n){var r;t&&t.id&&(t=t.id),t instanceof e&&t.length&&t[0].id&&(t=t[0].id);try{if(this._model.data[t])t=this._model.data[t];else if("string"==typeof t&&this._model.data[t.replace(/^#/,"")])t=this._model.data[t.replace(/^#/,"")];else if("string"==typeof t&&(r=e("#"+t.replace(e.jstree.idregex,"\\$&"),this.element)).length&&this._model.data[r.closest(".jstree-node").attr("id")])t=this._model.data[r.closest(".jstree-node").attr("id")];else if((r=this.element.find(t)).length&&this._model.data[r.closest(".jstree-node").attr("id")])t=this._model.data[r.closest(".jstree-node").attr("id")];else{if(!(r=this.element.find(t)).length||!r.hasClass("jstree"))return!1;t=this._model.data[e.jstree.root]}return n&&(t=t.id===e.jstree.root?this.element:e("#"+t.id.replace(e.jstree.idregex,"\\$&"),this.element)),t}catch(e){return!1}},get_path:function(t,n,r){if(!(t=t.parents?t:this.get_node(t))||t.id===e.jstree.root||!t.parents)return!1;var i,a,o=[];for(o.push(r?t.id:t.text),i=0,a=t.parents.length;i<a;i++)o.push(r?t.parents[i]:this.get_text(t.parents[i]));return o=o.reverse().slice(1),n?o.join(n):o},get_next_dom:function(t,n){var r;if((t=this.get_node(t,!0))[0]===this.element[0]){for(r=this._firstChild(this.get_container_ul()[0]);r&&0===r.offsetHeight;)r=this._nextSibling(r);return!!r&&e(r)}if(!t||!t.length)return!1;if(n){r=t[0];do{r=this._nextSibling(r)}while(r&&0===r.offsetHeight);return!!r&&e(r)}if(t.hasClass("jstree-open")){for(r=this._firstChild(t.children(".jstree-children")[0]);r&&0===r.offsetHeight;)r=this._nextSibling(r);if(null!==r)return e(r)}r=t[0];do{r=this._nextSibling(r)}while(r&&0===r.offsetHeight);return null!==r?e(r):t.parentsUntil(".jstree",".jstree-node").nextAll(".jstree-node:visible").first()},get_prev_dom:function(t,n){var r;if((t=this.get_node(t,!0))[0]===this.element[0]){for(r=this.get_container_ul()[0].lastChild;r&&0===r.offsetHeight;)r=this._previousSibling(r);return!!r&&e(r)}if(!t||!t.length)return!1;if(n){r=t[0];do{r=this._previousSibling(r)}while(r&&0===r.offsetHeight);return!!r&&e(r)}r=t[0];do{r=this._previousSibling(r)}while(r&&0===r.offsetHeight);if(null!==r){for(t=e(r);t.hasClass("jstree-open");)t=t.children(".jstree-children").first().children(".jstree-node:visible:last");return t}return!(!(r=t[0].parentNode.parentNode)||!r.className||-1===r.className.indexOf("jstree-node"))&&e(r)},get_parent:function(t){return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&t.parent},get_children_dom:function(e){return(e=this.get_node(e,!0))[0]===this.element[0]?this.get_container_ul().children(".jstree-node"):!(!e||!e.length)&&e.children(".jstree-children").children(".jstree-node")},is_parent:function(e){return(e=this.get_node(e))&&(!1===e.state.loaded||e.children.length>0)},is_loaded:function(e){return(e=this.get_node(e))&&e.state.loaded},is_loading:function(e){return(e=this.get_node(e))&&e.state&&e.state.loading},is_open:function(e){return(e=this.get_node(e))&&e.state.opened},is_closed:function(e){return(e=this.get_node(e))&&this.is_parent(e)&&!e.state.opened},is_leaf:function(e){return!this.is_parent(e)},load_node:function(t,n){var r,i,a,o,s;if(e.vakata.is_array(t))return this._load_nodes(t.slice(),n),!0;if(!(t=this.get_node(t)))return n&&n.call(this,t,!1),!1;if(t.state.loaded){for(t.state.loaded=!1,a=0,o=t.parents.length;a<o;a++)this._model.data[t.parents[a]].children_d=e.vakata.array_filter(this._model.data[t.parents[a]].children_d,(function(n){return-1===e.inArray(n,t.children_d)}));for(r=0,i=t.children_d.length;r<i;r++)this._model.data[t.children_d[r]].state.selected&&(s=!0),delete this._model.data[t.children_d[r]];s&&(this._data.core.selected=e.vakata.array_filter(this._data.core.selected,(function(n){return-1===e.inArray(n,t.children_d)}))),t.children=[],t.children_d=[],s&&this.trigger("changed",{action:"load_node",node:t,selected:this._data.core.selected})}return t.state.failed=!1,t.state.loading=!0,this.get_node(t,!0).addClass("jstree-loading").attr("aria-busy",!0),this._load_node(t,function(e){(t=this._model.data[t.id]).state.loading=!1,t.state.loaded=e,t.state.failed=!t.state.loaded;var r,i=this.get_node(t,!0),a=0,o=this._model.data,s=!1;for(a=0,r=t.children.length;a<r;a++)if(o[t.children[a]]&&!o[t.children[a]].state.hidden){s=!0;break}t.state.loaded&&i&&i.length&&(i.removeClass("jstree-closed jstree-open jstree-leaf"),s?"#"!==t.id&&i.addClass(t.state.opened?"jstree-open":"jstree-closed"):i.addClass("jstree-leaf")),i.removeClass("jstree-loading").attr("aria-busy",!1),this.trigger("load_node",{node:t,status:e}),n&&n.call(this,t,e)}.bind(this)),!0},_load_nodes:function(e,t,n,r){var i,a,o=!0,s=function(){this._load_nodes(e,t,!0)},c=this._model.data,d=[];for(i=0,a=e.length;i<a;i++)c[e[i]]&&(!c[e[i]].state.loaded&&!c[e[i]].state.failed||!n&&r)&&(this.is_loading(e[i])||this.load_node(e[i],s),o=!1);if(o){for(i=0,a=e.length;i<a;i++)c[e[i]]&&c[e[i]].state.loaded&&d.push(e[i]);t&&!t.done&&(t.call(this,d),t.done=!0)}},load_all:function(t,n){if(t||(t=e.jstree.root),!(t=this.get_node(t)))return!1;var r,i,a=[],o=this._model.data,s=o[t.id].children_d;for(t.state&&!t.state.loaded&&a.push(t.id),r=0,i=s.length;r<i;r++)o[s[r]]&&o[s[r]].state&&!o[s[r]].state.loaded&&a.push(s[r]);a.length?this._load_nodes(a,(function(){this.load_all(t,n)})):(n&&n.call(this,t),this.trigger("load_all",{node:t}))},_load_node:function(t,n){var r,i=this.settings.core.data,a=function(){return 3!==this.nodeType&&8!==this.nodeType};return i?e.vakata.is_function(i)?i.call(this,t,function(r){!1===r?n.call(this,!1):this["string"==typeof r?"_append_html_data":"_append_json_data"](t,"string"==typeof r?e(e.parseHTML(r)).filter(a):r,(function(e){n.call(this,e)}))}.bind(this)):"object"==typeof i?i.url?(i=e.extend(!0,{},i),e.vakata.is_function(i.url)&&(i.url=i.url.call(this,t)),e.vakata.is_function(i.data)&&(i.data=i.data.call(this,t)),e.ajax(i).done(function(r,i,o){var s=o.getResponseHeader("Content-Type");return s&&-1!==s.indexOf("json")||"object"==typeof r?this._append_json_data(t,r,(function(e){n.call(this,e)})):s&&-1!==s.indexOf("html")||"string"==typeof r?this._append_html_data(t,e(e.parseHTML(r)).filter(a),(function(e){n.call(this,e)})):(this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:t.id,xhr:o})},this.settings.core.error.call(this,this._data.core.last_error),n.call(this,!1))}.bind(this)).fail(function(e){this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:t.id,xhr:e})},n.call(this,!1),this.settings.core.error.call(this,this._data.core.last_error)}.bind(this))):(r=e.vakata.is_array(i)?e.extend(!0,[],i):e.isPlainObject(i)?e.extend(!0,{},i):i,t.id===e.jstree.root?this._append_json_data(t,r,(function(e){n.call(this,e)})):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_05",reason:"Could not load node",data:JSON.stringify({id:t.id})},this.settings.core.error.call(this,this._data.core.last_error),n.call(this,!1))):"string"==typeof i?t.id===e.jstree.root?this._append_html_data(t,e(e.parseHTML(i)).filter(a),(function(e){n.call(this,e)})):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_06",reason:"Could not load node",data:JSON.stringify({id:t.id})},this.settings.core.error.call(this,this._data.core.last_error),n.call(this,!1)):n.call(this,!1):t.id===e.jstree.root?this._append_html_data(t,this._data.core.original_container_html.clone(!0),(function(e){n.call(this,e)})):n.call(this,!1)},_node_changed:function(t){(t=this.get_node(t))&&-1===e.inArray(t.id,this._model.changed)&&this._model.changed.push(t.id)},_append_html_data:function(t,n,r){(t=this.get_node(t)).children=[],t.children_d=[];var i,a,o,s=n.is("ul")?n.children():n,c=t.id,d=[],l=[],h=this._model.data,u=h[c],p=this._data.core.selected.length;for(s.each(function(t,n){(i=this._parse_model_from_html(e(n),c,u.parents.concat()))&&(d.push(i),l.push(i),h[i].children_d.length&&(l=l.concat(h[i].children_d)))}.bind(this)),u.children=d,u.children_d=l,a=0,o=u.parents.length;a<o;a++)h[u.parents[a]].children_d=h[u.parents[a]].children_d.concat(l);this.trigger("model",{nodes:l,parent:c}),c!==e.jstree.root?(this._node_changed(c),this.redraw()):(this.get_container_ul().children(".jstree-initial-node").remove(),this.redraw(!0)),this._data.core.selected.length!==p&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),r.call(this,!0)},_append_json_data:function(t,n,r,i){if(null!==this.element){(t=this.get_node(t)).children=[],t.children_d=[],n.d&&"string"==typeof(n=n.d)&&(n=JSON.parse(n)),e.vakata.is_array(n)||(n=[n]);var a=null,o={df:this._model.default_state,dat:n,par:t.id,m:this._model.data,t_id:this._id,t_cnt:this._cnt,sel:this._data.core.selected},s=this,c=function(e,t){e.data&&(e=e.data);var n,r,i,a,o=e.dat,c=e.par,d=[],l=[],h=[],u=e.df,p=e.t_id,f=e.t_cnt,g=e.m,_=g[c],m=e.sel,v=function(e,n,r){r=r?r.concat():[],n&&r.unshift(n);var i,a,o,s,c=e.id.toString(),d={id:c,text:e.text||"",icon:e.icon===t||e.icon,parent:n,parents:r,children:e.children||[],children_d:e.children_d||[],data:e.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(i in u)u.hasOwnProperty(i)&&(d.state[i]=u[i]);if(e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(d.icon=e.data.jstree.icon),d.icon!==t&&null!==d.icon&&""!==d.icon||(d.icon=!0),e&&e.data&&(d.data=e.data,e.data.jstree))for(i in e.data.jstree)e.data.jstree.hasOwnProperty(i)&&(d.state[i]=e.data.jstree[i]);if(e&&"object"==typeof e.state)for(i in e.state)e.state.hasOwnProperty(i)&&(d.state[i]=e.state[i]);if(e&&"object"==typeof e.li_attr)for(i in e.li_attr)e.li_attr.hasOwnProperty(i)&&(d.li_attr[i]=e.li_attr[i]);if(d.li_attr.id||(d.li_attr.id=c),e&&"object"==typeof e.a_attr)for(i in e.a_attr)e.a_attr.hasOwnProperty(i)&&(d.a_attr[i]=e.a_attr[i]);for(e&&e.children&&!0===e.children&&(d.state.loaded=!1,d.children=[],d.children_d=[]),g[d.id]=d,i=0,a=d.children.length;i<a;i++)o=v(g[d.children[i]],d.id,r),s=g[o],d.children_d.push(o),s.children_d.length&&(d.children_d=d.children_d.concat(s.children_d));return delete e.data,delete e.children,g[d.id].original=e,d.state.selected&&h.push(d.id),d.id},b=function(e,n,r){r=r?r.concat():[],n&&r.unshift(n);var i,a,o,s,c,d=!1;do{d="j"+p+"_"+ ++f}while(g[d]);for(i in c={id:!1,text:"string"==typeof e?e:"",icon:"object"!=typeof e||e.icon===t||e.icon,parent:n,parents:r,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1},u)u.hasOwnProperty(i)&&(c.state[i]=u[i]);if(e&&e.id&&(c.id=e.id.toString()),e&&e.text&&(c.text=e.text),e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(c.icon=e.data.jstree.icon),c.icon!==t&&null!==c.icon&&""!==c.icon||(c.icon=!0),e&&e.data&&(c.data=e.data,e.data.jstree))for(i in e.data.jstree)e.data.jstree.hasOwnProperty(i)&&(c.state[i]=e.data.jstree[i]);if(e&&"object"==typeof e.state)for(i in e.state)e.state.hasOwnProperty(i)&&(c.state[i]=e.state[i]);if(e&&"object"==typeof e.li_attr)for(i in e.li_attr)e.li_attr.hasOwnProperty(i)&&(c.li_attr[i]=e.li_attr[i]);if(c.li_attr.id&&!c.id&&(c.id=c.li_attr.id.toString()),c.id||(c.id=d),c.li_attr.id||(c.li_attr.id=c.id),e&&"object"==typeof e.a_attr)for(i in e.a_attr)e.a_attr.hasOwnProperty(i)&&(c.a_attr[i]=e.a_attr[i]);if(e&&e.children&&e.children.length){for(i=0,a=e.children.length;i<a;i++)o=b(e.children[i],c.id,r),s=g[o],c.children.push(o),s.children_d.length&&(c.children_d=c.children_d.concat(s.children_d));c.children_d=c.children_d.concat(c.children)}return e&&e.children&&!0===e.children&&(c.state.loaded=!1,c.children=[],c.children_d=[]),delete e.data,delete e.children,c.original=e,g[c.id]=c,c.state.selected&&h.push(c.id),c.id};if(o.length&&o[0].id!==t&&o[0].parent!==t){for(r=0,i=o.length;r<i;r++)o[r].children||(o[r].children=[]),o[r].state||(o[r].state={}),g[o[r].id.toString()]=o[r];for(r=0,i=o.length;r<i;r++)g[o[r].parent.toString()]?(g[o[r].parent.toString()].children.push(o[r].id.toString()),_.children_d.push(o[r].id.toString())):void 0!==s&&(s._data.core.last_error={error:"parse",plugin:"core",id:"core_07",reason:"Node with invalid parent",data:JSON.stringify({id:o[r].id.toString(),parent:o[r].parent.toString()})},s.settings.core.error.call(s,s._data.core.last_error));for(r=0,i=_.children.length;r<i;r++)n=v(g[_.children[r]],c,_.parents.concat()),l.push(n),g[n].children_d.length&&(l=l.concat(g[n].children_d));for(r=0,i=_.parents.length;r<i;r++)g[_.parents[r]].children_d=g[_.parents[r]].children_d.concat(l);a={cnt:f,mod:g,sel:m,par:c,dpc:l,add:h}}else{for(r=0,i=o.length;r<i;r++)(n=b(o[r],c,_.parents.concat()))&&(d.push(n),l.push(n),g[n].children_d.length&&(l=l.concat(g[n].children_d)));for(_.children=d,_.children_d=l,r=0,i=_.parents.length;r<i;r++)g[_.parents[r]].children_d=g[_.parents[r]].children_d.concat(l);a={cnt:f,mod:g,sel:m,par:c,dpc:l,add:h}}if("undefined"!=typeof window&&void 0!==window.document)return a;postMessage(a)},l=function(t,n){if(null!==this.element){this._cnt=t.cnt;var i,a=this._model.data;for(i in a)a.hasOwnProperty(i)&&a[i].state&&a[i].state.loading&&t.mod[i]&&(t.mod[i].state.loading=!0);if(this._model.data=t.mod,n){var o,c=t.add,l=t.sel,h=this._data.core.selected.slice();if(a=this._model.data,l.length!==h.length||e.vakata.array_unique(l.concat(h)).length!==l.length){for(i=0,o=l.length;i<o;i++)-1===e.inArray(l[i],c)&&-1===e.inArray(l[i],h)&&(a[l[i]].state.selected=!1);for(i=0,o=h.length;i<o;i++)-1===e.inArray(h[i],l)&&(a[h[i]].state.selected=!0)}}t.add.length&&(this._data.core.selected=this._data.core.selected.concat(t.add)),this.trigger("model",{nodes:t.dpc,parent:t.par}),t.par!==e.jstree.root?(this._node_changed(t.par),this.redraw()):this.redraw(!0),t.add.length&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),!n&&d?d((function(){r.call(s,!0)})):r.call(s,!0)}};if(this.settings.core.worker&&window.Blob&&window.URL&&window.Worker)try{null===this._wrk&&(this._wrk=window.URL.createObjectURL(new window.Blob(["self.onmessage = "+c.toString()],{type:"text/javascript"}))),!this._data.core.working||i?(this._data.core.working=!0,(a=new window.Worker(this._wrk)).onmessage=function(e){l.call(this,e.data,!0);try{a.terminate(),a=null}catch(e){}this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1}.bind(this),o.par?a.postMessage(o):this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1):this._data.core.worker_queue.push([t,n,r,!0])}catch(e){l.call(this,c(o),!1),this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1}else l.call(this,c(o),!1)}},_parse_model_from_html:function(n,r,i){i=i?[].concat(i):[],r&&i.unshift(r);var a,o,s,c,d,l=this._model.data,h={id:!1,text:!1,icon:!0,parent:r,parents:i,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(s in this._model.default_state)this._model.default_state.hasOwnProperty(s)&&(h.state[s]=this._model.default_state[s]);if(c=e.vakata.attributes(n,!0),e.each(c,(function(t,n){if(!(n=e.vakata.trim(n)).length)return!0;h.li_attr[t]=n,"id"===t&&(h.id=n.toString())})),(c=n.children("a").first()).length&&(c=e.vakata.attributes(c,!0),e.each(c,(function(t,n){(n=e.vakata.trim(n)).length&&(h.a_attr[t]=n)}))),(c=n.children("a").first().length?n.children("a").first().clone():n.clone()).children("ins, i, ul").remove(),c=c.html(),c=e("<div></div>").html(c),h.text=this.settings.core.force_text?c.text():c.html(),c=n.data(),h.data=c?e.extend(!0,{},c):null,h.state.opened=n.hasClass("jstree-open"),h.state.selected=n.children("a").hasClass("jstree-clicked"),h.state.disabled=n.children("a").hasClass("jstree-disabled"),h.data&&h.data.jstree)for(s in h.data.jstree)h.data.jstree.hasOwnProperty(s)&&(h.state[s]=h.data.jstree[s]);(c=n.children("a").children(".jstree-themeicon")).length&&(h.icon=!c.hasClass("jstree-themeicon-hidden")&&c.attr("rel")),h.state.icon!==t&&(h.icon=h.state.icon),h.icon!==t&&null!==h.icon&&""!==h.icon||(h.icon=!0),c=n.children("ul").children("li");do{d="j"+this._id+"_"+ ++this._cnt}while(l[d]);return h.id=h.li_attr.id?h.li_attr.id.toString():d,c.length?(c.each(function(t,n){a=this._parse_model_from_html(e(n),h.id,i),o=this._model.data[a],h.children.push(a),o.children_d.length&&(h.children_d=h.children_d.concat(o.children_d))}.bind(this)),h.children_d=h.children_d.concat(h.children)):n.hasClass("jstree-closed")&&(h.state.loaded=!1),h.li_attr.class&&(h.li_attr.class=h.li_attr.class.replace("jstree-closed","").replace("jstree-open","")),h.a_attr.class&&(h.a_attr.class=h.a_attr.class.replace("jstree-clicked","").replace("jstree-disabled","")),l[h.id]=h,h.state.selected&&this._data.core.selected.push(h.id),h.id},_parse_model_from_flat_json:function(e,n,r){r=r?r.concat():[],n&&r.unshift(n);var i,a,o,s,c=e.id.toString(),d=this._model.data,l=this._model.default_state,h={id:c,text:e.text||"",icon:e.icon===t||e.icon,parent:n,parents:r,children:e.children||[],children_d:e.children_d||[],data:e.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(i in l)l.hasOwnProperty(i)&&(h.state[i]=l[i]);if(e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(h.icon=e.data.jstree.icon),h.icon!==t&&null!==h.icon&&""!==h.icon||(h.icon=!0),e&&e.data&&(h.data=e.data,e.data.jstree))for(i in e.data.jstree)e.data.jstree.hasOwnProperty(i)&&(h.state[i]=e.data.jstree[i]);if(e&&"object"==typeof e.state)for(i in e.state)e.state.hasOwnProperty(i)&&(h.state[i]=e.state[i]);if(e&&"object"==typeof e.li_attr)for(i in e.li_attr)e.li_attr.hasOwnProperty(i)&&(h.li_attr[i]=e.li_attr[i]);if(h.li_attr.id||(h.li_attr.id=c),e&&"object"==typeof e.a_attr)for(i in e.a_attr)e.a_attr.hasOwnProperty(i)&&(h.a_attr[i]=e.a_attr[i]);for(e&&e.children&&!0===e.children&&(h.state.loaded=!1,h.children=[],h.children_d=[]),d[h.id]=h,i=0,a=h.children.length;i<a;i++)s=d[o=this._parse_model_from_flat_json(d[h.children[i]],h.id,r)],h.children_d.push(o),s.children_d.length&&(h.children_d=h.children_d.concat(s.children_d));return delete e.data,delete e.children,d[h.id].original=e,h.state.selected&&this._data.core.selected.push(h.id),h.id},_parse_model_from_json:function(e,n,r){r=r?r.concat():[],n&&r.unshift(n);var i,a,o,s,c,d=!1,l=this._model.data,h=this._model.default_state;do{d="j"+this._id+"_"+ ++this._cnt}while(l[d]);for(i in c={id:!1,text:"string"==typeof e?e:"",icon:"object"!=typeof e||e.icon===t||e.icon,parent:n,parents:r,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1},h)h.hasOwnProperty(i)&&(c.state[i]=h[i]);if(e&&e.id&&(c.id=e.id.toString()),e&&e.text&&(c.text=e.text),e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(c.icon=e.data.jstree.icon),c.icon!==t&&null!==c.icon&&""!==c.icon||(c.icon=!0),e&&e.data&&(c.data=e.data,e.data.jstree))for(i in e.data.jstree)e.data.jstree.hasOwnProperty(i)&&(c.state[i]=e.data.jstree[i]);if(e&&"object"==typeof e.state)for(i in e.state)e.state.hasOwnProperty(i)&&(c.state[i]=e.state[i]);if(e&&"object"==typeof e.li_attr)for(i in e.li_attr)e.li_attr.hasOwnProperty(i)&&(c.li_attr[i]=e.li_attr[i]);if(c.li_attr.id&&!c.id&&(c.id=c.li_attr.id.toString()),c.id||(c.id=d),c.li_attr.id||(c.li_attr.id=c.id),e&&"object"==typeof e.a_attr)for(i in e.a_attr)e.a_attr.hasOwnProperty(i)&&(c.a_attr[i]=e.a_attr[i]);if(e&&e.children&&e.children.length){for(i=0,a=e.children.length;i<a;i++)s=l[o=this._parse_model_from_json(e.children[i],c.id,r)],c.children.push(o),s.children_d.length&&(c.children_d=c.children_d.concat(s.children_d));c.children_d=c.children.concat(c.children_d)}return e&&e.children&&!0===e.children&&(c.state.loaded=!1,c.children=[],c.children_d=[]),delete e.data,delete e.children,c.original=e,l[c.id]=c,c.state.selected&&this._data.core.selected.push(c.id),c.id},_redraw:function(){var t,n,r,i=this._model.force_full_redraw?this._model.data[e.jstree.root].children.concat([]):this._model.changed.concat([]),a=c.createElement("UL"),o=this._data.core.focused;for(n=0,r=i.length;n<r;n++)(t=this.redraw_node(i[n],!0,this._model.force_full_redraw))&&this._model.force_full_redraw&&a.appendChild(t);this._model.force_full_redraw&&(a.className=this.get_container_ul()[0].className,a.setAttribute("role","group"),this.element.empty().append(a)),null!==o&&this.settings.core.restore_focus&&((t=this.get_node(o,!0))&&t.length&&t.children(".jstree-anchor")[0]!==c.activeElement?t.children(".jstree-anchor").trigger("focus"):this._data.core.focused=null),this._model.force_full_redraw=!1,this._model.changed=[],this.trigger("redraw",{nodes:i})},redraw:function(e){e&&(this._model.force_full_redraw=!0),this._redraw()},draw_children:function(t){var n=this.get_node(t),r=!1,i=!1,a=!1,o=c;if(!n)return!1;if(n.id===e.jstree.root)return this.redraw(!0);if(!(t=this.get_node(t,!0))||!t.length)return!1;if(t.children(".jstree-children").remove(),t=t[0],n.children.length&&n.state.loaded){for((a=o.createElement("UL")).setAttribute("role","group"),a.className="jstree-children",r=0,i=n.children.length;r<i;r++)a.appendChild(this.redraw_node(n.children[r],!0,!0));t.appendChild(a)}},redraw_node:function(t,n,r,i){var a=this.get_node(t),o=!1,s=!1,d=!1,l=!1,h=!1,u=!1,p="",f=c,g=this._model.data,_=!1,m=null,v=0,b=0,y=!1,k=!1;if(!a)return!1;if(a.id===e.jstree.root)return this.redraw(!0);if(n=n||0===a.children.length,t=c.querySelector?this.element[0].querySelector("#"+(-1!=="0123456789".indexOf(a.id[0])?"\\3"+a.id[0]+" "+a.id.substr(1).replace(e.jstree.idregex,"\\$&"):a.id.replace(e.jstree.idregex,"\\$&"))):c.getElementById(a.id))t=e(t),r||((o=t.parent().parent()[0])===this.element[0]&&(o=null),s=t.index()),n||!a.children.length||t.children(".jstree-children").length||(n=!0),n||(d=t.children(".jstree-children")[0]),_=t.children(".jstree-anchor")[0]===c.activeElement,t.remove();else if(n=!0,!r){if(!(null===(o=a.parent!==e.jstree.root?e("#"+a.parent.replace(e.jstree.idregex,"\\$&"),this.element)[0]:null)||o&&g[a.parent].state.opened))return!1;s=e.inArray(a.id,null===o?g[e.jstree.root].children:g[a.parent].children)}for(l in t=this._data.core.node.cloneNode(!0),p="jstree-node ",a.li_attr)if(a.li_attr.hasOwnProperty(l)){if("id"===l)continue;"class"!==l?t.setAttribute(l,a.li_attr[l]):p+=a.li_attr[l]}for(a.a_attr.id||(a.a_attr.id=a.id+"_anchor"),t.childNodes[1].setAttribute("aria-selected",!!a.state.selected),t.childNodes[1].setAttribute("aria-level",a.parents.length),this.settings.core.compute_elements_positions&&(t.childNodes[1].setAttribute("aria-setsize",g[a.parent].children.length),t.childNodes[1].setAttribute("aria-posinset",g[a.parent].children.indexOf(a.id)+1)),a.state.disabled&&t.childNodes[1].setAttribute("aria-disabled",!0),l=0,h=a.children.length;l<h;l++)if(!g[a.children[l]].state.hidden){y=!0;break}if(null!==a.parent&&g[a.parent]&&!a.state.hidden&&(l=e.inArray(a.id,g[a.parent].children),k=a.id,-1!==l))for(l++,h=g[a.parent].children.length;l<h&&(g[g[a.parent].children[l]].state.hidden||(k=g[a.parent].children[l]),k===a.id);l++);for(h in a.state.hidden&&(p+=" jstree-hidden"),a.state.loading&&(p+=" jstree-loading"),a.state.loaded&&!y?p+=" jstree-leaf":(p+=a.state.opened&&a.state.loaded?" jstree-open":" jstree-closed",t.childNodes[1].setAttribute("aria-expanded",a.state.opened&&a.state.loaded)),k===a.id&&(p+=" jstree-last"),t.id=a.id,t.className=p,p=(a.state.selected?" jstree-clicked":"")+(a.state.disabled?" jstree-disabled":""),a.a_attr)if(a.a_attr.hasOwnProperty(h)){if("href"===h&&"#"===a.a_attr[h])continue;"class"!==h?t.childNodes[1].setAttribute(h,a.a_attr[h]):p+=" "+a.a_attr[h]}if(p.length&&(t.childNodes[1].className="jstree-anchor "+p),(a.icon&&!0!==a.icon||!1===a.icon)&&(!1===a.icon?t.childNodes[1].childNodes[0].className+=" jstree-themeicon-hidden":-1===a.icon.indexOf("/")&&-1===a.icon.indexOf(".")?t.childNodes[1].childNodes[0].className+=" "+a.icon+" jstree-themeicon-custom":(t.childNodes[1].childNodes[0].style.backgroundImage='url("'+a.icon+'")',t.childNodes[1].childNodes[0].style.backgroundPosition="center center",t.childNodes[1].childNodes[0].style.backgroundSize="auto",t.childNodes[1].childNodes[0].className+=" jstree-themeicon-custom")),this.settings.core.force_text?t.childNodes[1].appendChild(f.createTextNode(a.text)):t.childNodes[1].innerHTML+=a.text,n&&a.children.length&&(a.state.opened||i)&&a.state.loaded){for((u=f.createElement("UL")).setAttribute("role","group"),u.className="jstree-children",l=0,h=a.children.length;l<h;l++)u.appendChild(this.redraw_node(a.children[l],n,!0));t.appendChild(u)}if(d&&t.appendChild(d),!r){for(o||(o=this.element[0]),l=0,h=o.childNodes.length;l<h;l++)if(o.childNodes[l]&&o.childNodes[l].className&&-1!==o.childNodes[l].className.indexOf("jstree-children")){m=o.childNodes[l];break}m||((m=f.createElement("UL")).setAttribute("role","group"),m.className="jstree-children",o.appendChild(m)),s<(o=m).childNodes.length?o.insertBefore(t,o.childNodes[s]):o.appendChild(t),_&&(v=this.element[0].scrollTop,b=this.element[0].scrollLeft,t.childNodes[1].focus(),this.element[0].scrollTop=v,this.element[0].scrollLeft=b)}return a.state.opened&&!a.state.loaded&&(a.state.opened=!1,setTimeout(function(){this.open_node(a.id,!1,0)}.bind(this),0)),t},open_node:function(n,r,i){var a,o,s,c;if(e.vakata.is_array(n)){for(a=0,o=(n=n.slice()).length;a<o;a++)this.open_node(n[a],r,i);return!0}return!(!(n=this.get_node(n))||n.id===e.jstree.root)&&(i=i===t?this.settings.core.animation:i,this.is_closed(n)?this.is_loaded(n)?(s=this.get_node(n,!0),c=this,s.length&&(i&&s.children(".jstree-children").length&&s.children(".jstree-children").stop(!0,!0),n.children.length&&!this._firstChild(s.children(".jstree-children")[0])&&this.draw_children(n),i?(this.trigger("before_open",{node:n}),s.children(".jstree-children").css("display","none").end().removeClass("jstree-closed").addClass("jstree-open").children(".jstree-anchor").attr("aria-expanded",!0).end().children(".jstree-children").stop(!0,!0).slideDown(i,(function(){this.style.display="",c.element&&c.trigger("after_open",{node:n})}))):(this.trigger("before_open",{node:n}),s[0].className=s[0].className.replace("jstree-closed","jstree-open"),s[0].childNodes[1].setAttribute("aria-expanded",!0))),n.state.opened=!0,r&&r.call(this,n,!0),s.length||this.trigger("before_open",{node:n}),this.trigger("open_node",{node:n}),i&&s.length||this.trigger("after_open",{node:n}),!0):this.is_loading(n)?setTimeout(function(){this.open_node(n,r,i)}.bind(this),500):void this.load_node(n,(function(e,t){return t?this.open_node(e,r,i):!!r&&r.call(this,e,!1)})):(r&&r.call(this,n,!1),!1))},_open_to:function(t){if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;var n,r,i=t.parents;for(n=0,r=i.length;n<r;n+=1)n!==e.jstree.root&&this.open_node(i[n],!1,0);return e("#"+t.id.replace(e.jstree.idregex,"\\$&"),this.element)},close_node:function(n,r){var i,a,o,s;if(e.vakata.is_array(n)){for(i=0,a=(n=n.slice()).length;i<a;i++)this.close_node(n[i],r);return!0}return!(!(n=this.get_node(n))||n.id===e.jstree.root)&&!this.is_closed(n)&&(r=r===t?this.settings.core.animation:r,o=this,s=this.get_node(n,!0),n.state.opened=!1,this.trigger("close_node",{node:n}),void(s.length?r?s.children(".jstree-children").attr("style","display:block !important").end().removeClass("jstree-open").addClass("jstree-closed").children(".jstree-anchor").attr("aria-expanded",!1).end().children(".jstree-children").stop(!0,!0).slideUp(r,(function(){this.style.display="",s.children(".jstree-children").remove(),o.element&&o.trigger("after_close",{node:n})})):(s[0].className=s[0].className.replace("jstree-open","jstree-closed"),s.children(".jstree-anchor").attr("aria-expanded",!1),s.children(".jstree-children").remove(),this.trigger("after_close",{node:n})):this.trigger("after_close",{node:n})))},toggle_node:function(t){var n,r;if(e.vakata.is_array(t)){for(n=0,r=(t=t.slice()).length;n<r;n++)this.toggle_node(t[n]);return!0}return this.is_closed(t)?this.open_node(t):this.is_open(t)?this.close_node(t):void 0},open_all:function(t,n,r){if(t||(t=e.jstree.root),!(t=this.get_node(t)))return!1;var i,a,o,s=t.id===e.jstree.root?this.get_container_ul():this.get_node(t,!0);if(!s.length){for(i=0,a=t.children_d.length;i<a;i++)this.is_closed(this._model.data[t.children_d[i]])&&(this._model.data[t.children_d[i]].state.opened=!0);return this.trigger("open_all",{node:t})}r=r||s,o=this,(s=this.is_closed(t)?s.find(".jstree-closed").addBack():s.find(".jstree-closed")).each((function(){o.open_node(this,(function(e,t){t&&this.is_parent(e)&&this.open_all(e,n,r)}),n||0)})),0===r.find(".jstree-closed").length&&this.trigger("open_all",{node:this.get_node(r)})},close_all:function(t,n){if(t||(t=e.jstree.root),!(t=this.get_node(t)))return!1;var r,i,a=t.id===e.jstree.root?this.get_container_ul():this.get_node(t,!0),o=this;for(a.length&&(a=this.is_open(t)?a.find(".jstree-open").addBack():a.find(".jstree-open"),e(a.get().reverse()).each((function(){o.close_node(this,n||0)}))),r=0,i=t.children_d.length;r<i;r++)this._model.data[t.children_d[r]].state.opened=!1;this.trigger("close_all",{node:t})},is_disabled:function(e){return(e=this.get_node(e))&&e.state&&e.state.disabled},enable_node:function(t){var n,r;if(e.vakata.is_array(t)){for(n=0,r=(t=t.slice()).length;n<r;n++)this.enable_node(t[n]);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;t.state.disabled=!1,this.get_node(t,!0).children(".jstree-anchor").removeClass("jstree-disabled").attr("aria-disabled",!1),this.trigger("enable_node",{node:t})},disable_node:function(t){var n,r;if(e.vakata.is_array(t)){for(n=0,r=(t=t.slice()).length;n<r;n++)this.disable_node(t[n]);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;t.state.disabled=!0,this.get_node(t,!0).children(".jstree-anchor").addClass("jstree-disabled").attr("aria-disabled",!0),this.trigger("disable_node",{node:t})},is_hidden:function(e){return!0===(e=this.get_node(e)).state.hidden},hide_node:function(t,n){var r,i;if(e.vakata.is_array(t)){for(r=0,i=(t=t.slice()).length;r<i;r++)this.hide_node(t[r],!0);return n||this.redraw(),!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;t.state.hidden||(t.state.hidden=!0,this._node_changed(t.parent),n||this.redraw(),this.trigger("hide_node",{node:t}))},show_node:function(t,n){var r,i;if(e.vakata.is_array(t)){for(r=0,i=(t=t.slice()).length;r<i;r++)this.show_node(t[r],!0);return n||this.redraw(),!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;t.state.hidden&&(t.state.hidden=!1,this._node_changed(t.parent),n||this.redraw(),this.trigger("show_node",{node:t}))},hide_all:function(t){var n,r=this._model.data,i=[];for(n in r)r.hasOwnProperty(n)&&n!==e.jstree.root&&!r[n].state.hidden&&(r[n].state.hidden=!0,i.push(n));return this._model.force_full_redraw=!0,t||this.redraw(),this.trigger("hide_all",{nodes:i}),i},show_all:function(t){var n,r=this._model.data,i=[];for(n in r)r.hasOwnProperty(n)&&n!==e.jstree.root&&r[n].state.hidden&&(r[n].state.hidden=!1,i.push(n));return this._model.force_full_redraw=!0,t||this.redraw(),this.trigger("show_all",{nodes:i}),i},activate_node:function(e,n){if(this.is_disabled(e))return!1;if(n&&"object"==typeof n||(n={}),this._data.core.last_clicked=this._data.core.last_clicked&&this._data.core.last_clicked.id!==t?this.get_node(this._data.core.last_clicked.id):null,this._data.core.last_clicked&&!this._data.core.last_clicked.state.selected&&(this._data.core.last_clicked=null),!this._data.core.last_clicked&&this._data.core.selected.length&&(this._data.core.last_clicked=this.get_node(this._data.core.selected[this._data.core.selected.length-1])),this.settings.core.multiple&&(n.metaKey||n.ctrlKey||n.shiftKey)&&(!n.shiftKey||this._data.core.last_clicked&&this.get_parent(e)&&this.get_parent(e)===this._data.core.last_clicked.parent))if(n.shiftKey){var r,i,a=this.get_node(e).id,o=this._data.core.last_clicked.id,s=this.get_node(this._data.core.last_clicked.parent).children,c=!1;for(r=0,i=s.length;r<i;r+=1)s[r]===a&&(c=!c),s[r]===o&&(c=!c),this.is_disabled(s[r])||!c&&s[r]!==a&&s[r]!==o?this.deselect_node(s[r],!0,n):this.is_hidden(s[r])||this.select_node(s[r],!0,!1,n);this.trigger("changed",{action:"select_node",node:this.get_node(e),selected:this._data.core.selected,event:n})}else this.is_selected(e)?this.deselect_node(e,!1,n):this.select_node(e,!1,!1,n);else!this.settings.core.multiple&&(n.metaKey||n.ctrlKey||n.shiftKey)&&this.is_selected(e)?this.deselect_node(e,!1,n):(this.deselect_all(!0),this.select_node(e,!1,!1,n),this._data.core.last_clicked=this.get_node(e));this.trigger("activate_node",{node:this.get_node(e),event:n})},hover_node:function(e){if(!(e=this.get_node(e,!0))||!e.length||e.children(".jstree-hovered").length)return!1;var t=this.element.find(".jstree-hovered"),n=this.element;t&&t.length&&this.dehover_node(t),e.children(".jstree-anchor").addClass("jstree-hovered"),this.trigger("hover_node",{node:this.get_node(e)}),setTimeout((function(){n.attr("aria-activedescendant",e[0].id)}),0)},dehover_node:function(e){if(!(e=this.get_node(e,!0))||!e.length||!e.children(".jstree-hovered").length)return!1;e.children(".jstree-anchor").removeClass("jstree-hovered"),this.trigger("dehover_node",{node:this.get_node(e)})},select_node:function(t,n,r,i){var a,o,s;if(e.vakata.is_array(t)){for(o=0,s=(t=t.slice()).length;o<s;o++)this.select_node(t[o],n,r,i);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;a=this.get_node(t,!0),t.state.selected||(t.state.selected=!0,this._data.core.selected.push(t.id),r||(a=this._open_to(t)),a&&a.length&&a.children(".jstree-anchor").addClass("jstree-clicked").attr("aria-selected",!0),this.trigger("select_node",{node:t,selected:this._data.core.selected,event:i}),n||this.trigger("changed",{action:"select_node",node:t,selected:this._data.core.selected,event:i}))},deselect_node:function(t,n,r){var i,a,o;if(e.vakata.is_array(t)){for(i=0,a=(t=t.slice()).length;i<a;i++)this.deselect_node(t[i],n,r);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;o=this.get_node(t,!0),t.state.selected&&(t.state.selected=!1,this._data.core.selected=e.vakata.array_remove_item(this._data.core.selected,t.id),o.length&&o.children(".jstree-anchor").removeClass("jstree-clicked").attr("aria-selected",!1),this.trigger("deselect_node",{node:t,selected:this._data.core.selected,event:r}),n||this.trigger("changed",{action:"deselect_node",node:t,selected:this._data.core.selected,event:r}))},select_all:function(t){var n,r,i=this._data.core.selected.concat([]);for(this._data.core.selected=this._model.data[e.jstree.root].children_d.concat(),n=0,r=this._data.core.selected.length;n<r;n++)this._model.data[this._data.core.selected[n]]&&(this._model.data[this._data.core.selected[n]].state.selected=!0);this.redraw(!0),this.trigger("select_all",{selected:this._data.core.selected}),t||this.trigger("changed",{action:"select_all",selected:this._data.core.selected,old_selection:i})},deselect_all:function(e){var t,n,r=this._data.core.selected.concat([]);for(t=0,n=this._data.core.selected.length;t<n;t++)this._model.data[this._data.core.selected[t]]&&(this._model.data[this._data.core.selected[t]].state.selected=!1);this._data.core.selected=[],this.element.find(".jstree-clicked").removeClass("jstree-clicked").attr("aria-selected",!1),this.trigger("deselect_all",{selected:this._data.core.selected,node:r}),e||this.trigger("changed",{action:"deselect_all",selected:this._data.core.selected,old_selection:r})},is_selected:function(t){return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&t.state.selected},get_selected:function(t){return t?e.map(this._data.core.selected,function(e){return this.get_node(e)}.bind(this)):this._data.core.selected.slice()},get_top_selected:function(t){var n,r,i,a,o=this.get_selected(!0),s={};for(n=0,r=o.length;n<r;n++)s[o[n].id]=o[n];for(n=0,r=o.length;n<r;n++)for(i=0,a=o[n].children_d.length;i<a;i++)s[o[n].children_d[i]]&&delete s[o[n].children_d[i]];for(n in o=[],s)s.hasOwnProperty(n)&&o.push(n);return t?e.map(o,function(e){return this.get_node(e)}.bind(this)):o},get_bottom_selected:function(t){var n,r,i=this.get_selected(!0),a=[];for(n=0,r=i.length;n<r;n++)i[n].children.length||a.push(i[n].id);return t?e.map(a,function(e){return this.get_node(e)}.bind(this)):a},get_state:function(){var t,n={core:{open:[],loaded:[],scroll:{left:this.element.scrollLeft(),top:this.element.scrollTop()},selected:[]}};for(t in this._model.data)this._model.data.hasOwnProperty(t)&&t!==e.jstree.root&&(this._model.data[t].state.loaded&&this.settings.core.loaded_state&&n.core.loaded.push(t),this._model.data[t].state.opened&&n.core.open.push(t),this._model.data[t].state.selected&&n.core.selected.push(t));return n},set_state:function(n,r){if(n){if(n.core&&n.core.selected&&n.core.initial_selection===t&&(n.core.initial_selection=this._data.core.selected.concat([]).sort().join(",")),n.core){var i,a;if(n.core.loaded)return this.settings.core.loaded_state&&e.vakata.is_array(n.core.loaded)&&n.core.loaded.length?this._load_nodes(n.core.loaded,(function(e){delete n.core.loaded,this.set_state(n,r)})):(delete n.core.loaded,this.set_state(n,r)),!1;if(n.core.open)return e.vakata.is_array(n.core.open)&&n.core.open.length?this._load_nodes(n.core.open,(function(e){this.open_node(e,!1,0),delete n.core.open,this.set_state(n,r)})):(delete n.core.open,this.set_state(n,r)),!1;if(n.core.scroll)return n.core.scroll&&n.core.scroll.left!==t&&this.element.scrollLeft(n.core.scroll.left),n.core.scroll&&n.core.scroll.top!==t&&this.element.scrollTop(n.core.scroll.top),delete n.core.scroll,this.set_state(n,r),!1;if(n.core.selected)return i=this,n.core.initial_selection!==t&&n.core.initial_selection!==this._data.core.selected.concat([]).sort().join(",")||(this.deselect_all(),e.each(n.core.selected,(function(e,t){i.select_node(t,!1,!0)}))),delete n.core.initial_selection,delete n.core.selected,this.set_state(n,r),!1;for(a in n)n.hasOwnProperty(a)&&"core"!==a&&-1===e.inArray(a,this.settings.plugins)&&delete n[a];if(e.isEmptyObject(n.core))return delete n.core,this.set_state(n,r),!1}return!e.isEmptyObject(n)||(n=null,r&&r.call(this),this.trigger("set_state"),!1)}return!1},refresh:function(t,n){this._data.core.state=!0===n?{}:this.get_state(),n&&e.vakata.is_function(n)&&(this._data.core.state=n.call(this,this._data.core.state)),this._cnt=0,this._model.data={},this._model.data[e.jstree.root]={id:e.jstree.root,parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}},this._data.core.selected=[],this._data.core.last_clicked=null,this._data.core.focused=null;var r=this.get_container_ul()[0].className;t||(this.element.html("<ul class='"+r+"' role='group'><li class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='none' id='j"+this._id+"_loading'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' role='treeitem' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading")),this.load_node(e.jstree.root,(function(t,n){n&&(this.get_container_ul()[0].className=r,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.set_state(e.extend(!0,{},this._data.core.state),(function(){this.trigger("refresh")}))),this._data.core.state=null}))},refresh_node:function(t){if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;var n=[],r=[],i=this._data.core.selected.concat([]);r.push(t.id),!0===t.state.opened&&n.push(t.id),this.get_node(t,!0).find(".jstree-open").each((function(){r.push(this.id),n.push(this.id)})),this._load_nodes(r,function(e){this.open_node(n,!1,0),this.select_node(i),this.trigger("refresh_node",{node:t,nodes:e})}.bind(this),!1,!0)},set_id:function(t,n){if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;var r,i,a=this._model.data,o=t.id;for(n=n.toString(),a[t.parent].children[e.inArray(t.id,a[t.parent].children)]=n,r=0,i=t.parents.length;r<i;r++)a[t.parents[r]].children_d[e.inArray(t.id,a[t.parents[r]].children_d)]=n;for(r=0,i=t.children.length;r<i;r++)a[t.children[r]].parent=n;for(r=0,i=t.children_d.length;r<i;r++)a[t.children_d[r]].parents[e.inArray(t.id,a[t.children_d[r]].parents)]=n;return-1!==(r=e.inArray(t.id,this._data.core.selected))&&(this._data.core.selected[r]=n),(r=this.get_node(t.id,!0))&&(r.attr("id",n),this.element.attr("aria-activedescendant")===t.id&&this.element.attr("aria-activedescendant",n)),delete a[t.id],t.id=n,t.li_attr.id=n,a[n]=t,this.trigger("set_id",{node:t,new:t.id,old:o}),!0},get_text:function(t){return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&t.text},set_text:function(t,n){var r,i;if(e.vakata.is_array(t)){for(r=0,i=(t=t.slice()).length;r<i;r++)this.set_text(t[r],n);return!0}return!(!(t=this.get_node(t))||t.id===e.jstree.root||(t.text=n,this.get_node(t,!0).length&&this.redraw_node(t.id),this.trigger("set_text",{obj:t,text:n}),0))},get_json:function(t,n,r){if(!(t=this.get_node(t||e.jstree.root)))return!1;n&&n.flat&&!r&&(r=[]);var i,a,o={id:t.id,text:t.text,icon:this.get_icon(t),li_attr:e.extend(!0,{},t.li_attr),a_attr:e.extend(!0,{},t.a_attr),state:{},data:(!n||!n.no_data)&&e.extend(!0,e.vakata.is_array(t.data)?[]:{},t.data)};if(n&&n.flat?o.parent=t.parent:o.children=[],n&&n.no_state)delete o.state;else for(i in t.state)t.state.hasOwnProperty(i)&&(o.state[i]=t.state[i]);if(n&&n.no_li_attr&&delete o.li_attr,n&&n.no_a_attr&&delete o.a_attr,n&&n.no_id&&(delete o.id,o.li_attr&&o.li_attr.id&&delete o.li_attr.id,o.a_attr&&o.a_attr.id&&delete o.a_attr.id),n&&n.flat&&t.id!==e.jstree.root&&r.push(o),!n||!n.no_children)for(i=0,a=t.children.length;i<a;i++)n&&n.flat?this.get_json(t.children[i],n,r):o.children.push(this.get_json(t.children[i],n));return n&&n.flat?r:t.id===e.jstree.root?o.children:o},create_node:function(n,r,i,a,o){if(null===n&&(n=e.jstree.root),!(n=this.get_node(n)))return!1;if(!(i=i===t?"last":i).toString().match(/^(before|after)$/)&&!o&&!this.is_loaded(n))return this.load_node(n,(function(){this.create_node(n,r,i,a,!0)}));var s,c,d,l;switch(r||(r={text:this.get_string("New node")}),(r="string"==typeof r?{text:r}:e.extend(!0,{},r)).text===t&&(r.text=this.get_string("New node")),n.id===e.jstree.root&&("before"===i&&(i="first"),"after"===i&&(i="last")),i){case"before":s=this.get_node(n.parent),i=e.inArray(n.id,s.children),n=s;break;case"after":s=this.get_node(n.parent),i=e.inArray(n.id,s.children)+1,n=s;break;case"inside":case"first":i=0;break;case"last":i=n.children.length;break;default:i||(i=0)}if(i>n.children.length&&(i=n.children.length),r.id||(r.id=!0),!this.check("create_node",r,n,i))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(!0===r.id&&delete r.id,!(r=this._parse_model_from_json(r,n.id,n.parents.concat())))return!1;for(s=this.get_node(r),(c=[]).push(r),c=c.concat(s.children_d),this.trigger("model",{nodes:c,parent:n.id}),n.children_d=n.children_d.concat(c),d=0,l=n.parents.length;d<l;d++)this._model.data[n.parents[d]].children_d=this._model.data[n.parents[d]].children_d.concat(c);for(r=s,s=[],d=0,l=n.children.length;d<l;d++)s[d>=i?d+1:d]=n.children[d];return s[i]=r.id,n.children=s,this.redraw_node(n,!0),this.trigger("create_node",{node:this.get_node(r),parent:n.id,position:i}),a&&a.call(this,this.get_node(r)),r.id},rename_node:function(t,n){var r,i,a;if(e.vakata.is_array(t)){for(r=0,i=(t=t.slice()).length;r<i;r++)this.rename_node(t[r],n);return!0}return!(!(t=this.get_node(t))||t.id===e.jstree.root||(a=t.text,this.check("rename_node",t,this.get_parent(t),n)?(this.set_text(t,n),this.trigger("rename_node",{node:t,text:n,old:a}),0):(this.settings.core.error.call(this,this._data.core.last_error),1)))},delete_node:function(t){var n,r,i,a,o,s,c,d,l,h,u,p;if(e.vakata.is_array(t)){for(n=0,r=(t=t.slice()).length;n<r;n++)this.delete_node(t[n]);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;if(i=this.get_node(t.parent),a=e.inArray(t.id,i.children),h=!1,!this.check("delete_node",t,i,a))return this.settings.core.error.call(this,this._data.core.last_error),!1;for(-1!==a&&(i.children=e.vakata.array_remove(i.children,a)),(o=t.children_d.concat([])).push(t.id),s=0,c=t.parents.length;s<c;s++)this._model.data[t.parents[s]].children_d=e.vakata.array_filter(this._model.data[t.parents[s]].children_d,(function(t){return-1===e.inArray(t,o)}));for(d=0,l=o.length;d<l;d++)if(this._model.data[o[d]].state.selected){h=!0;break}for(h&&(this._data.core.selected=e.vakata.array_filter(this._data.core.selected,(function(t){return-1===e.inArray(t,o)}))),this.trigger("delete_node",{node:t,parent:i.id}),h&&this.trigger("changed",{action:"delete_node",node:t,selected:this._data.core.selected,parent:i.id}),d=0,l=o.length;d<l;d++)delete this._model.data[o[d]];return-1!==e.inArray(this._data.core.focused,o)&&(this._data.core.focused=null,u=this.element[0].scrollTop,p=this.element[0].scrollLeft,i.id===e.jstree.root?this._model.data[e.jstree.root].children[0]&&this.get_node(this._model.data[e.jstree.root].children[0],!0).children(".jstree-anchor").triger("focus"):this.get_node(i,!0).children(".jstree-anchor").trigger("focus"),this.element[0].scrollTop=u,this.element[0].scrollLeft=p),this.redraw_node(i,!0),!0},check:function(t,n,r,i,a){n=n&&n.id?n:this.get_node(n),r=r&&r.id?r:this.get_node(r);var o=t.match(/^move_node|copy_node|create_node$/i)?r:n,s=this.settings.core.check_callback;if("move_node"===t||"copy_node"===t){if(!(a&&a.is_multi||"move_node"!==t||e.inArray(n.id,r.children)!==i))return this._data.core.last_error={error:"check",plugin:"core",id:"core_08",reason:"Moving node to its current position",data:JSON.stringify({chk:t,pos:i,obj:!(!n||!n.id)&&n.id,par:!(!r||!r.id)&&r.id})},!1;if(!(a&&a.is_multi||n.id!==r.id&&("move_node"!==t||e.inArray(n.id,r.children)!==i)&&-1===e.inArray(r.id,n.children_d)))return this._data.core.last_error={error:"check",plugin:"core",id:"core_01",reason:"Moving parent inside child",data:JSON.stringify({chk:t,pos:i,obj:!(!n||!n.id)&&n.id,par:!(!r||!r.id)&&r.id})},!1}return o&&o.data&&(o=o.data),o&&o.functions&&(!1===o.functions[t]||!0===o.functions[t])?(!1===o.functions[t]&&(this._data.core.last_error={error:"check",plugin:"core",id:"core_02",reason:"Node data prevents function: "+t,data:JSON.stringify({chk:t,pos:i,obj:!(!n||!n.id)&&n.id,par:!(!r||!r.id)&&r.id})}),o.functions[t]):!(!1===s||e.vakata.is_function(s)&&!1===s.call(this,t,n,r,i,a)||s&&!1===s[t])||(this._data.core.last_error={error:"check",plugin:"core",id:"core_03",reason:"User config for core.check_callback prevents function: "+t,data:JSON.stringify({chk:t,pos:i,obj:!(!n||!n.id)&&n.id,par:!(!r||!r.id)&&r.id})},!1)},last_error:function(){return this._data.core.last_error},move_node:function(n,r,i,a,o,s,c){var d,l,h,u,p,f,g,_,m,v,b,y,k,w;if(r=this.get_node(r),i=i===t?0:i,!r)return!1;if(!i.toString().match(/^(before|after)$/)&&!o&&!this.is_loaded(r))return this.load_node(r,(function(){this.move_node(n,r,i,a,!0,!1,c)}));if(e.vakata.is_array(n)){if(1!==n.length){for(d=0,l=n.length;d<l;d++)(m=this.move_node(n[d],r,i,a,o,!1,c))&&(r=m,i="after");return this.redraw(),!0}n=n[0]}if(!(n=n&&n.id?n:this.get_node(n))||n.id===e.jstree.root)return!1;if(h=(n.parent||e.jstree.root).toString(),p=i.toString().match(/^(before|after)$/)&&r.id!==e.jstree.root?this.get_node(r.parent):r,g=!(f=c||(this._model.data[n.id]?this:e.jstree.reference(n.id)))||!f._id||this._id!==f._id,u=f&&f._id&&h&&f._model.data[h]&&f._model.data[h].children?e.inArray(n.id,f._model.data[h].children):-1,f&&f._id&&(n=f._model.data[n.id]),g)return!!(m=this.copy_node(n,r,i,a,o,!1,c))&&(f&&f.delete_node(n),m);switch(r.id===e.jstree.root&&("before"===i&&(i="first"),"after"===i&&(i="last")),i){case"before":i=e.inArray(r.id,p.children);break;case"after":i=e.inArray(r.id,p.children)+1;break;case"inside":case"first":i=0;break;case"last":i=p.children.length;break;default:i||(i=0)}if(i>p.children.length&&(i=p.children.length),!this.check("move_node",n,p,i,{core:!0,origin:c,is_multi:f&&f._id&&f._id!==this._id,is_foreign:!f||!f._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(n.parent===p.id){for(_=p.children.concat(),-1!==(m=e.inArray(n.id,_))&&(_=e.vakata.array_remove(_,m),i>m&&i--),m=[],v=0,b=_.length;v<b;v++)m[v>=i?v+1:v]=_[v];m[i]=n.id,p.children=m,this._node_changed(p.id),this.redraw(p.id===e.jstree.root)}else{for((m=n.children_d.concat()).push(n.id),v=0,b=n.parents.length;v<b;v++){for(_=[],y=0,k=(w=f._model.data[n.parents[v]].children_d).length;y<k;y++)-1===e.inArray(w[y],m)&&_.push(w[y]);f._model.data[n.parents[v]].children_d=_}for(f._model.data[h].children=e.vakata.array_remove_item(f._model.data[h].children,n.id),v=0,b=p.parents.length;v<b;v++)this._model.data[p.parents[v]].children_d=this._model.data[p.parents[v]].children_d.concat(m);for(_=[],v=0,b=p.children.length;v<b;v++)_[v>=i?v+1:v]=p.children[v];for(_[i]=n.id,p.children=_,p.children_d.push(n.id),p.children_d=p.children_d.concat(n.children_d),n.parent=p.id,(m=p.parents.concat()).unshift(p.id),w=n.parents.length,n.parents=m,m=m.concat(),v=0,b=n.children_d.length;v<b;v++)this._model.data[n.children_d[v]].parents=this._model.data[n.children_d[v]].parents.slice(0,-1*w),Array.prototype.push.apply(this._model.data[n.children_d[v]].parents,m);h!==e.jstree.root&&p.id!==e.jstree.root||(this._model.force_full_redraw=!0),this._model.force_full_redraw||(this._node_changed(h),this._node_changed(p.id)),s||this.redraw()}return a&&a.call(this,n,p,i),this.trigger("move_node",{node:n,parent:p.id,position:i,old_parent:h,old_position:u,is_multi:f&&f._id&&f._id!==this._id,is_foreign:!f||!f._id,old_instance:f,new_instance:this}),n.id},copy_node:function(n,r,i,a,o,s,c){var d,l,h,u,p,f,g,_,m,v;if(r=this.get_node(r),i=i===t?0:i,!r)return!1;if(!i.toString().match(/^(before|after)$/)&&!o&&!this.is_loaded(r))return this.load_node(r,(function(){this.copy_node(n,r,i,a,!0,!1,c)}));if(e.vakata.is_array(n)){if(1!==n.length){for(d=0,l=n.length;d<l;d++)(u=this.copy_node(n[d],r,i,a,o,!0,c))&&(r=u,i="after");return this.redraw(),!0}n=n[0]}if(!(n=n&&n.id?n:this.get_node(n))||n.id===e.jstree.root)return!1;switch(_=(n.parent||e.jstree.root).toString(),m=i.toString().match(/^(before|after)$/)&&r.id!==e.jstree.root?this.get_node(r.parent):r,!(v=c||(this._model.data[n.id]?this:e.jstree.reference(n.id)))||!v._id||(this._id,v._id),v&&v._id&&(n=v._model.data[n.id]),r.id===e.jstree.root&&("before"===i&&(i="first"),"after"===i&&(i="last")),i){case"before":i=e.inArray(r.id,m.children);break;case"after":i=e.inArray(r.id,m.children)+1;break;case"inside":case"first":i=0;break;case"last":i=m.children.length;break;default:i||(i=0)}if(i>m.children.length&&(i=m.children.length),!this.check("copy_node",n,m,i,{core:!0,origin:c,is_multi:v&&v._id&&v._id!==this._id,is_foreign:!v||!v._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(!(g=v?v.get_json(n,{no_id:!0,no_data:!0,no_state:!0}):n))return!1;if(!0===g.id&&delete g.id,!(g=this._parse_model_from_json(g,m.id,m.parents.concat())))return!1;for(u=this.get_node(g),n&&n.state&&!1===n.state.loaded&&(u.state.loaded=!1),(h=[]).push(g),h=h.concat(u.children_d),this.trigger("model",{nodes:h,parent:m.id}),p=0,f=m.parents.length;p<f;p++)this._model.data[m.parents[p]].children_d=this._model.data[m.parents[p]].children_d.concat(h);for(h=[],p=0,f=m.children.length;p<f;p++)h[p>=i?p+1:p]=m.children[p];return h[i]=u.id,m.children=h,m.children_d.push(u.id),m.children_d=m.children_d.concat(u.children_d),m.id===e.jstree.root&&(this._model.force_full_redraw=!0),this._model.force_full_redraw||this._node_changed(m.id),s||this.redraw(m.id===e.jstree.root),a&&a.call(this,u,m,i),this.trigger("copy_node",{node:u,original:n,parent:m.id,position:i,old_parent:_,old_position:v&&v._id&&_&&v._model.data[_]&&v._model.data[_].children?e.inArray(n.id,v._model.data[_].children):-1,is_multi:v&&v._id&&v._id!==this._id,is_foreign:!v||!v._id,old_instance:v,new_instance:this}),u.id},cut:function(t){if(t||(t=this._data.core.selected.concat()),e.vakata.is_array(t)||(t=[t]),!t.length)return!1;var n,o,s,c=[];for(o=0,s=t.length;o<s;o++)(n=this.get_node(t[o]))&&n.id&&n.id!==e.jstree.root&&c.push(n);if(!c.length)return!1;r=c,a=this,i="move_node",this.trigger("cut",{node:t})},copy:function(t){if(t||(t=this._data.core.selected.concat()),e.vakata.is_array(t)||(t=[t]),!t.length)return!1;var n,o,s,c=[];for(o=0,s=t.length;o<s;o++)(n=this.get_node(t[o]))&&n.id&&n.id!==e.jstree.root&&c.push(n);if(!c.length)return!1;r=c,a=this,i="copy_node",this.trigger("copy",{node:t})},get_buffer:function(){return{mode:i,node:r,inst:a}},can_paste:function(){return!1!==i&&!1!==r},paste:function(e,t){if(!((e=this.get_node(e))&&i&&i.match(/^(copy_node|move_node)$/)&&r))return!1;this[i](r,e,t,!1,!1,!1,a)&&this.trigger("paste",{parent:e.id,node:r,mode:i}),r=!1,i=!1,a=!1},clear_buffer:function(){r=!1,i=!1,a=!1,this.trigger("clear_buffer")},edit:function(t,n,r){var i,a,o,s,d,l,h,u,p,f=!1;return!!(t=this.get_node(t))&&(this.check("edit",t,this.get_parent(t))?(p=t,n="string"==typeof n?n:t.text,this.set_text(t,""),t=this._open_to(t),p.text=n,i=this._data.core.rtl,a=this.element.width(),this._data.core.focused=p.id,o=t.children(".jstree-anchor").trigger("focus"),s=e("<span></span>"),d=n,l=e("<div></div>",{css:{position:"absolute",top:"-200px",left:i?"0px":"-1000px",visibility:"hidden"}}).appendTo(c.body),h=e("<input />",{value:d,class:"jstree-rename-input",css:{padding:"0",border:"1px solid silver","box-sizing":"border-box",display:"inline-block",height:this._data.core.li_height+"px",lineHeight:this._data.core.li_height+"px",width:"150px"},blur:function(n){n.stopImmediatePropagation(),n.preventDefault();var i,a=s.children(".jstree-rename-input").val(),c=this.settings.core.force_text;""===a&&(a=d),l.remove(),s.replaceWith(o),s.remove(),d=c?d:e("<div></div>").append(e.parseHTML(d)).html(),t=this.get_node(t),this.set_text(t,d),(i=!!this.rename_node(t,c?e("<div></div>").text(a).text():e("<div></div>").append(e.parseHTML(a)).html()))||this.set_text(t,d),this._data.core.focused=p.id,setTimeout(function(){var e=this.get_node(p.id,!0);e.length&&(this._data.core.focused=p.id,e.children(".jstree-anchor").trigger("focus"))}.bind(this),0),r&&r.call(this,p,i,f,a),h=null}.bind(this),keydown:function(e){var t=e.which;27===t&&(f=!0,this.value=d),27!==t&&13!==t&&37!==t&&38!==t&&39!==t&&40!==t&&32!==t||e.stopImmediatePropagation(),27!==t&&13!==t||(e.preventDefault(),this.blur())},click:function(e){e.stopImmediatePropagation()},mousedown:function(e){e.stopImmediatePropagation()},keyup:function(e){h.width(Math.min(l.text("pW"+this.value).width(),a))},keypress:function(e){if(13===e.which)return!1}}),u={fontFamily:o.css("fontFamily")||"",fontSize:o.css("fontSize")||"",fontWeight:o.css("fontWeight")||"",fontStyle:o.css("fontStyle")||"",fontStretch:o.css("fontStretch")||"",fontVariant:o.css("fontVariant")||"",letterSpacing:o.css("letterSpacing")||"",wordSpacing:o.css("wordSpacing")||""},s.attr("class",o.attr("class")).append(o.contents().clone()).append(h),o.replaceWith(s),l.css(u),h.css(u).width(Math.min(l.text("pW"+h[0].value).width(),a))[0].select(),void e(c).one("mousedown.jstree touchstart.jstree dnd_start.vakata",(function(t){h&&t.target!==h&&e(h).trigger("blur")}))):(this.settings.core.error.call(this,this._data.core.last_error),!1))},set_theme:function(t,n){if(!t)return!1;if(!0===n){var r=this.settings.core.themes.dir;r||(r=e.jstree.path+"/themes"),n=r+"/"+t+"/style.css"}n&&-1===e.inArray(n,o)&&(e("head").append('<link rel="stylesheet" href="'+n+'" type="text/css" />'),o.push(n)),this._data.core.themes.name&&this.element.removeClass("jstree-"+this._data.core.themes.name),this._data.core.themes.name=t,this.element.addClass("jstree-"+t),this.element[this.settings.core.themes.responsive?"addClass":"removeClass"]("jstree-"+t+"-responsive"),this.trigger("set_theme",{theme:t})},get_theme:function(){return this._data.core.themes.name},set_theme_variant:function(e){this._data.core.themes.variant&&this.element.removeClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant),this._data.core.themes.variant=e,e&&this.element.addClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant)},get_theme_variant:function(){return this._data.core.themes.variant},show_stripes:function(){this._data.core.themes.stripes=!0,this.get_container_ul().addClass("jstree-striped"),this.trigger("show_stripes")},hide_stripes:function(){this._data.core.themes.stripes=!1,this.get_container_ul().removeClass("jstree-striped"),this.trigger("hide_stripes")},toggle_stripes:function(){this._data.core.themes.stripes?this.hide_stripes():this.show_stripes()},show_dots:function(){this._data.core.themes.dots=!0,this.get_container_ul().removeClass("jstree-no-dots"),this.trigger("show_dots")},hide_dots:function(){this._data.core.themes.dots=!1,this.get_container_ul().addClass("jstree-no-dots"),this.trigger("hide_dots")},toggle_dots:function(){this._data.core.themes.dots?this.hide_dots():this.show_dots()},show_icons:function(){this._data.core.themes.icons=!0,this.get_container_ul().removeClass("jstree-no-icons"),this.trigger("show_icons")},hide_icons:function(){this._data.core.themes.icons=!1,this.get_container_ul().addClass("jstree-no-icons"),this.trigger("hide_icons")},toggle_icons:function(){this._data.core.themes.icons?this.hide_icons():this.show_icons()},show_ellipsis:function(){this._data.core.themes.ellipsis=!0,this.get_container_ul().addClass("jstree-ellipsis"),this.trigger("show_ellipsis")},hide_ellipsis:function(){this._data.core.themes.ellipsis=!1,this.get_container_ul().removeClass("jstree-ellipsis"),this.trigger("hide_ellipsis")},toggle_ellipsis:function(){this._data.core.themes.ellipsis?this.hide_ellipsis():this.show_ellipsis()},set_icon:function(n,r){var i,a,o,s;if(e.vakata.is_array(n)){for(i=0,a=(n=n.slice()).length;i<a;i++)this.set_icon(n[i],r);return!0}return!(!(n=this.get_node(n))||n.id===e.jstree.root||(s=n.icon,n.icon=!0===r||null===r||r===t||""===r||r,o=this.get_node(n,!0).children(".jstree-anchor").children(".jstree-themeicon"),!1===r?(o.removeClass("jstree-themeicon-custom "+s).css("background","").removeAttr("rel"),this.hide_icon(n)):!0===r||null===r||r===t||""===r?(o.removeClass("jstree-themeicon-custom "+s).css("background","").removeAttr("rel"),!1===s&&this.show_icon(n)):-1===r.indexOf("/")&&-1===r.indexOf(".")?(o.removeClass(s).css("background",""),o.addClass(r+" jstree-themeicon-custom").attr("rel",r),!1===s&&this.show_icon(n)):(o.removeClass(s).css("background",""),o.addClass("jstree-themeicon-custom").css("background","url('"+r+"') center center no-repeat").attr("rel",r),!1===s&&this.show_icon(n)),0))},get_icon:function(t){return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&t.icon},hide_icon:function(t){var n,r;if(e.vakata.is_array(t)){for(n=0,r=(t=t.slice()).length;n<r;n++)this.hide_icon(t[n]);return!0}return!(!(t=this.get_node(t))||t===e.jstree.root||(t.icon=!1,this.get_node(t,!0).children(".jstree-anchor").children(".jstree-themeicon").addClass("jstree-themeicon-hidden"),0))},show_icon:function(t){var n,r,i;if(e.vakata.is_array(t)){for(n=0,r=(t=t.slice()).length;n<r;n++)this.show_icon(t[n]);return!0}return!(!(t=this.get_node(t))||t===e.jstree.root||(i=this.get_node(t,!0),t.icon=!i.length||i.children(".jstree-anchor").children(".jstree-themeicon").attr("rel"),t.icon||(t.icon=!0),i.children(".jstree-anchor").children(".jstree-themeicon").removeClass("jstree-themeicon-hidden"),0))}},e.vakata={},e.vakata.attributes=function(t,n){t=e(t)[0];var r=n?{}:[];return t&&t.attributes&&e.each(t.attributes,(function(t,i){-1===e.inArray(i.name.toLowerCase(),["style","contenteditable","hasfocus","tabindex"])&&null!==i.value&&""!==e.vakata.trim(i.value)&&(n?r[i.name]=i.value:r.push(i.name))})),r},e.vakata.array_unique=function(e){var n,r,i=[],a={};for(n=0,r=e.length;n<r;n++)a[e[n]]===t&&(i.push(e[n]),a[e[n]]=!0);return i},e.vakata.array_remove=function(e,t){return e.splice(t,1),e},e.vakata.array_remove_item=function(t,n){var r=e.inArray(n,t);return-1!==r?e.vakata.array_remove(t,r):t},e.vakata.array_filter=function(e,t,n,r,i){if(e.filter)return e.filter(t,n);for(i in r=[],e)~~i+""==i+""&&i>=0&&t.call(n,e[i],+i,e)&&r.push(e[i]);return r},e.vakata.trim=function(e){return String.prototype.trim?String.prototype.trim.call(e.toString()):e.toString().replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},e.vakata.is_function=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},e.vakata.is_array=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},Function.prototype.bind||(Function.prototype.bind=function(){var e=this,t=arguments[0],n=Array.prototype.slice.call(arguments,1);if("function"!=typeof e)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");return function(){var r=n.concat(Array.prototype.slice.call(arguments));return e.apply(t,r)}}),e.jstree.plugins.changed=function(e,t){var n=[];this.trigger=function(e,r){var i,a;if(r||(r={}),"changed"===e.replace(".jstree","")){r.changed={selected:[],deselected:[]};var o={};for(i=0,a=n.length;i<a;i++)o[n[i]]=1;for(i=0,a=r.selected.length;i<a;i++)o[r.selected[i]]?o[r.selected[i]]=2:r.changed.selected.push(r.selected[i]);for(i=0,a=n.length;i<a;i++)1===o[n[i]]&&r.changed.deselected.push(n[i]);n=r.selected.slice()}t.trigger.call(this,e,r)},this.refresh=function(e,r){return n=[],t.refresh.apply(this,arguments)}};var h,u,p=c.createElement("I");p.className="jstree-icon jstree-checkbox",p.setAttribute("role","presentation"),e.jstree.defaults.checkbox={visible:!0,three_state:!0,whole_node:!0,keep_selected_style:!0,cascade:"",tie_selection:!0,cascade_to_disabled:!0,cascade_to_hidden:!0},e.jstree.plugins.checkbox=function(n,r){this.bind=function(){r.bind.call(this),this._data.checkbox.uto=!1,this._data.checkbox.selected=[],this.settings.checkbox.three_state&&(this.settings.checkbox.cascade="up+down+undetermined"),this.element.on("init.jstree",function(){this._data.checkbox.visible=this.settings.checkbox.visible,this.settings.checkbox.keep_selected_style||this.element.addClass("jstree-checkbox-no-clicked"),this.settings.checkbox.tie_selection&&this.element.addClass("jstree-checkbox-selection")}.bind(this)).on("loading.jstree",function(){this[this._data.checkbox.visible?"show_checkboxes":"hide_checkboxes"]()}.bind(this)),-1!==this.settings.checkbox.cascade.indexOf("undetermined")&&this.element.on("changed.jstree uncheck_node.jstree check_node.jstree uncheck_all.jstree check_all.jstree move_node.jstree copy_node.jstree redraw.jstree open_node.jstree",function(){this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(this._undetermined.bind(this),50)}.bind(this)),this.settings.checkbox.tie_selection||this.element.on("model.jstree",function(e,t){var n,r,i=this._model.data,a=(i[t.parent],t.nodes);for(n=0,r=a.length;n<r;n++)i[a[n]].state.checked=i[a[n]].state.checked||i[a[n]].original&&i[a[n]].original.state&&i[a[n]].original.state.checked,i[a[n]].state.checked&&this._data.checkbox.selected.push(a[n])}.bind(this)),-1===this.settings.checkbox.cascade.indexOf("up")&&-1===this.settings.checkbox.cascade.indexOf("down")||this.element.on("model.jstree",function(t,n){var r,i,a,o,s,c,d=this._model.data,l=d[n.parent],h=n.nodes,u=[],p=this.settings.checkbox.cascade,f=this.settings.checkbox.tie_selection;if(-1!==p.indexOf("down"))if(l.state[f?"selected":"checked"]){for(i=0,a=h.length;i<a;i++)d[h[i]].state[f?"selected":"checked"]=!0;this._data[f?"core":"checkbox"].selected=this._data[f?"core":"checkbox"].selected.concat(h)}else for(i=0,a=h.length;i<a;i++)if(d[h[i]].state[f?"selected":"checked"]){for(o=0,s=d[h[i]].children_d.length;o<s;o++)d[d[h[i]].children_d[o]].state[f?"selected":"checked"]=!0;this._data[f?"core":"checkbox"].selected=this._data[f?"core":"checkbox"].selected.concat(d[h[i]].children_d)}if(-1!==p.indexOf("up")){for(i=0,a=l.children_d.length;i<a;i++)d[l.children_d[i]].children.length||u.push(d[l.children_d[i]].parent);for(o=0,s=(u=e.vakata.array_unique(u)).length;o<s;o++)for(l=d[u[o]];l&&l.id!==e.jstree.root;){for(r=0,i=0,a=l.children.length;i<a;i++)r+=d[l.children[i]].state[f?"selected":"checked"];if(r!==a)break;l.state[f?"selected":"checked"]=!0,this._data[f?"core":"checkbox"].selected.push(l.id),(c=this.get_node(l,!0))&&c.length&&c.attr("aria-selected",!0).children(".jstree-anchor").addClass(f?"jstree-clicked":"jstree-checked"),l=this.get_node(l.parent)}}this._data[f?"core":"checkbox"].selected=e.vakata.array_unique(this._data[f?"core":"checkbox"].selected)}.bind(this)).on(this.settings.checkbox.tie_selection?"select_node.jstree":"check_node.jstree",function(t,n){var r,i,a,o,s=n.node,c=this._model.data,d=this.get_node(s.parent),l=this.settings.checkbox.cascade,h=this.settings.checkbox.tie_selection,u={},p=this._data[h?"core":"checkbox"].selected;for(r=0,i=p.length;r<i;r++)u[p[r]]=!0;if(-1!==l.indexOf("down")){var f=this._cascade_new_checked_state(s.id,!0),g=s.children_d.concat(s.id);for(r=0,i=g.length;r<i;r++)f.indexOf(g[r])>-1?u[g[r]]=!0:delete u[g[r]]}if(-1!==l.indexOf("up"))for(;d&&d.id!==e.jstree.root;){for(a=0,r=0,i=d.children.length;r<i;r++)a+=c[d.children[r]].state[h?"selected":"checked"];if(a!==i)break;d.state[h?"selected":"checked"]=!0,u[d.id]=!0,(o=this.get_node(d,!0))&&o.length&&o.attr("aria-selected",!0).children(".jstree-anchor").addClass(h?"jstree-clicked":"jstree-checked"),d=this.get_node(d.parent)}for(r in p=[],u)u.hasOwnProperty(r)&&p.push(r);this._data[h?"core":"checkbox"].selected=p}.bind(this)).on(this.settings.checkbox.tie_selection?"deselect_all.jstree":"uncheck_all.jstree",function(t,n){var r,i,a,o=this.get_node(e.jstree.root),s=this._model.data;for(r=0,i=o.children_d.length;r<i;r++)(a=s[o.children_d[r]])&&a.original&&a.original.state&&a.original.state.undetermined&&(a.original.state.undetermined=!1)}.bind(this)).on(this.settings.checkbox.tie_selection?"deselect_node.jstree":"uncheck_node.jstree",function(t,n){var r,i,a,o=n.node,s=(this.get_node(o,!0),this.settings.checkbox.cascade),c=this.settings.checkbox.tie_selection,d=this._data[c?"core":"checkbox"].selected,l=o.children_d.concat(o.id);if(-1!==s.indexOf("down")){var h=this._cascade_new_checked_state(o.id,!1);d=e.vakata.array_filter(d,(function(e){return-1===l.indexOf(e)||h.indexOf(e)>-1}))}if(-1!==s.indexOf("up")&&-1===d.indexOf(o.id)){for(r=0,i=o.parents.length;r<i;r++)(a=this._model.data[o.parents[r]]).state[c?"selected":"checked"]=!1,a&&a.original&&a.original.state&&a.original.state.undetermined&&(a.original.state.undetermined=!1),(a=this.get_node(o.parents[r],!0))&&a.length&&a.attr("aria-selected",!1).children(".jstree-anchor").removeClass(c?"jstree-clicked":"jstree-checked");d=e.vakata.array_filter(d,(function(e){return-1===o.parents.indexOf(e)}))}this._data[c?"core":"checkbox"].selected=d}.bind(this)),-1!==this.settings.checkbox.cascade.indexOf("up")&&this.element.on("delete_node.jstree",function(t,n){for(var r,i,a,o,s=this.get_node(n.parent),c=this._model.data,d=this.settings.checkbox.tie_selection;s&&s.id!==e.jstree.root&&!s.state[d?"selected":"checked"];){for(a=0,r=0,i=s.children.length;r<i;r++)a+=c[s.children[r]].state[d?"selected":"checked"];if(!(i>0&&a===i))break;s.state[d?"selected":"checked"]=!0,this._data[d?"core":"checkbox"].selected.push(s.id),(o=this.get_node(s,!0))&&o.length&&o.attr("aria-selected",!0).children(".jstree-anchor").addClass(d?"jstree-clicked":"jstree-checked"),s=this.get_node(s.parent)}}.bind(this)).on("move_node.jstree",function(t,n){var r,i,a,o,s,c=n.is_multi,d=n.old_parent,l=this.get_node(n.parent),h=this._model.data,u=this.settings.checkbox.tie_selection;if(!c)for(r=this.get_node(d);r&&r.id!==e.jstree.root&&!r.state[u?"selected":"checked"];){for(i=0,a=0,o=r.children.length;a<o;a++)i+=h[r.children[a]].state[u?"selected":"checked"];if(!(o>0&&i===o))break;r.state[u?"selected":"checked"]=!0,this._data[u?"core":"checkbox"].selected.push(r.id),(s=this.get_node(r,!0))&&s.length&&s.attr("aria-selected",!0).children(".jstree-anchor").addClass(u?"jstree-clicked":"jstree-checked"),r=this.get_node(r.parent)}for(r=l;r&&r.id!==e.jstree.root;){for(i=0,a=0,o=r.children.length;a<o;a++)i+=h[r.children[a]].state[u?"selected":"checked"];if(i===o)r.state[u?"selected":"checked"]||(r.state[u?"selected":"checked"]=!0,this._data[u?"core":"checkbox"].selected.push(r.id),(s=this.get_node(r,!0))&&s.length&&s.attr("aria-selected",!0).children(".jstree-anchor").addClass(u?"jstree-clicked":"jstree-checked"));else{if(!r.state[u?"selected":"checked"])break;r.state[u?"selected":"checked"]=!1,this._data[u?"core":"checkbox"].selected=e.vakata.array_remove_item(this._data[u?"core":"checkbox"].selected,r.id),(s=this.get_node(r,!0))&&s.length&&s.attr("aria-selected",!1).children(".jstree-anchor").removeClass(u?"jstree-clicked":"jstree-checked")}r=this.get_node(r.parent)}}.bind(this))},this.get_undetermined=function(n){if(-1===this.settings.checkbox.cascade.indexOf("undetermined"))return[];var r,i,a,o,s={},c=this._model.data,d=this.settings.checkbox.tie_selection,l=this._data[d?"core":"checkbox"].selected,h=[],u=this,p=[];for(r=0,i=l.length;r<i;r++)if(c[l[r]]&&c[l[r]].parents)for(a=0,o=c[l[r]].parents.length;a<o&&s[c[l[r]].parents[a]]===t;a++)c[l[r]].parents[a]!==e.jstree.root&&(s[c[l[r]].parents[a]]=!0,h.push(c[l[r]].parents[a]));for(this.element.find(".jstree-closed").not(":has(.jstree-children)").each((function(){var n,d=u.get_node(this);if(d)if(d.state.loaded){for(r=0,i=d.children_d.length;r<i;r++)if(!(n=c[d.children_d[r]]).state.loaded&&n.original&&n.original.state&&n.original.state.undetermined&&!0===n.original.state.undetermined)for(s[n.id]===t&&n.id!==e.jstree.root&&(s[n.id]=!0,h.push(n.id)),a=0,o=n.parents.length;a<o;a++)s[n.parents[a]]===t&&n.parents[a]!==e.jstree.root&&(s[n.parents[a]]=!0,h.push(n.parents[a]))}else if(d.original&&d.original.state&&d.original.state.undetermined&&!0===d.original.state.undetermined)for(s[d.id]===t&&d.id!==e.jstree.root&&(s[d.id]=!0,h.push(d.id)),a=0,o=d.parents.length;a<o;a++)s[d.parents[a]]===t&&d.parents[a]!==e.jstree.root&&(s[d.parents[a]]=!0,h.push(d.parents[a]))})),r=0,i=h.length;r<i;r++)c[h[r]].state[d?"selected":"checked"]||p.push(n?c[h[r]]:h[r]);return p},this._undetermined=function(){if(null!==this.element){var e,t,n,r=this.get_undetermined(!1);for(this.element.find(".jstree-undetermined").removeClass("jstree-undetermined"),e=0,t=r.length;e<t;e++)(n=this.get_node(r[e],!0))&&n.length&&n.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-undetermined")}},this.redraw_node=function(e,t,n,i){if(e=r.redraw_node.apply(this,arguments)){var a,o,s=null,c=null;for(a=0,o=e.childNodes.length;a<o;a++)if(e.childNodes[a]&&e.childNodes[a].className&&-1!==e.childNodes[a].className.indexOf("jstree-anchor")){s=e.childNodes[a];break}s&&(!this.settings.checkbox.tie_selection&&this._model.data[e.id].state.checked&&(s.className+=" jstree-checked"),c=p.cloneNode(!1),this._model.data[e.id].state.checkbox_disabled&&(c.className+=" jstree-checkbox-disabled"),s.insertBefore(c,s.childNodes[0]))}return n||-1===this.settings.checkbox.cascade.indexOf("undetermined")||(this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(this._undetermined.bind(this),50)),e},this.show_checkboxes=function(){this._data.core.themes.checkboxes=!0,this.get_container_ul().removeClass("jstree-no-checkboxes")},this.hide_checkboxes=function(){this._data.core.themes.checkboxes=!1,this.get_container_ul().addClass("jstree-no-checkboxes")},this.toggle_checkboxes=function(){this._data.core.themes.checkboxes?this.hide_checkboxes():this.show_checkboxes()},this.is_undetermined=function(t){t=this.get_node(t);var n,r,i=this.settings.checkbox.cascade,a=this.settings.checkbox.tie_selection,o=this._data[a?"core":"checkbox"].selected,s=this._model.data;if(!t||!0===t.state[a?"selected":"checked"]||-1===i.indexOf("undetermined")||-1===i.indexOf("down")&&-1===i.indexOf("up"))return!1;if(!t.state.loaded&&!0===t.original.state.undetermined)return!0;for(n=0,r=t.children_d.length;n<r;n++)if(-1!==e.inArray(t.children_d[n],o)||!s[t.children_d[n]].state.loaded&&s[t.children_d[n]].original.state.undetermined)return!0;return!1},this.disable_checkbox=function(t){var n,r,i;if(e.vakata.is_array(t)){for(n=0,r=(t=t.slice()).length;n<r;n++)this.disable_checkbox(t[n]);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;i=this.get_node(t,!0),t.state.checkbox_disabled||(t.state.checkbox_disabled=!0,i&&i.length&&i.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-checkbox-disabled"),this.trigger("disable_checkbox",{node:t}))},this.enable_checkbox=function(t){var n,r,i;if(e.vakata.is_array(t)){for(n=0,r=(t=t.slice()).length;n<r;n++)this.enable_checkbox(t[n]);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;i=this.get_node(t,!0),t.state.checkbox_disabled&&(t.state.checkbox_disabled=!1,i&&i.length&&i.children(".jstree-anchor").children(".jstree-checkbox").removeClass("jstree-checkbox-disabled"),this.trigger("enable_checkbox",{node:t}))},this.activate_node=function(t,n){return!e(n.target).hasClass("jstree-checkbox-disabled")&&(this.settings.checkbox.tie_selection&&(this.settings.checkbox.whole_node||e(n.target).hasClass("jstree-checkbox"))&&(n.ctrlKey=!0),this.settings.checkbox.tie_selection||!this.settings.checkbox.whole_node&&!e(n.target).hasClass("jstree-checkbox")?r.activate_node.call(this,t,n):!this.is_disabled(t)&&(this.is_checked(t)?this.uncheck_node(t,n):this.check_node(t,n),void this.trigger("activate_node",{node:this.get_node(t)})))},this._cascade_new_checked_state=function(e,t){var n,r,i,a=this.settings.checkbox.tie_selection,o=this._model.data[e],s=[],c=[];if(!this.settings.checkbox.cascade_to_disabled&&o.state.disabled||!this.settings.checkbox.cascade_to_hidden&&o.state.hidden)i=this.get_checked_descendants(e),o.state[a?"selected":"checked"]&&i.push(o.id),s=s.concat(i);else{if(o.children)for(n=0,r=o.children.length;n<r;n++){var d=o.children[n];i=this._cascade_new_checked_state(d,t),s=s.concat(i),i.indexOf(d)>-1&&c.push(d)}var l=this.get_node(o,!0),h=c.length>0&&c.length<o.children.length;o.original&&o.original.state&&o.original.state.undetermined&&(o.original.state.undetermined=h),h?(o.state[a?"selected":"checked"]=!1,l.attr("aria-selected",!1).children(".jstree-anchor").removeClass(a?"jstree-clicked":"jstree-checked")):t&&c.length===o.children.length?(o.state[a?"selected":"checked"]=t,s.push(o.id),l.attr("aria-selected",!0).children(".jstree-anchor").addClass(a?"jstree-clicked":"jstree-checked")):(o.state[a?"selected":"checked"]=!1,l.attr("aria-selected",!1).children(".jstree-anchor").removeClass(a?"jstree-clicked":"jstree-checked"))}return s},this.get_checked_descendants=function(t){var n=this,r=n.settings.checkbox.tie_selection,i=n._model.data[t];return e.vakata.array_filter(i.children_d,(function(e){return n._model.data[e].state[r?"selected":"checked"]}))},this.check_node=function(t,n){if(this.settings.checkbox.tie_selection)return this.select_node(t,!1,!0,n);var r,i,a;if(e.vakata.is_array(t)){for(i=0,a=(t=t.slice()).length;i<a;i++)this.check_node(t[i],n);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;r=this.get_node(t,!0),t.state.checked||(t.state.checked=!0,this._data.checkbox.selected.push(t.id),r&&r.length&&r.children(".jstree-anchor").addClass("jstree-checked"),this.trigger("check_node",{node:t,selected:this._data.checkbox.selected,event:n}))},this.uncheck_node=function(t,n){if(this.settings.checkbox.tie_selection)return this.deselect_node(t,!1,n);var r,i,a;if(e.vakata.is_array(t)){for(r=0,i=(t=t.slice()).length;r<i;r++)this.uncheck_node(t[r],n);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;a=this.get_node(t,!0),t.state.checked&&(t.state.checked=!1,this._data.checkbox.selected=e.vakata.array_remove_item(this._data.checkbox.selected,t.id),a.length&&a.children(".jstree-anchor").removeClass("jstree-checked"),this.trigger("uncheck_node",{node:t,selected:this._data.checkbox.selected,event:n}))},this.check_all=function(){if(this.settings.checkbox.tie_selection)return this.select_all();var t,n;for(this._data.checkbox.selected.concat([]),this._data.checkbox.selected=this._model.data[e.jstree.root].children_d.concat(),t=0,n=this._data.checkbox.selected.length;t<n;t++)this._model.data[this._data.checkbox.selected[t]]&&(this._model.data[this._data.checkbox.selected[t]].state.checked=!0);this.redraw(!0),this.trigger("check_all",{selected:this._data.checkbox.selected})},this.uncheck_all=function(){if(this.settings.checkbox.tie_selection)return this.deselect_all();var e,t,n=this._data.checkbox.selected.concat([]);for(e=0,t=this._data.checkbox.selected.length;e<t;e++)this._model.data[this._data.checkbox.selected[e]]&&(this._model.data[this._data.checkbox.selected[e]].state.checked=!1);this._data.checkbox.selected=[],this.element.find(".jstree-checked").removeClass("jstree-checked"),this.trigger("uncheck_all",{selected:this._data.checkbox.selected,node:n})},this.is_checked=function(t){return this.settings.checkbox.tie_selection?this.is_selected(t):!(!(t=this.get_node(t))||t.id===e.jstree.root)&&t.state.checked},this.get_checked=function(t){return this.settings.checkbox.tie_selection?this.get_selected(t):t?e.map(this._data.checkbox.selected,function(e){return this.get_node(e)}.bind(this)):this._data.checkbox.selected.slice()},this.get_top_checked=function(t){if(this.settings.checkbox.tie_selection)return this.get_top_selected(t);var n,r,i,a,o=this.get_checked(!0),s={};for(n=0,r=o.length;n<r;n++)s[o[n].id]=o[n];for(n=0,r=o.length;n<r;n++)for(i=0,a=o[n].children_d.length;i<a;i++)s[o[n].children_d[i]]&&delete s[o[n].children_d[i]];for(n in o=[],s)s.hasOwnProperty(n)&&o.push(n);return t?e.map(o,function(e){return this.get_node(e)}.bind(this)):o},this.get_bottom_checked=function(t){if(this.settings.checkbox.tie_selection)return this.get_bottom_selected(t);var n,r,i=this.get_checked(!0),a=[];for(n=0,r=i.length;n<r;n++)i[n].children.length||a.push(i[n].id);return t?e.map(a,function(e){return this.get_node(e)}.bind(this)):a},this.load_node=function(t,n){var i,a,o;if(!e.vakata.is_array(t)&&!this.settings.checkbox.tie_selection&&(o=this.get_node(t))&&o.state.loaded)for(i=0,a=o.children_d.length;i<a;i++)this._model.data[o.children_d[i]].state.checked&&(this._data.checkbox.selected=e.vakata.array_remove_item(this._data.checkbox.selected,o.children_d[i]));return r.load_node.apply(this,arguments)},this.get_state=function(){var e=r.get_state.apply(this,arguments);return this.settings.checkbox.tie_selection||(e.checkbox=this._data.checkbox.selected.slice()),e},this.set_state=function(t,n){var i=r.set_state.apply(this,arguments);if(i&&t.checkbox){if(!this.settings.checkbox.tie_selection){this.uncheck_all();var a=this;e.each(t.checkbox,(function(e,t){a.check_node(t)}))}return delete t.checkbox,this.set_state(t,n),!1}return i},this.refresh=function(e,t){return this.settings.checkbox.tie_selection&&(this._data.checkbox.selected=[]),r.refresh.apply(this,arguments)}},e.jstree.defaults.conditionalselect=function(){return!0},e.jstree.plugins.conditionalselect=function(e,t){this.activate_node=function(e,n){if(this.settings.conditionalselect.call(this,this.get_node(e),n))return t.activate_node.call(this,e,n)}},e.jstree.defaults.contextmenu={select_node:!0,show_at_node:!0,items:function(t,n){return{create:{separator_before:!1,separator_after:!0,_disabled:!1,label:"Create",action:function(t){var n=e.jstree.reference(t.reference),r=n.get_node(t.reference);n.create_node(r,{},"last",(function(e){try{n.edit(e)}catch(t){setTimeout((function(){n.edit(e)}),0)}}))}},rename:{separator_before:!1,separator_after:!1,_disabled:!1,label:"Rename",action:function(t){var n=e.jstree.reference(t.reference),r=n.get_node(t.reference);n.edit(r)}},remove:{separator_before:!1,icon:!1,separator_after:!1,_disabled:!1,label:"Delete",action:function(t){var n=e.jstree.reference(t.reference),r=n.get_node(t.reference);n.is_selected(r)?n.delete_node(n.get_selected()):n.delete_node(r)}},ccp:{separator_before:!0,icon:!1,separator_after:!1,label:"Edit",action:!1,submenu:{cut:{separator_before:!1,separator_after:!1,label:"Cut",action:function(t){var n=e.jstree.reference(t.reference),r=n.get_node(t.reference);n.is_selected(r)?n.cut(n.get_top_selected()):n.cut(r)}},copy:{separator_before:!1,icon:!1,separator_after:!1,label:"Copy",action:function(t){var n=e.jstree.reference(t.reference),r=n.get_node(t.reference);n.is_selected(r)?n.copy(n.get_top_selected()):n.copy(r)}},paste:{separator_before:!1,icon:!1,_disabled:function(t){return!e.jstree.reference(t.reference).can_paste()},separator_after:!1,label:"Paste",action:function(t){var n=e.jstree.reference(t.reference),r=n.get_node(t.reference);n.paste(r)}}}}}}},e.jstree.plugins.contextmenu=function(n,r){this.bind=function(){r.bind.call(this);var t,n,i=0,a=null;this.element.on("init.jstree loading.jstree ready.jstree",function(){this.get_container_ul().addClass("jstree-contextmenu")}.bind(this)).on("contextmenu.jstree",".jstree-anchor",function(e,t){"input"!==e.target.tagName.toLowerCase()&&(e.preventDefault(),i=e.ctrlKey?+new Date:0,(t||a)&&(i=+new Date+1e4),a&&clearTimeout(a),this.is_loading(e.currentTarget)||this.show_contextmenu(e.currentTarget,e.pageX,e.pageY,e))}.bind(this)).on("click.jstree",".jstree-anchor",function(t){this._data.contextmenu.visible&&(!i||+new Date-i>250)&&e.vakata.context.hide(),i=0}.bind(this)).on("touchstart.jstree",".jstree-anchor",(function(r){r.originalEvent&&r.originalEvent.changedTouches&&r.originalEvent.changedTouches[0]&&(t=r.originalEvent.changedTouches[0].clientX,n=r.originalEvent.changedTouches[0].clientY,a=setTimeout((function(){e(r.currentTarget).trigger("contextmenu",!0)}),750))})).on("touchmove.vakata.jstree",(function(r){a&&r.originalEvent&&r.originalEvent.changedTouches&&r.originalEvent.changedTouches[0]&&(Math.abs(t-r.originalEvent.changedTouches[0].clientX)>10||Math.abs(n-r.originalEvent.changedTouches[0].clientY)>10)&&(clearTimeout(a),e.vakata.context.hide())})).on("touchend.vakata.jstree",(function(e){a&&clearTimeout(a)})),e(c).on("context_hide.vakata.jstree",function(t,n){this._data.contextmenu.visible=!1,e(n.reference).removeClass("jstree-context")}.bind(this))},this.teardown=function(){this._data.contextmenu.visible&&e.vakata.context.hide(),e(c).off("context_hide.vakata.jstree"),r.teardown.call(this)},this.show_contextmenu=function(n,r,i,a){if(!(n=this.get_node(n))||n.id===e.jstree.root)return!1;var o=this.settings.contextmenu,s=this.get_node(n,!0).children(".jstree-anchor"),c=!1,d=!1;(o.show_at_node||r===t||i===t)&&(c=s.offset(),r=c.left,i=c.top+this._data.core.li_height),this.settings.contextmenu.select_node&&!this.is_selected(n)&&this.activate_node(n,a),d=o.items,e.vakata.is_function(d)&&(d=d.call(this,n,function(e){this._show_contextmenu(n,r,i,e)}.bind(this))),e.isPlainObject(d)&&this._show_contextmenu(n,r,i,d)},this._show_contextmenu=function(t,n,r,i){var a=this.get_node(t,!0).children(".jstree-anchor");e(c).one("context_show.vakata.jstree",function(t,n){var r="jstree-contextmenu jstree-"+this.get_theme()+"-contextmenu";e(n.element).addClass(r),a.addClass("jstree-context")}.bind(this)),this._data.contextmenu.visible=!0,e.vakata.context.show(a,{x:n,y:r},i),this.trigger("show_contextmenu",{node:t,x:n,y:r})}},function(e){var t=!1,n={element:!1,reference:!1,position_x:0,position_y:0,items:[],html:"",is_visible:!1};e.vakata.context={settings:{hide_onmouseleave:0,icons:!0},_trigger:function(t){e(c).triggerHandler("context_"+t+".vakata",{reference:n.reference,element:n.element,position:{x:n.position_x,y:n.position_y}})},_execute:function(t){return!(!(t=n.items[t])||t._disabled&&(!e.vakata.is_function(t._disabled)||t._disabled({item:t,reference:n.reference,element:n.element}))||!t.action)&&t.action.call(null,{item:t,reference:n.reference,element:n.element,position:{x:n.position_x,y:n.position_y}})},_parse:function(t,r){if(!t)return!1;r||(n.html="",n.items=[]);var i,a="",o=!1;return r&&(a+="<ul>"),e.each(t,(function(t,r){if(!r)return!0;n.items.push(r),!o&&r.separator_before&&(a+="<li class='vakata-context-separator'><a href='#' "+(e.vakata.context.settings.icons?"":'class="vakata-context-no-icons"')+">&#160;</a></li>"),o=!1,a+="<li class='"+(r._class||"")+(!0===r._disabled||e.vakata.is_function(r._disabled)&&r._disabled({item:r,reference:n.reference,element:n.element})?" vakata-contextmenu-disabled ":"")+"' "+(r.shortcut?" data-shortcut='"+r.shortcut+"' ":"")+">",a+="<a href='#' rel='"+(n.items.length-1)+"' "+(r.title?"title='"+r.title+"'":"")+">",e.vakata.context.settings.icons&&(a+="<i ",r.icon&&(-1!==r.icon.indexOf("/")||-1!==r.icon.indexOf(".")?a+=" style='background:url(\""+r.icon+"\") center center no-repeat' ":a+=" class='"+r.icon+"' "),a+="></i><span class='vakata-contextmenu-sep'>&#160;</span>"),a+=(e.vakata.is_function(r.label)?r.label({item:t,reference:n.reference,element:n.element}):r.label)+(r.shortcut?' <span class="vakata-contextmenu-shortcut vakata-contextmenu-shortcut-'+r.shortcut+'">'+(r.shortcut_label||"")+"</span>":"")+"</a>",r.submenu&&(i=e.vakata.context._parse(r.submenu,!0))&&(a+=i),a+="</li>",r.separator_after&&(a+="<li class='vakata-context-separator'><a href='#' "+(e.vakata.context.settings.icons?"":'class="vakata-context-no-icons"')+">&#160;</a></li>",o=!0)})),a=a.replace(/<li class\='vakata-context-separator'\><\/li\>$/,""),r&&(a+="</ul>"),r||(n.html=a,e.vakata.context._trigger("parse")),a.length>10&&a},_show_submenu:function(n){if((n=e(n)).length&&n.children("ul").length){var r=n.children("ul"),i=n.offset().left,a=i+n.outerWidth(),o=n.offset().top,s=r.width(),c=r.height(),d=e(window).width()+e(window).scrollLeft(),l=e(window).height()+e(window).scrollTop();t?n[a-(s+10+n.outerWidth())<0?"addClass":"removeClass"]("vakata-context-left"):n[a+s>d&&i>d-a?"addClass":"removeClass"]("vakata-context-right"),o+c+10>l&&r.css("bottom","-1px"),n.hasClass("vakata-context-right")?i<s&&r.css("margin-right",i-s):d-a<s&&r.css("margin-left",d-a-s),r.show()}},show:function(r,i,a){var o,s,d,l,h,u,p,f;switch(n.element&&n.element.length&&n.element.width(""),!0){case!i&&!r:return!1;case!!i&&!!r:n.reference=r,n.position_x=i.x,n.position_y=i.y;break;case!i&&!!r:n.reference=r,o=r.offset(),n.position_x=o.left+r.outerHeight(),n.position_y=o.top;break;case!!i&&!r:n.position_x=i.x,n.position_y=i.y}r&&!a&&e(r).data("vakata_contextmenu")&&(a=e(r).data("vakata_contextmenu")),e.vakata.context._parse(a)&&n.element.html(n.html),n.items.length&&(n.element.appendTo(c.body),s=n.element,d=n.position_x,l=n.position_y,h=s.width(),u=s.height(),p=e(window).width()+e(window).scrollLeft(),f=e(window).height()+e(window).scrollTop(),t&&(d-=s.outerWidth()-e(r).outerWidth())<e(window).scrollLeft()+20&&(d=e(window).scrollLeft()+20),d+h+20>p&&(d=p-(h+20)),l+u+20>f&&(l=f-(u+20)),n.element.css({left:d,top:l}).show().find("a").first().trigger("focus").parent().addClass("vakata-context-hover"),n.is_visible=!0,e.vakata.context._trigger("show"))},hide:function(){n.is_visible&&(n.element.hide().find("ul").hide().end().find(":focus").trigger("blur").end().detach(),n.is_visible=!1,e.vakata.context._trigger("hide"))}},e((function(){t="rtl"===e(c.body).css("direction");var r=!1;n.element=e("<ul class='vakata-context'></ul>"),n.element.on("mouseenter","li",(function(t){t.stopImmediatePropagation(),e.contains(this,t.relatedTarget)||(r&&clearTimeout(r),n.element.find(".vakata-context-hover").removeClass("vakata-context-hover").end(),e(this).siblings().find("ul").hide().end().end().parentsUntil(".vakata-context","li").addBack().addClass("vakata-context-hover"),e.vakata.context._show_submenu(this))})).on("mouseleave","li",(function(t){e.contains(this,t.relatedTarget)||e(this).find(".vakata-context-hover").addBack().removeClass("vakata-context-hover")})).on("mouseleave",(function(t){e(this).find(".vakata-context-hover").removeClass("vakata-context-hover"),e.vakata.context.settings.hide_onmouseleave&&(r=setTimeout((function(){e.vakata.context.hide()}),e.vakata.context.settings.hide_onmouseleave))})).on("click","a",(function(t){t.preventDefault(),e(this).trigger("blur").parent().hasClass("vakata-context-disabled")||!1===e.vakata.context._execute(e(this).attr("rel"))||e.vakata.context.hide()})).on("keydown","a",(function(t){var r=null;switch(t.which){case 13:case 32:t.type="click",t.preventDefault(),e(t.currentTarget).trigger(t);break;case 37:n.is_visible&&(n.element.find(".vakata-context-hover").last().closest("li").first().find("ul").hide().find(".vakata-context-hover").removeClass("vakata-context-hover").end().end().children("a").trigger("focus"),t.stopImmediatePropagation(),t.preventDefault());break;case 38:n.is_visible&&((r=n.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").prevAll("li:not(.vakata-context-separator)").first()).length||(r=n.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").last()),r.addClass("vakata-context-hover").children("a").trigger("focus"),t.stopImmediatePropagation(),t.preventDefault());break;case 39:n.is_visible&&(n.element.find(".vakata-context-hover").last().children("ul").show().children("li:not(.vakata-context-separator)").removeClass("vakata-context-hover").first().addClass("vakata-context-hover").children("a").trigger("focus"),t.stopImmediatePropagation(),t.preventDefault());break;case 40:n.is_visible&&((r=n.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").nextAll("li:not(.vakata-context-separator)").first()).length||(r=n.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").first()),r.addClass("vakata-context-hover").children("a").trigger("focus"),t.stopImmediatePropagation(),t.preventDefault());break;case 27:e.vakata.context.hide(),t.preventDefault()}})).on("keydown",(function(e){e.preventDefault();var t=n.element.find(".vakata-contextmenu-shortcut-"+e.which).parent();t.parent().not(".vakata-context-disabled")&&t.trigger("click")})),e(c).on("mousedown.vakata.jstree",(function(t){n.is_visible&&n.element[0]!==t.target&&!e.contains(n.element[0],t.target)&&e.vakata.context.hide()})).on("context_show.vakata.jstree",(function(e,r){n.element.find("li:has(ul)").children("a").addClass("vakata-context-parent"),t&&n.element.addClass("vakata-context-rtl").css("direction","rtl"),n.element.find("ul").hide().end()}))}))}(e),e.jstree.defaults.dnd={copy:!0,open_timeout:500,is_draggable:!0,check_while_dragging:!0,always_copy:!1,inside_pos:0,drag_selection:!0,touch:!0,large_drop_target:!1,large_drag_target:!1,use_html5:!1},e.jstree.plugins.dnd=function(t,n){this.init=function(e,t){n.init.call(this,e,t),this.settings.dnd.use_html5=this.settings.dnd.use_html5&&"draggable"in c.createElement("span")},this.bind=function(){n.bind.call(this),this.element.on(this.settings.dnd.use_html5?"dragstart.jstree":"mousedown.jstree touchstart.jstree",this.settings.dnd.large_drag_target?".jstree-node":".jstree-anchor",function(t){if(this.settings.dnd.large_drag_target&&e(t.target).closest(".jstree-node")[0]!==t.currentTarget)return!0;if("touchstart"===t.type&&(!this.settings.dnd.touch||"selected"===this.settings.dnd.touch&&!e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").hasClass("jstree-clicked")))return!0;var n=this.get_node(t.target),r=this.is_selected(n)&&this.settings.dnd.drag_selection?this.get_top_selected().length:1,i=r>1?r+" "+this.get_string("nodes"):this.get_text(t.currentTarget);if(this.settings.core.force_text&&(i=e.vakata.html.escape(i)),n&&n.id&&n.id!==e.jstree.root&&(1===t.which||"touchstart"===t.type||"dragstart"===t.type)&&(!0===this.settings.dnd.is_draggable||e.vakata.is_function(this.settings.dnd.is_draggable)&&this.settings.dnd.is_draggable.call(this,r>1?this.get_top_selected(!0):[n],t))){if(h={jstree:!0,origin:this,obj:this.get_node(n,!0),nodes:r>1?this.get_top_selected():[n.id]},u=t.currentTarget,!this.settings.dnd.use_html5)return this.element.trigger("mousedown.jstree"),e.vakata.dnd.start(t,h,'<div id="jstree-dnd" class="jstree-'+this.get_theme()+" jstree-"+this.get_theme()+"-"+this.get_theme_variant()+" "+(this.settings.core.themes.responsive?" jstree-dnd-responsive":"")+'"><i class="jstree-icon jstree-er"></i>'+i+'<ins class="jstree-copy">+</ins></div>');e.vakata.dnd._trigger("start",t,{helper:e(),element:u,data:h})}}.bind(this)),this.settings.dnd.use_html5&&this.element.on("dragover.jstree",(function(t){return t.preventDefault(),e.vakata.dnd._trigger("move",t,{helper:e(),element:u,data:h}),!1})).on("drop.jstree",function(t){return t.preventDefault(),e.vakata.dnd._trigger("stop",t,{helper:e(),element:u,data:h}),!1}.bind(this))},this.redraw_node=function(e,t,r,i){if((e=n.redraw_node.apply(this,arguments))&&this.settings.dnd.use_html5)if(this.settings.dnd.large_drag_target)e.setAttribute("draggable",!0);else{var a,o,s=null;for(a=0,o=e.childNodes.length;a<o;a++)if(e.childNodes[a]&&e.childNodes[a].className&&-1!==e.childNodes[a].className.indexOf("jstree-anchor")){s=e.childNodes[a];break}s&&s.setAttribute("draggable",!0)}return e}},e((function(){var n=!1,r=!1,i=!1,a=!1,o=e('<div id="jstree-marker">&#160;</div>').hide();e(c).on("dragover.vakata.jstree",(function(t){u&&e.vakata.dnd._trigger("move",t,{helper:e(),element:u,data:h})})).on("drop.vakata.jstree",(function(t){u&&(e.vakata.dnd._trigger("stop",t,{helper:e(),element:u,data:h}),u=null,h=null)})).on("dnd_start.vakata.jstree",(function(e,t){n=!1,i=!1,t&&t.data&&t.data.jstree&&o.appendTo(c.body)})).on("dnd_move.vakata.jstree",(function(s,c){var d=c.event.target!==i.target;if(a&&(c.event&&"dragover"===c.event.type&&!d||clearTimeout(a)),c&&c.data&&c.data.jstree&&(!c.event.target.id||"jstree-marker"!==c.event.target.id)){i=c.event;var l,h,u,p,f,g,_,m,v,b,y,k,w,j,x,T,$,S=e.jstree.reference(c.event.target),C=!1,O=!1,E=!1;if(S&&S._data&&S._data.dnd)if(o.attr("class","jstree-"+S.get_theme()+(S.settings.core.themes.responsive?" jstree-dnd-responsive":"")),x=c.data.origin&&(c.data.origin.settings.dnd.always_copy||c.data.origin.settings.dnd.copy&&(c.event.metaKey||c.event.ctrlKey)),c.helper.children().attr("class","jstree-"+S.get_theme()+" jstree-"+S.get_theme()+"-"+S.get_theme_variant()+" "+(S.settings.core.themes.responsive?" jstree-dnd-responsive":"")).find(".jstree-copy").first()[x?"show":"hide"](),c.event.target!==S.element[0]&&c.event.target!==S.get_container_ul()[0]||0!==S.get_container_ul().children().length){if((C=S.settings.dnd.large_drop_target?e(c.event.target).closest(".jstree-node").children(".jstree-anchor"):e(c.event.target).closest(".jstree-anchor"))&&C.length&&C.parent().is(".jstree-closed, .jstree-open, .jstree-leaf")&&(O=C.offset(),E=(c.event.pageY!==t?c.event.pageY:c.event.originalEvent.pageY)-O.top,u=C.outerHeight(),g=E<u/3?["b","i","a"]:E>u-u/3?["a","i","b"]:E>u/2?["i","a","b"]:["i","b","a"],e.each(g,(function(t,i){switch(i){case"b":l=O.left-6,h=O.top,p=S.get_parent(C),f=C.parent().index(),$="jstree-below";break;case"i":w=S.settings.dnd.inside_pos,j=S.get_node(C.parent()),l=O.left-2,h=O.top+u/2+1,p=j.id,f="first"===w?0:"last"===w?j.children.length:Math.min(w,j.children.length),$="jstree-inside";break;case"a":l=O.left-6,h=O.top+u,p=S.get_parent(C),f=C.parent().index()+1,$="jstree-above"}for(_=!0,m=0,v=c.data.nodes.length;m<v;m++)if(b=c.data.origin&&(c.data.origin.settings.dnd.always_copy||c.data.origin.settings.dnd.copy&&(c.event.metaKey||c.event.ctrlKey))?"copy_node":"move_node",y=f,"move_node"===b&&"a"===i&&c.data.origin&&c.data.origin===S&&p===S.get_parent(c.data.nodes[m])&&(k=S.get_node(p),y>e.inArray(c.data.nodes[m],k.children)&&(y-=1)),!(_=_&&(S&&S.settings&&S.settings.dnd&&!1===S.settings.dnd.check_while_dragging||S.check(b,c.data.origin&&c.data.origin!==S?c.data.origin.get_node(c.data.nodes[m]):c.data.nodes[m],p,y,{dnd:!0,ref:S.get_node(C.parent()),pos:i,origin:c.data.origin,is_multi:c.data.origin&&c.data.origin!==S,is_foreign:!c.data.origin})))){S&&S.last_error&&(r=S.last_error());break}var s,E;if("i"===i&&C.parent().is(".jstree-closed")&&S.settings.dnd.open_timeout&&(c.event&&"dragover"===c.event.type&&!d||(a&&clearTimeout(a),a=setTimeout((s=S,E=C,function(){s.open_node(E)}),S.settings.dnd.open_timeout))),_)return(T=S.get_node(p,!0)).hasClass(".jstree-dnd-parent")||(e(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),T.addClass("jstree-dnd-parent")),n={ins:S,par:p,pos:"i"!==i||"last"!==w||0!==f||S.is_loaded(j)?f:"last"},o.css({left:l+"px",top:h+"px"}).show(),o.removeClass("jstree-above jstree-inside jstree-below").addClass($),c.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok"),c.event.originalEvent&&c.event.originalEvent.dataTransfer&&(c.event.originalEvent.dataTransfer.dropEffect=x?"copy":"move"),r={},g=!0,!1})),!0===g))return}else{for(_=!0,m=0,v=c.data.nodes.length;m<v&&(_=_&&S.check(c.data.origin&&(c.data.origin.settings.dnd.always_copy||c.data.origin.settings.dnd.copy&&(c.event.metaKey||c.event.ctrlKey))?"copy_node":"move_node",c.data.origin&&c.data.origin!==S?c.data.origin.get_node(c.data.nodes[m]):c.data.nodes[m],e.jstree.root,"last",{dnd:!0,ref:S.get_node(e.jstree.root),pos:"i",origin:c.data.origin,is_multi:c.data.origin&&c.data.origin!==S,is_foreign:!c.data.origin}));m++);if(_)return n={ins:S,par:e.jstree.root,pos:"last"},o.hide(),c.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok"),void(c.event.originalEvent&&c.event.originalEvent.dataTransfer&&(c.event.originalEvent.dataTransfer.dropEffect=x?"copy":"move"))}e(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),n=!1,c.helper.find(".jstree-icon").removeClass("jstree-ok").addClass("jstree-er"),c.event.originalEvent&&c.event.originalEvent.dataTransfer,o.hide()}})).on("dnd_scroll.vakata.jstree",(function(e,t){t&&t.data&&t.data.jstree&&(o.hide(),n=!1,i=!1,t.helper.find(".jstree-icon").first().removeClass("jstree-ok").addClass("jstree-er"))})).on("dnd_stop.vakata.jstree",(function(t,s){if(e(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),a&&clearTimeout(a),s&&s.data&&s.data.jstree){o.hide().detach();var c,d,l=[];if(n){for(c=0,d=s.data.nodes.length;c<d;c++)l[c]=s.data.origin?s.data.origin.get_node(s.data.nodes[c]):s.data.nodes[c];n.ins[s.data.origin&&(s.data.origin.settings.dnd.always_copy||s.data.origin.settings.dnd.copy&&(s.event.metaKey||s.event.ctrlKey))?"copy_node":"move_node"](l,n.par,n.pos,!1,!1,!1,s.data.origin)}else(c=e(s.event.target).closest(".jstree")).length&&r&&r.error&&"check"===r.error&&(c=c.jstree(!0))&&c.settings.core.error.call(this,r);i=!1,n=!1}})).on("keyup.jstree keydown.jstree",(function(t,s){(s=e.vakata.dnd._get())&&s.data&&s.data.jstree&&("keyup"===t.type&&27===t.which?(a&&clearTimeout(a),n=!1,r=!1,i=!1,a=!1,o.hide().detach(),e.vakata.dnd._clean()):(s.helper.find(".jstree-copy").first()[s.data.origin&&(s.data.origin.settings.dnd.always_copy||s.data.origin.settings.dnd.copy&&(t.metaKey||t.ctrlKey))?"show":"hide"](),i&&(i.metaKey=t.metaKey,i.ctrlKey=t.ctrlKey,e.vakata.dnd._trigger("move",i))))}))})),function(e){e.vakata.html={div:e("<div></div>"),escape:function(t){return e.vakata.html.div.text(t).html()},strip:function(t){return e.vakata.html.div.empty().append(e.parseHTML(t)).text()}};var n={element:!1,target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1};e.vakata.dnd={settings:{scroll_speed:10,scroll_proximity:20,helper_left:5,helper_top:10,threshold:5,threshold_touch:10},_trigger:function(n,r,i){i===t&&(i=e.vakata.dnd._get()),i.event=r,e(c).triggerHandler("dnd_"+n+".vakata",i)},_get:function(){return{data:n.data,element:n.element,helper:n.helper}},_clean:function(){n.helper&&n.helper.remove(),n.scroll_i&&(clearInterval(n.scroll_i),n.scroll_i=!1),n={element:!1,target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1},u=null,e(c).off("mousemove.vakata.jstree touchmove.vakata.jstree",e.vakata.dnd.drag),e(c).off("mouseup.vakata.jstree touchend.vakata.jstree",e.vakata.dnd.stop)},_scroll:function(t){if(!n.scroll_e||!n.scroll_l&&!n.scroll_t)return n.scroll_i&&(clearInterval(n.scroll_i),n.scroll_i=!1),!1;if(!n.scroll_i)return n.scroll_i=setInterval(e.vakata.dnd._scroll,100),!1;if(!0===t)return!1;var r=n.scroll_e.scrollTop(),i=n.scroll_e.scrollLeft();n.scroll_e.scrollTop(r+n.scroll_t*e.vakata.dnd.settings.scroll_speed),n.scroll_e.scrollLeft(i+n.scroll_l*e.vakata.dnd.settings.scroll_speed),r===n.scroll_e.scrollTop()&&i===n.scroll_e.scrollLeft()||e.vakata.dnd._trigger("scroll",n.scroll_e)},start:function(t,r,i){"touchstart"===t.type&&t.originalEvent&&t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0]&&(t.pageX=t.originalEvent.changedTouches[0].pageX,t.pageY=t.originalEvent.changedTouches[0].pageY,t.target=c.elementFromPoint(t.originalEvent.changedTouches[0].pageX-window.pageXOffset,t.originalEvent.changedTouches[0].pageY-window.pageYOffset)),n.is_drag&&e.vakata.dnd.stop({});try{t.currentTarget.unselectable="on",t.currentTarget.onselectstart=function(){return!1},t.currentTarget.style&&(t.currentTarget.style.touchAction="none",t.currentTarget.style.msTouchAction="none",t.currentTarget.style.MozUserSelect="none")}catch(e){}return n.init_x=t.pageX,n.init_y=t.pageY,n.data=r,n.is_down=!0,n.element=t.currentTarget,n.target=t.target,n.is_touch="touchstart"===t.type,!1!==i&&(n.helper=e("<div id='vakata-dnd'></div>").html(i).css({display:"block",margin:"0",padding:"0",position:"absolute",top:"-2000px",lineHeight:"16px",zIndex:"10000"})),e(c).on("mousemove.vakata.jstree touchmove.vakata.jstree",e.vakata.dnd.drag),e(c).on("mouseup.vakata.jstree touchend.vakata.jstree",e.vakata.dnd.stop),!1},drag:function(t){if("touchmove"===t.type&&t.originalEvent&&t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0]&&(t.pageX=t.originalEvent.changedTouches[0].pageX,t.pageY=t.originalEvent.changedTouches[0].pageY,t.target=c.elementFromPoint(t.originalEvent.changedTouches[0].pageX-window.pageXOffset,t.originalEvent.changedTouches[0].pageY-window.pageYOffset)),n.is_down){if(!n.is_drag){if(!(Math.abs(t.pageX-n.init_x)>(n.is_touch?e.vakata.dnd.settings.threshold_touch:e.vakata.dnd.settings.threshold)||Math.abs(t.pageY-n.init_y)>(n.is_touch?e.vakata.dnd.settings.threshold_touch:e.vakata.dnd.settings.threshold)))return;n.helper&&(n.helper.appendTo(c.body),n.helper_w=n.helper.outerWidth()),n.is_drag=!0,e(n.target).one("click.vakata",!1),e.vakata.dnd._trigger("start",t)}var r=!1,i=!1,a=!1,o=!1,s=!1,d=!1,l=!1,h=!1,u=!1,p=!1;return n.scroll_t=0,n.scroll_l=0,n.scroll_e=!1,e(e(t.target).parentsUntil("body").addBack().get().reverse()).filter((function(){return/^auto|scroll$/.test(e(this).css("overflow"))&&(this.scrollHeight>this.offsetHeight||this.scrollWidth>this.offsetWidth)})).each((function(){var r=e(this),i=r.offset();if(this.scrollHeight>this.offsetHeight&&(i.top+r.height()-t.pageY<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_t=1),t.pageY-i.top<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_t=-1)),this.scrollWidth>this.offsetWidth&&(i.left+r.width()-t.pageX<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_l=1),t.pageX-i.left<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_l=-1)),n.scroll_t||n.scroll_l)return n.scroll_e=e(this),!1})),n.scroll_e||(r=e(c),i=e(window),a=r.height(),o=i.height(),s=r.width(),d=i.width(),l=r.scrollTop(),h=r.scrollLeft(),a>o&&t.pageY-l<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_t=-1),a>o&&o-(t.pageY-l)<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_t=1),s>d&&t.pageX-h<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_l=-1),s>d&&d-(t.pageX-h)<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_l=1),(n.scroll_t||n.scroll_l)&&(n.scroll_e=r)),n.scroll_e&&e.vakata.dnd._scroll(!0),n.helper&&(u=parseInt(t.pageY+e.vakata.dnd.settings.helper_top,10),p=parseInt(t.pageX+e.vakata.dnd.settings.helper_left,10),a&&u+25>a&&(u=a-50),s&&p+n.helper_w>s&&(p=s-(n.helper_w+2)),n.helper.css({left:p+"px",top:u+"px"})),e.vakata.dnd._trigger("move",t),!1}},stop:function(t){if("touchend"===t.type&&t.originalEvent&&t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0]&&(t.pageX=t.originalEvent.changedTouches[0].pageX,t.pageY=t.originalEvent.changedTouches[0].pageY,t.target=c.elementFromPoint(t.originalEvent.changedTouches[0].pageX-window.pageXOffset,t.originalEvent.changedTouches[0].pageY-window.pageYOffset)),n.is_drag)t.target!==n.target&&e(n.target).off("click.vakata"),e.vakata.dnd._trigger("stop",t);else if("touchend"===t.type&&t.target===n.target){var r=setTimeout((function(){e(t.target).trigger("click")}),100);e(t.target).one("click",(function(){r&&clearTimeout(r)}))}return e.vakata.dnd._clean(),!1}}}(e),e.jstree.defaults.massload=null,e.jstree.plugins.massload=function(t,n){this.init=function(e,t){this._data.massload={},n.init.call(this,e,t)},this._load_nodes=function(t,r,i,a){var o,s,c,d=this.settings.massload,l=[],h=this._model.data;if(!i){for(o=0,s=t.length;o<s;o++)h[t[o]]&&(h[t[o]].state.loaded||h[t[o]].state.failed)&&!a||(l.push(t[o]),(c=this.get_node(t[o],!0))&&c.length&&c.addClass("jstree-loading").attr("aria-busy",!0));if(this._data.massload={},l.length){if(e.vakata.is_function(d))return d.call(this,l,function(e){var o,s;if(e)for(o in e)e.hasOwnProperty(o)&&(this._data.massload[o]=e[o]);for(o=0,s=t.length;o<s;o++)(c=this.get_node(t[o],!0))&&c.length&&c.removeClass("jstree-loading").attr("aria-busy",!1);n._load_nodes.call(this,t,r,i,a)}.bind(this));if("object"==typeof d&&d&&d.url)return d=e.extend(!0,{},d),e.vakata.is_function(d.url)&&(d.url=d.url.call(this,l)),e.vakata.is_function(d.data)&&(d.data=d.data.call(this,l)),e.ajax(d).done(function(e,o,s){var d,l;if(e)for(d in e)e.hasOwnProperty(d)&&(this._data.massload[d]=e[d]);for(d=0,l=t.length;d<l;d++)(c=this.get_node(t[d],!0))&&c.length&&c.removeClass("jstree-loading").attr("aria-busy",!1);n._load_nodes.call(this,t,r,i,a)}.bind(this)).fail(function(e){n._load_nodes.call(this,t,r,i,a)}.bind(this))}}return n._load_nodes.call(this,t,r,i,a)},this._load_node=function(t,r){var i,a=this._data.massload[t.id],o=null;return a?(o=this["string"==typeof a?"_append_html_data":"_append_json_data"](t,"string"==typeof a?e(e.parseHTML(a)).filter((function(){return 3!==this.nodeType})):a,(function(e){r.call(this,e)})),(i=this.get_node(t.id,!0))&&i.length&&i.removeClass("jstree-loading").attr("aria-busy",!1),delete this._data.massload[t.id],o):n._load_node.call(this,t,r)}},e.jstree.defaults.search={ajax:!1,fuzzy:!1,case_sensitive:!1,show_only_matches:!1,show_only_matches_children:!1,close_opened_onclear:!0,search_leaves_only:!1,search_callback:!1},e.jstree.plugins.search=function(n,r){this.bind=function(){r.bind.call(this),this._data.search.str="",this._data.search.dom=e(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=!1,this._data.search.smc=!1,this._data.search.hdn=[],this.element.on("search.jstree",function(t,n){if(this._data.search.som&&n.res.length){var r,i,a,o,s=this._model.data,c=[];for(r=0,i=n.res.length;r<i;r++)if(s[n.res[r]]&&!s[n.res[r]].state.hidden&&(c.push(n.res[r]),c=c.concat(s[n.res[r]].parents),this._data.search.smc))for(a=0,o=s[n.res[r]].children_d.length;a<o;a++)s[s[n.res[r]].children_d[a]]&&!s[s[n.res[r]].children_d[a]].state.hidden&&c.push(s[n.res[r]].children_d[a]);c=e.vakata.array_remove_item(e.vakata.array_unique(c),e.jstree.root),this._data.search.hdn=this.hide_all(!0),this.show_node(c,!0),this.redraw(!0)}}.bind(this)).on("clear_search.jstree",function(e,t){this._data.search.som&&t.res.length&&(this.show_node(this._data.search.hdn,!0),this.redraw(!0))}.bind(this))},this.search=function(n,r,i,a,o,s){if(!1===n||""===e.vakata.trim(n.toString()))return this.clear_search();a=(a=this.get_node(a))&&a.id?a.id:null,n=n.toString();var c,d,l=this.settings.search,h=!!l.ajax&&l.ajax,u=this._model.data,p=null,f=[],g=[];if(this._data.search.res.length&&!o&&this.clear_search(),i===t&&(i=l.show_only_matches),s===t&&(s=l.show_only_matches_children),!r&&!1!==h)return e.vakata.is_function(h)?h.call(this,n,function(t){t&&t.d&&(t=t.d),this._load_nodes(e.vakata.is_array(t)?e.vakata.array_unique(t):[],(function(){this.search(n,!0,i,a,o,s)}))}.bind(this),a):((h=e.extend({},h)).data||(h.data={}),h.data.str=n,a&&(h.data.inside=a),this._data.search.lastRequest&&this._data.search.lastRequest.abort(),this._data.search.lastRequest=e.ajax(h).fail(function(){this._data.core.last_error={error:"ajax",plugin:"search",id:"search_01",reason:"Could not load search parents",data:JSON.stringify(h)},this.settings.core.error.call(this,this._data.core.last_error)}.bind(this)).done(function(t){t&&t.d&&(t=t.d),this._load_nodes(e.vakata.is_array(t)?e.vakata.array_unique(t):[],(function(){this.search(n,!0,i,a,o,s)}))}.bind(this)),this._data.search.lastRequest);if(o||(this._data.search.str=n,this._data.search.dom=e(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=i,this._data.search.smc=s),p=new e.vakata.search(n,!0,{caseSensitive:l.case_sensitive,fuzzy:l.fuzzy}),e.each(u[a||e.jstree.root].children_d,(function(e,t){var r=u[t];r.text&&!r.state.hidden&&(!l.search_leaves_only||r.state.loaded&&0===r.children.length)&&(l.search_callback&&l.search_callback.call(this,n,r)||!l.search_callback&&p.search(r.text).isMatch)&&(f.push(t),g=g.concat(r.parents))})),f.length){for(c=0,d=(g=e.vakata.array_unique(g)).length;c<d;c++)g[c]!==e.jstree.root&&u[g[c]]&&!0===this.open_node(g[c],null,0)&&this._data.search.opn.push(g[c]);o?(this._data.search.dom=this._data.search.dom.add(e(this.element[0].querySelectorAll("#"+e.map(f,(function(t){return-1!=="0123456789".indexOf(t[0])?"\\3"+t[0]+" "+t.substr(1).replace(e.jstree.idregex,"\\$&"):t.replace(e.jstree.idregex,"\\$&")})).join(", #")))),this._data.search.res=e.vakata.array_unique(this._data.search.res.concat(f))):(this._data.search.dom=e(this.element[0].querySelectorAll("#"+e.map(f,(function(t){return-1!=="0123456789".indexOf(t[0])?"\\3"+t[0]+" "+t.substr(1).replace(e.jstree.idregex,"\\$&"):t.replace(e.jstree.idregex,"\\$&")})).join(", #"))),this._data.search.res=f),this._data.search.dom.children(".jstree-anchor").addClass("jstree-search")}this.trigger("search",{nodes:this._data.search.dom,str:n,res:this._data.search.res,show_only_matches:i})},this.clear_search=function(){this.settings.search.close_opened_onclear&&this.close_node(this._data.search.opn,0),this.trigger("clear_search",{nodes:this._data.search.dom,str:this._data.search.str,res:this._data.search.res}),this._data.search.res.length&&(this._data.search.dom=e(this.element[0].querySelectorAll("#"+e.map(this._data.search.res,(function(t){return-1!=="0123456789".indexOf(t[0])?"\\3"+t[0]+" "+t.substr(1).replace(e.jstree.idregex,"\\$&"):t.replace(e.jstree.idregex,"\\$&")})).join(", #"))),this._data.search.dom.children(".jstree-anchor").removeClass("jstree-search")),this._data.search.str="",this._data.search.res=[],this._data.search.opn=[],this._data.search.dom=e()},this.redraw_node=function(t,n,i,a){if((t=r.redraw_node.apply(this,arguments))&&-1!==e.inArray(t.id,this._data.search.res)){var o,s,c=null;for(o=0,s=t.childNodes.length;o<s;o++)if(t.childNodes[o]&&t.childNodes[o].className&&-1!==t.childNodes[o].className.indexOf("jstree-anchor")){c=t.childNodes[o];break}c&&(c.className+=" jstree-search")}return t}},function(e){e.vakata.search=function(t,n,r){r=r||{},!1!==(r=e.extend({},e.vakata.search.defaults,r)).fuzzy&&(r.fuzzy=!0),t=r.caseSensitive?t:t.toLowerCase();var i,a,o,s,c=r.location,d=r.distance,l=r.threshold,h=t.length;return h>32&&(r.fuzzy=!1),r.fuzzy&&(i=1<<h-1,a=function(){var e={},n=0;for(n=0;n<h;n++)e[t.charAt(n)]=0;for(n=0;n<h;n++)e[t.charAt(n)]|=1<<h-n-1;return e}(),o=function(e,t){var n=e/h,r=Math.abs(c-t);return d?n+r/d:r?1:n}),s=function(e){if(e=r.caseSensitive?e:e.toLowerCase(),t===e||-1!==e.indexOf(t))return{isMatch:!0,score:0};if(!r.fuzzy)return{isMatch:!1,score:1};var n,s,d,u,p,f,g,_,m,v=e.length,b=l,y=e.indexOf(t,c),k=h+v,w=1,j=[];for(-1!==y&&(b=Math.min(o(0,y),b),-1!==(y=e.lastIndexOf(t,c+h))&&(b=Math.min(o(0,y),b))),y=-1,n=0;n<h;n++){for(d=0,u=k;d<u;)o(n,c+u)<=b?d=u:k=u,u=Math.floor((k-d)/2+d);for(k=u,f=Math.max(1,c-u+1),g=Math.min(c+u,v)+h,(_=new Array(g+2))[g+1]=(1<<n)-1,s=g;s>=f;s--)if(m=a[e.charAt(s-1)],_[s]=0===n?(_[s+1]<<1|1)&m:(_[s+1]<<1|1)&m|(p[s+1]|p[s])<<1|1|p[s+1],_[s]&i&&(w=o(n,s-1))<=b){if(b=w,y=s-1,j.push(y),!(y>c))break;f=Math.max(1,2*c-y)}if(o(n+1,c)>b)break;p=_}return{isMatch:y>=0,score:w}},!0===n?{search:s}:s(n)},e.vakata.search.defaults={location:0,distance:100,threshold:.6,fuzzy:!1,caseSensitive:!1}}(e),e.jstree.defaults.sort=function(e,t){return this.get_text(e)>this.get_text(t)?1:-1},e.jstree.plugins.sort=function(e,t){this.bind=function(){t.bind.call(this),this.element.on("model.jstree",function(e,t){this.sort(t.parent,!0)}.bind(this)).on("rename_node.jstree create_node.jstree",function(e,t){this.sort(t.parent||t.node.parent,!1),this.redraw_node(t.parent||t.node.parent,!0)}.bind(this)).on("move_node.jstree copy_node.jstree",function(e,t){this.sort(t.parent,!1),this.redraw_node(t.parent,!0)}.bind(this))},this.sort=function(e,t){var n,r;if((e=this.get_node(e))&&e.children&&e.children.length&&(e.children.sort(this.settings.sort.bind(this)),t))for(n=0,r=e.children_d.length;n<r;n++)this.sort(e.children_d[n],!1)}};var f=!1;e.jstree.defaults.state={key:"jstree",events:"changed.jstree open_node.jstree close_node.jstree check_node.jstree uncheck_node.jstree",ttl:!1,filter:!1,preserve_loaded:!1},e.jstree.plugins.state=function(t,n){this.bind=function(){n.bind.call(this);var e=function(){this.element.on(this.settings.state.events,function(){f&&clearTimeout(f),f=setTimeout(function(){this.save_state()}.bind(this),100)}.bind(this)),this.trigger("state_ready")}.bind(this);this.element.on("ready.jstree",function(t,n){this.element.one("restore_state.jstree",e),this.restore_state()||e()}.bind(this))},this.save_state=function(){var t=this.get_state();this.settings.state.preserve_loaded||delete t.core.loaded;var n={state:t,ttl:this.settings.state.ttl,sec:+new Date};e.vakata.storage.set(this.settings.state.key,JSON.stringify(n))},this.restore_state=function(){var t=e.vakata.storage.get(this.settings.state.key);if(t)try{t=JSON.parse(t)}catch(e){return!1}return!(t&&t.ttl&&t.sec&&+new Date-t.sec>t.ttl||(t&&t.state&&(t=t.state),t&&e.vakata.is_function(this.settings.state.filter)&&(t=this.settings.state.filter.call(this,t)),!t||(this.settings.state.preserve_loaded||delete t.core.loaded,this.element.one("set_state.jstree",(function(n,r){r.instance.trigger("restore_state",{state:e.extend(!0,{},t)})})),this.set_state(t),0)))},this.clear_state=function(){return e.vakata.storage.del(this.settings.state.key)}},function(e,t){e.vakata.storage={set:function(e,t){return window.localStorage.setItem(e,t)},get:function(e){return window.localStorage.getItem(e)},del:function(e){return window.localStorage.removeItem(e)}}}(e),e.jstree.defaults.types={default:{}},e.jstree.defaults.types[e.jstree.root]={},e.jstree.plugins.types=function(n,r){this.init=function(n,i){var a,o;if(i&&i.types&&i.types.default)for(a in i.types)if("default"!==a&&a!==e.jstree.root&&i.types.hasOwnProperty(a))for(o in i.types.default)i.types.default.hasOwnProperty(o)&&i.types[a][o]===t&&(i.types[a][o]=i.types.default[o]);r.init.call(this,n,i),this._model.data[e.jstree.root].type=e.jstree.root},this.refresh=function(t,n){r.refresh.call(this,t,n),this._model.data[e.jstree.root].type=e.jstree.root},this.bind=function(){this.element.on("model.jstree",function(n,r){var i,a,o,s=this._model.data,c=r.nodes,d=this.settings.types,l="default";for(i=0,a=c.length;i<a;i++){if(l="default",s[c[i]].original&&s[c[i]].original.type&&d[s[c[i]].original.type]&&(l=s[c[i]].original.type),s[c[i]].data&&s[c[i]].data.jstree&&s[c[i]].data.jstree.type&&d[s[c[i]].data.jstree.type]&&(l=s[c[i]].data.jstree.type),s[c[i]].type=l,!0===s[c[i]].icon&&d[l].icon!==t&&(s[c[i]].icon=d[l].icon),d[l].li_attr!==t&&"object"==typeof d[l].li_attr)for(o in d[l].li_attr)if(d[l].li_attr.hasOwnProperty(o)){if("id"===o)continue;s[c[i]].li_attr[o]===t?s[c[i]].li_attr[o]=d[l].li_attr[o]:"class"===o&&(s[c[i]].li_attr.class=d[l].li_attr.class+" "+s[c[i]].li_attr.class)}if(d[l].a_attr!==t&&"object"==typeof d[l].a_attr)for(o in d[l].a_attr)if(d[l].a_attr.hasOwnProperty(o)){if("id"===o)continue;s[c[i]].a_attr[o]===t?s[c[i]].a_attr[o]=d[l].a_attr[o]:"href"===o&&"#"===s[c[i]].a_attr[o]?s[c[i]].a_attr.href=d[l].a_attr.href:"class"===o&&(s[c[i]].a_attr.class=d[l].a_attr.class+" "+s[c[i]].a_attr.class)}}s[e.jstree.root].type=e.jstree.root}.bind(this)),r.bind.call(this)},this.get_json=function(t,n,i){var a,o,s=this._model.data,c=n?e.extend(!0,{},n,{no_id:!1}):{},d=r.get_json.call(this,t,c,i);if(!1===d)return!1;if(e.vakata.is_array(d))for(a=0,o=d.length;a<o;a++)d[a].type=d[a].id&&s[d[a].id]&&s[d[a].id].type?s[d[a].id].type:"default",n&&n.no_id&&(delete d[a].id,d[a].li_attr&&d[a].li_attr.id&&delete d[a].li_attr.id,d[a].a_attr&&d[a].a_attr.id&&delete d[a].a_attr.id);else d.type=d.id&&s[d.id]&&s[d.id].type?s[d.id].type:"default",n&&n.no_id&&(d=this._delete_ids(d));return d},this._delete_ids=function(t){if(e.vakata.is_array(t)){for(var n=0,r=t.length;n<r;n++)t[n]=this._delete_ids(t[n]);return t}return delete t.id,t.li_attr&&t.li_attr.id&&delete t.li_attr.id,t.a_attr&&t.a_attr.id&&delete t.a_attr.id,t.children&&e.vakata.is_array(t.children)&&(t.children=this._delete_ids(t.children)),t},this.check=function(n,i,a,o,s){if(!1===r.check.call(this,n,i,a,o,s))return!1;i=i&&i.id?i:this.get_node(i),a=a&&a.id?a:this.get_node(a);var c,d,l,h,u=i&&i.id?s&&s.origin?s.origin:e.jstree.reference(i.id):null;switch(u=u&&u._model&&u._model.data?u._model.data:null,n){case"create_node":case"move_node":case"copy_node":if("move_node"!==n||-1===e.inArray(i.id,a.children)){if((c=this.get_rules(a)).max_children!==t&&-1!==c.max_children&&c.max_children===a.children.length)return this._data.core.last_error={error:"check",plugin:"types",id:"types_01",reason:"max_children prevents function: "+n,data:JSON.stringify({chk:n,pos:o,obj:!(!i||!i.id)&&i.id,par:!(!a||!a.id)&&a.id})},!1;if(c.valid_children!==t&&-1!==c.valid_children&&-1===e.inArray(i.type||"default",c.valid_children))return this._data.core.last_error={error:"check",plugin:"types",id:"types_02",reason:"valid_children prevents function: "+n,data:JSON.stringify({chk:n,pos:o,obj:!(!i||!i.id)&&i.id,par:!(!a||!a.id)&&a.id})},!1;if(u&&i.children_d&&i.parents){for(d=0,l=0,h=i.children_d.length;l<h;l++)d=Math.max(d,u[i.children_d[l]].parents.length);d=d-i.parents.length+1}(d<=0||d===t)&&(d=1);do{if(c.max_depth!==t&&-1!==c.max_depth&&c.max_depth<d)return this._data.core.last_error={error:"check",plugin:"types",id:"types_03",reason:"max_depth prevents function: "+n,data:JSON.stringify({chk:n,pos:o,obj:!(!i||!i.id)&&i.id,par:!(!a||!a.id)&&a.id})},!1;a=this.get_node(a.parent),c=this.get_rules(a),d++}while(a)}}return!0},this.get_rules=function(e){if(!(e=this.get_node(e)))return!1;var n=this.get_type(e,!0);return n.max_depth===t&&(n.max_depth=-1),n.max_children===t&&(n.max_children=-1),n.valid_children===t&&(n.valid_children=-1),n},this.get_type=function(t,n){return!!(t=this.get_node(t))&&(n?e.extend({type:t.type},this.settings.types[t.type]):t.type)},this.set_type=function(n,r){var i,a,o,s,c,d,l,h,u=this._model.data;if(e.vakata.is_array(n)){for(a=0,o=(n=n.slice()).length;a<o;a++)this.set_type(n[a],r);return!0}if(i=this.settings.types,n=this.get_node(n),!i[r]||!n)return!1;if((l=this.get_node(n,!0))&&l.length&&(h=l.children(".jstree-anchor")),s=n.type,c=this.get_icon(n),n.type=r,(!0===c||!i[s]||i[s].icon!==t&&c===i[s].icon)&&this.set_icon(n,i[r].icon===t||i[r].icon),i[s]&&i[s].li_attr!==t&&"object"==typeof i[s].li_attr)for(d in i[s].li_attr)if(i[s].li_attr.hasOwnProperty(d)){if("id"===d)continue;"class"===d?(u[n.id].li_attr.class=(u[n.id].li_attr.class||"").replace(i[s].li_attr[d],""),l&&l.removeClass(i[s].li_attr[d])):u[n.id].li_attr[d]===i[s].li_attr[d]&&(u[n.id].li_attr[d]=null,l&&l.removeAttr(d))}if(i[s]&&i[s].a_attr!==t&&"object"==typeof i[s].a_attr)for(d in i[s].a_attr)if(i[s].a_attr.hasOwnProperty(d)){if("id"===d)continue;"class"===d?(u[n.id].a_attr.class=(u[n.id].a_attr.class||"").replace(i[s].a_attr[d],""),h&&h.removeClass(i[s].a_attr[d])):u[n.id].a_attr[d]===i[s].a_attr[d]&&("href"===d?(u[n.id].a_attr[d]="#",h&&h.attr("href","#")):(delete u[n.id].a_attr[d],h&&h.removeAttr(d)))}if(i[r].li_attr!==t&&"object"==typeof i[r].li_attr)for(d in i[r].li_attr)if(i[r].li_attr.hasOwnProperty(d)){if("id"===d)continue;u[n.id].li_attr[d]===t?(u[n.id].li_attr[d]=i[r].li_attr[d],l&&("class"===d?l.addClass(i[r].li_attr[d]):l.attr(d,i[r].li_attr[d]))):"class"===d&&(u[n.id].li_attr.class=i[r].li_attr[d]+" "+u[n.id].li_attr.class,l&&l.addClass(i[r].li_attr[d]))}if(i[r].a_attr!==t&&"object"==typeof i[r].a_attr)for(d in i[r].a_attr)if(i[r].a_attr.hasOwnProperty(d)){if("id"===d)continue;u[n.id].a_attr[d]===t?(u[n.id].a_attr[d]=i[r].a_attr[d],h&&("class"===d?h.addClass(i[r].a_attr[d]):h.attr(d,i[r].a_attr[d]))):"href"===d&&"#"===u[n.id].a_attr[d]?(u[n.id].a_attr.href=i[r].a_attr.href,h&&h.attr("href",i[r].a_attr.href)):"class"===d&&(u[n.id].a_attr.class=i[r].a_attr.class+" "+u[n.id].a_attr.class,h&&h.addClass(i[r].a_attr[d]))}return!0}},e.jstree.defaults.unique={case_sensitive:!1,trim_whitespace:!1,duplicate:function(e,t){return e+" ("+t+")"}},e.jstree.plugins.unique=function(n,r){this.check=function(t,n,i,a,o){if(!1===r.check.call(this,t,n,i,a,o))return!1;if(n=n&&n.id?n:this.get_node(n),!(i=i&&i.id?i:this.get_node(i))||!i.children)return!0;var s,c,d,l="rename_node"===t?a:n.text,h=[],u=this.settings.unique.case_sensitive,p=this.settings.unique.trim_whitespace,f=this._model.data;for(s=0,c=i.children.length;s<c;s++)d=f[i.children[s]].text,u||(d=d.toLowerCase()),p&&(d=d.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),h.push(d);switch(u||(l=l.toLowerCase()),p&&(l=l.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),t){case"delete_node":return!0;case"rename_node":return d=n.text||"",u||(d=d.toLowerCase()),p&&(d=d.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),(s=-1===e.inArray(l,h)||n.text&&d===l)||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_01",reason:"Child with name "+l+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:a,obj:!(!n||!n.id)&&n.id,par:!(!i||!i.id)&&i.id})}),s;case"create_node":return(s=-1===e.inArray(l,h))||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_04",reason:"Child with name "+l+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:a,obj:!(!n||!n.id)&&n.id,par:!(!i||!i.id)&&i.id})}),s;case"copy_node":return(s=-1===e.inArray(l,h))||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_02",reason:"Child with name "+l+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:a,obj:!(!n||!n.id)&&n.id,par:!(!i||!i.id)&&i.id})}),s;case"move_node":return(s=n.parent===i.id&&(!o||!o.is_multi)||-1===e.inArray(l,h))||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_03",reason:"Child with name "+l+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:a,obj:!(!n||!n.id)&&n.id,par:!(!i||!i.id)&&i.id})}),s}return!0},this.create_node=function(n,i,a,o,s){if(!i||i.text===t){if(null===n&&(n=e.jstree.root),!(n=this.get_node(n)))return r.create_node.call(this,n,i,a,o,s);if(!(a=a===t?"last":a).toString().match(/^(before|after)$/)&&!s&&!this.is_loaded(n))return r.create_node.call(this,n,i,a,o,s);i||(i={});var c,d,l,h,u,p,f=this._model.data,g=this.settings.unique.case_sensitive,_=this.settings.unique.trim_whitespace,m=this.settings.unique.duplicate;for(d=c=this.get_string("New node"),l=[],h=0,u=n.children.length;h<u;h++)p=f[n.children[h]].text,g||(p=p.toLowerCase()),_&&(p=p.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),l.push(p);for(h=1,p=d,g||(p=p.toLowerCase()),_&&(p=p.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""));-1!==e.inArray(p,l);)p=d=m.call(this,c,++h).toString(),g||(p=p.toLowerCase()),_&&(p=p.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""));i.text=d}return r.create_node.call(this,n,i,a,o,s)}};var g=c.createElement("DIV");if(g.setAttribute("unselectable","on"),g.setAttribute("role","presentation"),g.className="jstree-wholerow",g.innerHTML="&#160;",e.jstree.plugins.wholerow=function(t,n){this.bind=function(){n.bind.call(this),this.element.on("ready.jstree set_state.jstree",function(){this.hide_dots()}.bind(this)).on("init.jstree loading.jstree ready.jstree",function(){this.get_container_ul().addClass("jstree-wholerow-ul")}.bind(this)).on("deselect_all.jstree",function(e,t){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked")}.bind(this)).on("changed.jstree",function(e,t){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked");var n,r,i=!1;for(n=0,r=t.selected.length;n<r;n++)(i=this.get_node(t.selected[n],!0))&&i.length&&i.children(".jstree-wholerow").addClass("jstree-wholerow-clicked")}.bind(this)).on("open_node.jstree",function(e,t){this.get_node(t.node,!0).find(".jstree-clicked").parent().children(".jstree-wholerow").addClass("jstree-wholerow-clicked")}.bind(this)).on("hover_node.jstree dehover_node.jstree",function(e,t){"hover_node"===e.type&&this.is_disabled(t.node)||this.get_node(t.node,!0).children(".jstree-wholerow")["hover_node"===e.type?"addClass":"removeClass"]("jstree-wholerow-hovered")}.bind(this)).on("contextmenu.jstree",".jstree-wholerow",function(t){if(this._data.contextmenu){t.preventDefault();var n=e.Event("contextmenu",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,pageX:t.pageX,pageY:t.pageY});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(n)}}.bind(this)).on("click.jstree",".jstree-wholerow",(function(t){t.stopImmediatePropagation();var n=e.Event("click",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(n).trigger("focus")})).on("dblclick.jstree",".jstree-wholerow",(function(t){t.stopImmediatePropagation();var n=e.Event("dblclick",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(n).trigger("focus")})).on("click.jstree",".jstree-leaf > .jstree-ocl",function(t){t.stopImmediatePropagation();var n=e.Event("click",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(n).trigger("focus")}.bind(this)).on("mouseover.jstree",".jstree-wholerow, .jstree-icon",function(e){return e.stopImmediatePropagation(),this.is_disabled(e.currentTarget)||this.hover_node(e.currentTarget),!1}.bind(this)).on("mouseleave.jstree",".jstree-node",function(e){this.dehover_node(e.currentTarget)}.bind(this))},this.teardown=function(){this.settings.wholerow&&this.element.find(".jstree-wholerow").remove(),n.teardown.call(this)},this.redraw_node=function(t,r,i,a){if(t=n.redraw_node.apply(this,arguments)){var o=g.cloneNode(!0);-1!==e.inArray(t.id,this._data.core.selected)&&(o.className+=" jstree-wholerow-clicked"),this._data.core.focused&&this._data.core.focused===t.id&&(o.className+=" jstree-wholerow-hovered"),t.insertBefore(o,t.childNodes[0])}return t}},window.customElements&&Object&&Object.create){var _=Object.create(HTMLElement.prototype);_.createdCallback=function(){var t,n={core:{},plugins:[]};for(t in e.jstree.plugins)e.jstree.plugins.hasOwnProperty(t)&&this.attributes[t]&&(n.plugins.push(t),this.getAttribute(t)&&JSON.parse(this.getAttribute(t))&&(n[t]=JSON.parse(this.getAttribute(t))));for(t in e.jstree.defaults.core)e.jstree.defaults.core.hasOwnProperty(t)&&this.attributes[t]&&(n.core[t]=JSON.parse(this.getAttribute(t))||this.getAttribute(t));e(this).jstree(n)};try{window.customElements.define("vakata-jstree",(function(){}),{prototype:_})}catch(e){}}}},void 0===(a=r.apply(t,i))||(e.exports=a)}()}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var a=n[e]={id:e,loaded:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.loaded=!0,a.exports}r.m=t,e=[],r.O=function(t,n,i,a){if(!n){var o=1/0;for(l=0;l<e.length;l++){n=e[l][0],i=e[l][1],a=e[l][2];for(var s=!0,c=0;c<n.length;c++)(!1&a||o>=a)&&Object.keys(r.O).every((function(e){return r.O[e](n[c])}))?n.splice(c--,1):(s=!1,a<o&&(o=a));if(s){e.splice(l--,1);var d=i();void 0!==d&&(t=d)}}return t}a=a||0;for(var l=e.length;l>0&&e[l-1][2]>a;l--)e[l]=e[l-1];e[l]=[n,i,a]},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},r.j=803,r.p="/",function(){r.b=document.baseURI||self.location.href;var e={803:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var i,a,o=n[0],s=n[1],c=n[2],d=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)r.o(s,i)&&(r.m[i]=s[i]);if(c)var l=c(r)}for(t&&t(n);d<o.length;d++)a=o[d],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return r.O(l)},n=self.webpackChunkjsserver_web=self.webpackChunkjsserver_web||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}(),r.nc=void 0;var i=r.O(void 0,[351],(function(){return r(2806)}));i=r.O(i)}();